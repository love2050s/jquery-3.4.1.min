(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t){},1:function(e,t,i){e.exports=i("zUnb")},"2XTe":function(e){e.exports=JSON.parse('{"login":{"id":1,"displayName":"Login","logicalName":"login","routeUrl":"login","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label4","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label5","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button6","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"loginUser","url":"/user/login","params":[]}]}]}]},"forgotPassword":{"id":1,"displayName":"Forgot Password","logicalName":"forgotPassword","routeUrl":"forgot-password","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button29","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"forgotUser","url":"/user/forgotpassword","params":[]}]}]}]},"onBoarding":{"id":1,"displayName":"On Boarding","logicalName":"onBoarding","routeUrl":"on-boarding","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"emailid","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label2","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"regex":{"message":"commonSections.messages.patternMessages.message8","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":2,"fields":[{"fieldType":"password-toggle","displayName":"onBoarding.formLabel.label8","logicalName":"confirmPassword","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[{"functionName":"validatePassword","params":"password"}],"changeEmitterFields":[{"targetFieldLogicalName":"password","functionName":"validatePassword","params":"password"}],"placeholder":"commonSections.formLabel.label2","validations":{"regex":{"message":"commonSections.messages.patternMessages.message4","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"row":12,"fields":[{"displayName":"<span>I allow VFS Worldwide Group to process my personal data so that I can use the visa application services offered by them. For more details see <a class=\'c-brand-orange text-decoration-underline\' target=\'_blank\' href=\'register-privacy-policy\'>Privacy Policy</a>","logicalName":"instructionAgreed","referenceEntity":null,"mandatory":false,"defaultValueLookup":false,"applicableValuesTwoOptions":null,"readOnly":false,"placeholder":"","fieldType":"checkbox","hidden":false,"value":false,"onChangeEvent":[{"functionName":"tncChanged","params":[]}],"visaCategory":["1"],"accessibility":"ALL"}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button30","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"registerUser","url":"/user/registration","params":[]}]}]}]},"schema_default":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]){12,14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":8}}}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ihc":{"tenent":"ihc","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"centreCodeForRefenceNumber","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"readOnly":false,"fieldType":"textbox","cssClass":"col-4","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"([a-zA-Z]){4}$","key":"","type":"STATIC"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]},{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"col-8","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"centerCode","key":"setGovtRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true,"bundleName":"contact","bundleLabel":"applicantInformation.formLabel.label14"},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label1","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message13","value":"^[a-zA-Z][a-zA-Z ]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"defaultValueOptionSet":null}],"mandatory":false},{"row":1,"mandatory":true,"fields":[{"displayName":"applicantInformation.formLabel.label19","logicalName":"middleName","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label15","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message29","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message30"},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"","toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableMiddleName","type":"STATIC","value":"enableMiddleName"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label21","logicalName":"passportType","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/passporttype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":null}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"180"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":8}}}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label14","logicalName":"postalInformation","routeUrl":"postal-information","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"postalInformation.formLabel.label8","logicalName":"courierType","defaultValueLookup":null,"defaultValueOptionSet":[],"readOnly":false,"placeholder":"commonSections.formLabel.label1","fieldType":"dropdown","validations":{"regex":null,"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/couriertype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label1","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label1","validations":{"regex":{"message":"commonSections.messages.patternMessages.message21","value":"^[0-9]*$"},"mandatory":{"message":"commonSections.messages.patternMessages.message21","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":{"message":"commonSections.messages.patternMessages.message21","value":4},"invalid":""},"onChangeEvent":[{"functionName":"updateListenerTextField","params":[{"key":"postalCode","type":"FORM_VALUE","value":"pincode"}],"url":"/courier/validatepostalcode","type":"POST"}],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label2","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label3","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":4,"fields":[{"displayName":"postalInformation.formLabel.label4","logicalName":"state","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","optionsListApi":{"online":{"url":"/master/state","type":"GET","getParamsType":"slash","displayKey":"stateName","valueKey":"isoCode","params":[{"key":"countryCode","type":"SESSION","value":"countrycode","mandatory":true}]},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":5,"fields":[{"displayName":"postalInformation.formLabel.label5","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z ]*[a-zA-Z]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"postalInformation.formLabel.label6","logicalName":"countryCode","defaultValueLookup":[{"type":"STATIC","value":"USA"}],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message3","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","getParamsType":"queryParam","params":[{"key":"serviceType","type":"SESSION","value":"cur_app_servicetype","mandatory":true}],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label11","logicalName":"courierServiceProvider","defaultValueOptionSet":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message5","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/courierserviceprovider","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label12","logicalName":"incomingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label3","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message8","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label13","logicalName":"outgoingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label4","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message9","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updatePostal","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updatePostal","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_fra":{"tenent":"fra","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([a-zA-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":8}}}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]}}')},"3N+h":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i("tk/3"),n=i("AytR"),o=i("QrD/"),s=i("fXoL"),l=i("cT3p");const r=n.a.apiEndPoint;let c=(()=>{class e{constructor(e,t){this.http=e,this.sessionService=t}doGet(e,t){return t?this.http.get(r+e,{params:t}):this.http.get(r+e)}slashParamsDoGet(e,t,i){let a=e;return t&&(a=e+"/"+Object.values(t).reduce((e,t)=>e+"/"+t)),a+=i||"",this.http.get(r+a)}getLamdaData(e,t){const i={headers:(new a.f).set("Authorization",this.sessionService.getJWT()).set("Content-Type","application/json;charset=utf-8")},n=t?this.convertParam("get",t):"";return this.http.get(r+e+n,i)}externalGet(e){return this.http.get(e)}convertParam(e="post",t={},i){return"post"===e?t:0===Object.keys(t).length?"":"param"===i?"string"==typeof t?"/"+t:Object.keys(t).map(e=>"/"+encodeURIComponent(t[e])).join(""):"string"==typeof t?"?"+t:"?"+Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&")}doPost(e,t){let i=new a.g;Object.keys(t).forEach(e=>{i=i.set(e,t[e])});const n={headers:(new a.f).set("Content-Type","application/x-www-form-urlencoded")};return this.http.post(r+e,i,n)}payloadPost(e,t){const i={headers:(new a.f).set("authorize",this.sessionService.getJWT()).set("Content-Type","application/json;charset=utf-8")};return this.http.post(r+e,t,i)}payloadWithoutTokenPost(e,t){const i={headers:(new a.f).set("Content-Type","application/json;charset=utf-8")};return this.http.post(r+e,t,i)}doCheck(e,t){let i;switch(e.type){case"GET":if(t){const s=new a.g({fromObject:t});i=(null==n.a?void 0:n.a.getParamsType)===o.d.SLASH&&(null==e?void 0:e.getParamsType)===o.d.SLASH?this.slashParamsDoGet(e.url,t):this.doGet(e.url,s)}else i=this.doGet(e.url);break;case"POST":i=this.doPost(e.url,t)}return i}}return e.\u0275fac=function(t){return new(t||e)(s.dc(a.c),s.dc(l.a))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"4h0v":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i("rIfo"),n=i("fXoL");let o=(()=>{class e{constructor(){this.subs=new a.a}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Kb({type:e}),e})()},"8ajC":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return j}));var a=i("mrSG"),n=i("0IaG"),o=i("TCge"),s=i("C+1A"),l=i("KD1d"),r=i("fXoL"),c=i("ofXK"),d=i("3Pt+"),u=i("Wp6s"),p=i("bTqV"),m=i("7EHt"),b=i("bSwM"),h=i("sYmb");function g(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"div",12),r.Vb(2,"div",13),r.Qb(3,"i",14),r.Vb(4,"div"),r.Oc(5),r.Ub(),r.Ub(),r.Ub(),r.Sb()),2&e){const e=r.lc(2);r.Bb(5),r.Pc(e.proceedFailMsg)}}function f(e,t){if(1&e&&(r.Vb(0,"li",20),r.Vb(1,"div",4),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"div",21),r.Oc(5),r.Ub(),r.Ub()),2&e){const e=r.lc(3);r.Bb(2),r.Pc(r.nc(3,2,"reviewAndPayment.formLabel.label24")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.serviceType)}}function v(e,t){if(1&e&&(r.Vb(0,"li",20),r.Vb(1,"div",4),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"div",21),r.Oc(5),r.Ub(),r.Ub()),2&e){const e=r.lc(3);r.Bb(2),r.Pc(r.nc(3,2,"eligibilityCriteria.formLabel.label15")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.nationalityName)}}function y(e,t){if(1&e&&(r.Vb(0,"li",20),r.Vb(1,"div",4),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"div",21),r.Oc(5),r.Ub(),r.Ub()),2&e){const e=r.lc(3);r.Bb(2),r.Pc(r.nc(3,2,"eligibilityCriteria.formLabel.label14")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.entryType)}}function S(e,t){if(1&e&&(r.Vb(0,"li",20),r.Vb(1,"div",4),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"div",21),r.Oc(5),r.Ub(),r.Ub()),2&e){const e=r.lc(3);r.Bb(2),r.Pc(r.nc(3,2,"eligibilityCriteria.formLabel.label13")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.visaType)}}function C(e,t){if(1&e&&(r.Vb(0,"li",20),r.Vb(1,"div",4),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"div",21),r.Oc(5),r.Ub(),r.Ub()),2&e){const e=r.lc(3);r.Bb(2),r.Pc(r.nc(3,2,"eligibilityCriteria.formLabel.label12")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.applicationType)}}function O(e,t){if(1&e&&(r.Vb(0,"tr"),r.Vb(1,"td",34),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"td",35),r.Oc(5),r.Ub(),r.Ub()),2&e){const e=r.lc().$implicit;r.Bb(2),r.Qc("",r.nc(3,2,"postalInformation.formLabel.label8")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)}}function I(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"tr"),r.Vb(2,"td",34),r.Oc(3),r.mc(4,"translate"),r.Ub(),r.Vb(5,"td",35),r.Oc(6),r.Ub(),r.Ub(),r.Vb(7,"tr"),r.Vb(8,"td",34),r.Oc(9),r.mc(10,"translate"),r.Ub(),r.Vb(11,"td",35),r.Oc(12),r.Ub(),r.Ub(),r.Vb(13,"tr"),r.Vb(14,"td",34),r.Oc(15),r.mc(16,"translate"),r.Ub(),r.Vb(17,"td",35),r.Oc(18),r.Ub(),r.Ub(),r.Vb(19,"tr"),r.Vb(20,"td",34),r.Oc(21),r.mc(22,"translate"),r.Ub(),r.Vb(23,"td",35),r.Oc(24),r.Ub(),r.Ub(),r.Vb(25,"tr"),r.Vb(26,"td",34),r.Oc(27),r.mc(28,"translate"),r.Ub(),r.Vb(29,"td",35),r.Oc(30),r.Ub(),r.Ub(),r.Vb(31,"tr"),r.Vb(32,"td",34),r.Oc(33),r.mc(34,"translate"),r.Ub(),r.Vb(35,"td",35),r.Oc(36),r.Ub(),r.Ub(),r.Sb()),2&e){const e=r.lc().$implicit;r.Bb(3),r.Qc("",r.nc(4,12,"postalInformation.formLabel.label1")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].pincode),r.Bb(3),r.Qc("",r.nc(10,14,"postalInformation.formLabel.label2")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline1),r.Bb(3),r.Qc("",r.nc(16,16,"postalInformation.formLabel.label3")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline2),r.Bb(3),r.Qc("",r.nc(22,18,"postalInformation.formLabel.label4")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].state),r.Bb(3),r.Qc("",r.nc(28,20,"postalInformation.formLabel.label5")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].city),r.Bb(3),r.Qc("",r.nc(34,22,"postalInformation.formLabel.label6")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].countryCode)}}function L(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"tr"),r.Vb(2,"td",34),r.Oc(3),r.mc(4,"translate"),r.Ub(),r.Vb(5,"td",35),r.Oc(6),r.Ub(),r.Ub(),r.Vb(7,"tr"),r.Vb(8,"td",34),r.Oc(9),r.mc(10,"translate"),r.Ub(),r.Vb(11,"td",35),r.Oc(12),r.Ub(),r.Ub(),r.Vb(13,"tr"),r.Vb(14,"td",34),r.Oc(15),r.mc(16,"translate"),r.Ub(),r.Vb(17,"td",35),r.Oc(18),r.Ub(),r.Ub(),r.Sb()),2&e){const e=r.lc().$implicit;r.Bb(3),r.Qc("",r.nc(4,6,"postalInformation.formLabel.label11")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierServiceProvider),r.Bb(3),r.Qc("",r.nc(10,8,"postalInformation.formLabel.label12")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].incomingAWBNumber),r.Bb(3),r.Qc("",r.nc(16,10,"postalInformation.formLabel.label13")," :"),r.Bb(3),r.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].outgoingAWBNumber)}}function T(e,t){if(1&e){const e=r.Wb();r.Vb(0,"mat-expansion-panel"),r.Vb(1,"mat-expansion-panel-header",27),r.Vb(2,"div",28),r.Vb(3,"div",29),r.Oc(4),r.mc(5,"translate"),r.Ub(),r.Vb(6,"div",30),r.Oc(7),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"table",31),r.Vb(9,"tr"),r.Vb(10,"td",32),r.Vb(11,"span",33),r.hc("click",(function(){r.Fc(e);const i=t.index;return r.lc(4).editYourDetails(i)})),r.Oc(12),r.mc(13,"translate"),r.Ub(),r.Ub(),r.Ub(),r.Vb(14,"tr"),r.Vb(15,"td",34),r.Oc(16),r.mc(17,"translate"),r.Ub(),r.Vb(18,"td",35),r.Oc(19),r.Ub(),r.Ub(),r.Vb(20,"tr"),r.Vb(21,"td",34),r.Oc(22),r.mc(23,"translate"),r.Ub(),r.Vb(24,"td",35),r.Oc(25),r.Ub(),r.Ub(),r.Vb(26,"tr"),r.Vb(27,"td",34),r.Oc(28),r.mc(29,"translate"),r.Ub(),r.Vb(30,"td",35),r.Oc(31),r.Ub(),r.Ub(),r.Vb(32,"tr"),r.Vb(33,"td",34),r.Oc(34),r.mc(35,"translate"),r.Ub(),r.Vb(36,"td",35),r.Oc(37),r.Ub(),r.Ub(),r.Vb(38,"tr"),r.Vb(39,"td",34),r.Oc(40),r.mc(41,"translate"),r.Ub(),r.Vb(42,"td",35),r.Oc(43),r.Ub(),r.Ub(),r.Vb(44,"tr"),r.Vb(45,"td",34),r.Oc(46),r.mc(47,"translate"),r.Ub(),r.Vb(48,"td",35),r.Oc(49),r.Ub(),r.Ub(),r.Mc(50,O,6,4,"tr",1),r.Mc(51,I,37,24,"ng-container",1),r.Mc(52,L,19,12,"ng-container",1),r.Vb(53,"tr"),r.Vb(54,"td",36),r.Vb(55,"span",33),r.hc("click",(function(){r.Fc(e);const i=t.index;return r.lc(4).openDialog(i)})),r.Oc(56),r.mc(57,"translate"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit,i=t.index,a=r.lc(4);r.Bb(1),r.tc("@.disabled",!0),r.Bb(3),r.Rc("",r.nc(5,21,"reviewAndPayment.formLabel.label6")," ",i+1,""),r.Bb(3),r.Pc((null==e?null:e.firstName)+" "+(null==e?null:e.lastName)),r.Bb(5),r.Pc(r.nc(13,23,"reviewAndPayment.buttons.button1")),r.Bb(4),r.Qc("",r.nc(17,25,"applicantInformation.formLabel.label4")," :"),r.Bb(3),r.Pc(null==e?null:e.dob),r.Bb(3),r.Qc("",r.nc(23,27,"applicantInformation.formLabel.label5")," :"),r.Bb(3),r.Pc(null==e?null:e.countryName),r.Bb(3),r.Qc("",r.nc(29,29,"applicantInformation.formLabel.label6")," :"),r.Bb(3),r.Pc(null==e?null:e.passportNumber),r.Bb(3),r.Qc("",r.nc(35,31,"applicantInformation.formLabel.label7")," :"),r.Bb(3),r.Pc(null==e?null:e.passportExpiry),r.Bb(3),r.Qc("",r.nc(41,33,"applicantInformation.formLabel.label11")," :"),r.Bb(3),r.Pc(null==e?null:e.contactNumber),r.Bb(3),r.Qc("",r.nc(47,35,"applicantInformation.formLabel.label9")," :"),r.Bb(3),r.Pc(null==e?null:e.emailId),r.Bb(1),r.tc("ngIf",a.commonService.checkIfPostal(a.applicationType)),r.Bb(1),r.tc("ngIf",a.commonService.checkIfPostal(a.applicationType)&&!a.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)),r.Bb(1),r.tc("ngIf",a.commonService.checkIfPostal(a.applicationType)&&a.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)),r.Bb(4),r.Pc(r.nc(57,37,"reviewAndPayment.formLabel.label13"))}}function V(e,t){if(1&e&&(r.Vb(0,"mat-accordion",25),r.Mc(1,T,58,39,"mat-expansion-panel",26),r.Ub()),2&e){const e=r.lc(3);r.Bb(1),r.tc("ngForOf",null==e.reviewPaymentData?null:e.reviewPaymentData.yourDetail)("ngForTrackBy",e.trackByFn)}}function A(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"div",15),r.Vb(2,"div",16),r.Vb(3,"h2",17),r.Oc(4),r.mc(5,"translate"),r.Ub(),r.Ub(),r.Ub(),r.Vb(6,"div",18),r.Vb(7,"ul",19),r.Vb(8,"li",20),r.Vb(9,"div",4),r.Oc(10),r.mc(11,"translate"),r.Ub(),r.Vb(12,"div",21),r.Oc(13),r.Ub(),r.Ub(),r.Vb(14,"li",20),r.Vb(15,"div",4),r.Oc(16),r.mc(17,"translate"),r.Ub(),r.Vb(18,"div",21),r.Oc(19),r.Ub(),r.Ub(),r.Vb(20,"li",20),r.Vb(21,"div",4),r.Oc(22),r.mc(23,"translate"),r.Ub(),r.Vb(24,"div",21),r.Oc(25),r.Ub(),r.Ub(),r.Mc(26,f,6,4,"li",22),r.Vb(27,"li",20),r.Vb(28,"div",4),r.Oc(29),r.mc(30,"translate"),r.Ub(),r.Vb(31,"div",21),r.Oc(32),r.Ub(),r.Ub(),r.Vb(33,"li",20),r.Vb(34,"div",4),r.Oc(35),r.mc(36,"translate"),r.Ub(),r.Vb(37,"div",21),r.Oc(38),r.Ub(),r.Ub(),r.Mc(39,v,6,4,"li",22),r.Mc(40,y,6,4,"li",22),r.Mc(41,S,6,4,"li",22),r.Mc(42,C,6,4,"li",22),r.Ub(),r.Ub(),r.Vb(43,"h2",23),r.Oc(44),r.mc(45,"translate"),r.Ub(),r.Mc(46,V,2,2,"mat-accordion",24),r.Sb()),2&e){const e=r.lc(2);r.Bb(4),r.Pc(r.nc(5,18,"reviewAndPayment.headerLabel.label2")),r.Bb(6),r.Pc(r.nc(11,20,"eligibilityCriteria.formLabel.label4")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.countryName),r.Bb(3),r.Pc(r.nc(17,22,"eligibilityCriteria.formLabel.label5")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.missionName),r.Bb(3),r.Pc(r.nc(23,24,"reviewAndPayment.formLabel.label3")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.vacCodeName),r.Bb(1),r.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.serviceType),r.Bb(3),r.Pc(r.nc(30,26,"reviewAndPayment.formLabel.label4")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.visaCategoryName),r.Bb(3),r.Pc(r.nc(36,28,"reviewAndPayment.formLabel.label5")),r.Bb(3),r.Pc(null==e.reviewPaymentData?null:e.reviewPaymentData.visaSubCategoryName),r.Bb(1),r.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.nationalityName),r.Bb(1),r.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.entryType),r.Bb(1),r.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.visaType),r.Bb(1),r.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.applicationType),r.Bb(2),r.Pc(r.nc(45,30,"reviewAndPayment.headerLabel.label3")),r.Bb(2),r.tc("ngIf",null==e.reviewPaymentData?null:e.reviewPaymentData.yourDetail)}}function N(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",38),r.Vb(1,"span",33),r.hc("click",(function(){r.Fc(e);const t=r.lc(3);return t.route(t.constants.modules.BOOK_APPOINTMENT)})),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Ub()}2&e&&(r.Bb(2),r.Pc(r.nc(3,1,"reviewAndPayment.buttons.button1")))}function D(e,t){if(1&e&&(r.Vb(0,"div",15),r.Vb(1,"div",16),r.Vb(2,"h2",17),r.Oc(3),r.mc(4,"translate"),r.Ub(),r.Ub(),r.Mc(5,N,4,3,"div",37),r.Ub()),2&e){const e=r.lc(2);r.Bb(3),r.Pc(r.nc(4,2,"reviewAndPayment.headerLabel.label4")),r.Bb(2),r.tc("ngIf",!e.isRescheduleAptmntMode)}}function E(e,t){if(1&e&&(r.Vb(0,"div",18),r.Vb(1,"ul",19),r.Vb(2,"li",20),r.Vb(3,"div",4),r.Oc(4),r.mc(5,"translate"),r.Ub(),r.Vb(6,"div",21),r.Oc(7),r.Ub(),r.Ub(),r.Vb(8,"li",20),r.Vb(9,"div",4),r.Oc(10),r.mc(11,"translate"),r.Ub(),r.Vb(12,"div",21),r.Oc(13),r.mc(14,"date"),r.Ub(),r.Ub(),r.Vb(15,"li",20),r.Vb(16,"div",4),r.Oc(17),r.mc(18,"translate"),r.Ub(),r.Vb(19,"div",21),r.Oc(20),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&e){const e=r.lc(2);r.Bb(4),r.Pc(r.nc(5,6,"reviewAndPayment.formLabel.label14")),r.Bb(3),r.Pc(null==e.reviewPaymentData||null==e.reviewPaymentData.bookAppointment?null:e.reviewPaymentData.bookAppointment.slotTypeName),r.Bb(3),r.Pc(r.nc(11,8,"reviewAndPayment.formLabel.label15")),r.Bb(3),r.Pc(r.oc(14,10,null==e.reviewPaymentData||null==e.reviewPaymentData.bookAppointment?null:e.reviewPaymentData.bookAppointment.date,"dd/MM/yyyy")),r.Bb(4),r.Pc(r.nc(18,13,"reviewAndPayment.formLabel.label16")),r.Bb(3),r.Pc(null==e.reviewPaymentData||null==e.reviewPaymentData.bookAppointment?null:e.reviewPaymentData.bookAppointment.allocationSlot)}}function P(e,t){if(1&e&&(r.Vb(0,"div",44),r.Vb(1,"div",8),r.Vb(2,"div",45),r.Oc(3),r.Ub(),r.Qb(4,"div",46),r.Vb(5,"div",47),r.Oc(6),r.mc(7,"number"),r.Ub(),r.Ub(),r.Ub()),2&e){const e=r.lc().$implicit,t=r.lc(3);r.Bb(3),r.Pc(null==e?null:e.feeName),r.Bb(3),r.Rc("",t.currencyCode," ",r.oc(7,3,null==e?null:e.feeAmount,"1.2-2"),"")}}function w(e,t){if(1&e&&(r.Tb(0),r.Mc(1,P,8,6,"div",43),r.Sb()),2&e){const e=t.$implicit;r.Bb(1),r.tc("ngIf",(null==e?null:e.feeAmount)>0)}}const U=function(){return[]};function B(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"h2",23),r.Oc(2),r.mc(3,"translate"),r.Ub(),r.Vb(4,"div",39),r.Vb(5,"div",40),r.Mc(6,w,2,1,"ng-container",26),r.Vb(7,"div",41),r.Vb(8,"div",8),r.Vb(9,"div",16),r.Oc(10),r.mc(11,"translate"),r.Ub(),r.Vb(12,"div",42),r.Oc(13),r.mc(14,"number"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Sb()),2&e){const e=r.lc(2);r.Bb(2),r.Pc(r.nc(3,6,"reviewAndPayment.headerLabel.label5")),r.Bb(4),r.tc("ngForOf",(null==e.reviewPaymentData?null:e.reviewPaymentData.fees)||r.wc(13,U))("ngForTrackBy",e.trackByFn),r.Bb(4),r.Pc(r.nc(11,8,"reviewAndPayment.formLabel.label17")),r.Bb(3),r.Rc(" ",e.currencyCode," ",r.oc(14,10,null==e.reviewPaymentData?null:e.reviewPaymentData.feesTotal,"1.2-2")," ")}}function M(e,t){if(1&e){const e=r.Wb();r.Vb(0,"span",33),r.hc("click",(function(){r.Fc(e);const t=r.lc(3);return t.route(t.constants.modules.SERVICES)})),r.Oc(1),r.mc(2,"translate"),r.Ub()}2&e&&(r.Bb(1),r.Pc(r.nc(2,1,"reviewAndPayment.buttons.button1")))}function k(e,t){if(1&e&&(r.Vb(0,"div",53),r.Vb(1,"div",55),r.Vb(2,"div",56),r.Oc(3),r.Ub(),r.Vb(4,"div",57),r.Vb(5,"div",52),r.Oc(6),r.Ub(),r.Oc(7),r.mc(8,"translate"),r.Ub(),r.Vb(9,"div",58),r.Vb(10,"div",52),r.Oc(11),r.Ub(),r.Oc(12),r.mc(13,"number"),r.Ub(),r.Ub(),r.Ub()),2&e){const e=t.$implicit,i=r.lc(3);r.Bb(3),r.Pc(null==e?null:e.name),r.Bb(3),r.Pc(null==e?null:e.unit),r.Bb(1),r.Qc(" ",r.nc(8,5,"reviewAndPayment.formLabel.label19")," "),r.Bb(4),r.Pc(i.currencyCode),r.Bb(1),r.Qc(" ",r.oc(13,7,(null==e?null:e.unit)*(null==e?null:e.amount),"1.2-2")," ")}}function F(e,t){if(1&e&&(r.Vb(0,"div",8),r.Vb(1,"div",59),r.Oc(2),r.mc(3,"translate"),r.mc(4,"number"),r.Ub(),r.Ub()),2&e){const e=r.lc(3);r.Bb(2),r.Sc(" ",r.nc(3,3,"reviewAndPayment.pageDetails.para3")," ",e.currencyCode," ",r.oc(4,5,null==e.reviewPaymentData?null:e.reviewPaymentData.serviceFeeTax,"1.2-2")," ")}}function _(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"div",15),r.Vb(2,"div",16),r.Vb(3,"h2",17),r.Oc(4),r.mc(5,"translate"),r.Ub(),r.Ub(),r.Vb(6,"div",38),r.Mc(7,M,3,3,"span",48),r.Ub(),r.Ub(),r.Vb(8,"div",39),r.Vb(9,"div",40),r.Mc(10,k,14,10,"div",49),r.Vb(11,"div",50),r.Vb(12,"div",51),r.Vb(13,"div",16),r.Oc(14),r.mc(15,"translate"),r.Ub(),r.Vb(16,"div",42),r.Vb(17,"div",52),r.Oc(18),r.Ub(),r.Oc(19),r.mc(20,"number"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(21,"div",53),r.Vb(22,"div",8),r.Vb(23,"div",16),r.Oc(24),r.mc(25,"translate"),r.Ub(),r.Vb(26,"div",42),r.Oc(27),r.mc(28,"number"),r.Ub(),r.Ub(),r.Mc(29,F,5,8,"div",54),r.Ub(),r.Ub(),r.Sb()),2&e){const e=r.lc(2);r.Bb(4),r.Pc(r.nc(5,11,"reviewAndPayment.headerLabel.label6")),r.Bb(3),r.tc("ngIf",!e.isRescheduleAptmntMode),r.Bb(3),r.tc("ngForOf",null==e.reviewPaymentData?null:e.reviewPaymentData.services)("ngForTrackBy",e.trackByFn),r.Bb(4),r.Pc(r.nc(15,13,"reviewAndPayment.formLabel.label17")),r.Bb(4),r.Pc(e.currencyCode),r.Bb(1),r.Qc(" ",r.oc(20,15,null==e.reviewPaymentData?null:e.reviewPaymentData.servicesTotal,"1.2-2")," "),r.Bb(5),r.Pc(r.nc(25,18,"reviewAndPayment.formLabel.label20")),r.Bb(3),r.Rc(" ",e.currencyCode," ",r.oc(28,20,null==e.reviewPaymentData?null:e.reviewPaymentData.overallTotal,"1.2-2")," "),r.Bb(2),r.tc("ngIf",(null==e.reviewPaymentData?null:e.reviewPaymentData.serviceFeeTax)>0)}}const x=function(){return{standalone:!0}};function R(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"div",60),r.Vb(2,"div",61),r.Vb(3,"mat-checkbox",62),r.hc("ngModelChange",(function(t){return r.Fc(e),r.lc(2).agreeToTermsAndCondition=t})),r.Vb(4,"span",63),r.Oc(5),r.mc(6,"translate"),r.Ub(),r.Ub(),r.Vb(7,"a",64),r.Vb(8,"span",65),r.Oc(9),r.mc(10,"translate"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(11,"div",66),r.Vb(12,"mat-checkbox",67),r.hc("ngModelChange",(function(t){return r.Fc(e),r.lc(2).canVFSReachoutToApplicant=t})),r.Vb(13,"span",68),r.Oc(14),r.mc(15,"translate"),r.Ub(),r.Ub(),r.Ub(),r.Sb()}if(2&e){const e=r.lc(2);r.Bb(3),r.tc("ngModel",e.agreeToTermsAndCondition)("ngModelOptions",r.wc(14,x)),r.Bb(2),r.Pc(r.nc(6,8,"reviewAndPayment.formLabel.label21")),r.Bb(2),r.tc("href",e.termCondition,r.Hc),r.Bb(2),r.Pc(r.nc(10,10,"reviewAndPayment.formLabel.label22")),r.Bb(3),r.tc("ngModel",e.canVFSReachoutToApplicant)("ngModelOptions",r.wc(15,x)),r.Bb(2),r.Pc(r.nc(15,12,"reviewAndPayment.formLabel.label23"))}}function G(e,t){if(1&e){const e=r.Wb();r.Vb(0,"form"),r.Vb(1,"mat-card",2),r.Mc(2,g,6,1,"ng-container",1),r.Vb(3,"h1",3),r.Oc(4),r.mc(5,"translate"),r.Ub(),r.Vb(6,"p",4),r.Oc(7),r.mc(8,"translate"),r.Ub(),r.Mc(9,A,47,32,"ng-container",1),r.Mc(10,D,6,4,"div",5),r.Mc(11,E,21,15,"div",6),r.Mc(12,B,15,14,"ng-container",1),r.Mc(13,_,30,23,"ng-container",1),r.Mc(14,R,16,16,"ng-container",1),r.Ub(),r.Vb(15,"mat-card",7),r.Vb(16,"div",8),r.Vb(17,"div",9),r.Vb(18,"button",10),r.hc("click",(function(){return r.Fc(e),r.lc().routePrevious()})),r.Oc(19),r.mc(20,"translate"),r.Ub(),r.Ub(),r.Vb(21,"div",9),r.Vb(22,"button",11),r.hc("click",(function(){return r.Fc(e),r.lc().submitCaptcha()})),r.Oc(23),r.mc(24,"translate"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&e){const e=r.lc();r.Bb(2),r.tc("ngIf",e.proceedFailMsg),r.Bb(2),r.Pc(r.nc(5,12,"reviewAndPayment.headerLabel.label1")),r.Bb(3),r.Pc(r.nc(8,14,"reviewAndPayment.pageDetails.para1")),r.Bb(2),r.tc("ngIf",!e.isRescheduleAptmntMode),r.Bb(1),r.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)),r.Bb(1),r.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)),r.Bb(1),r.tc("ngIf",!e.isRescheduleAptmntMode),r.Bb(1),r.tc("ngIf",!e.isRescheduleAptmntMode),r.Bb(1),r.tc("ngIf",!e.isRescheduleAptmntMode),r.Bb(5),r.Qc(" ",r.nc(20,16,"commonSections.buttons.button8")," "),r.Bb(3),r.tc("disabled",!e.termsAndConditionFlag),r.Bb(1),r.Qc(" ",r.nc(24,18,0===(null==e.reviewPaymentData?null:e.reviewPaymentData.overallTotal)||e.isRescheduleAptmntMode?"commonSections.buttons.button4":null!=e.configuration&&e.configuration.payOnlineEnabled?"commonSections.buttons.button34":null!=e.configuration&&e.configuration.payAtVACEnabled?"commonSections.buttons.button39":"commonSections.buttons.button4")," ")}}let j=(()=>{class t extends l.a{constructor(e){super(),this.dialog=e,this.agreeToTermsAndCondition=!1,this.canVFSReachoutToApplicant=!1,this.constants=o.a,this.initBaseForm(o.a.modules.REVIEW_PAYMENT),this.proceedFailMsg=null,this.subVisaCategoryCode=[],this.visaCategoryCode=[],this.nationalityList=[],this.vacList=[],this.providerList=[],this.courierList=[],this.stateList=[]}ngOnInit(){const e={dl_category:"pageview",dl_action:"pageview- review page",dl_label:this.utilityService.countrynameByIso(window.location.pathname.split("/")[1]),value:void 0,ecommerce:void 0};if(this.utilityService.fireCustomEvent(e),this.currencyCode=this.sessionService.currencyCode,this.configuration=this.sessionService.applicationConfiguration,this.isRescheduleAptmntMode){this.reviewPaymentData=[];const e=this.sessionService.getAppointmentDetails();this.reviewPaymentData.bookAppointment=e}else this.loadReviewPaymentData()}getSubvisaCategoryCode(){return Object(a.a)(this,void 0,void 0,(function*(){try{const e=this.sessionService.centerCode,t=null,i=yield this.commonService.getSubVisaCategories(e,t);this.subVisaCategoryCode=i}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}}))}getVisaCategoryCode(){return Object(a.a)(this,void 0,void 0,(function*(){try{const e=this.sessionService.centerCode,t=yield this.commonService.getVisaCategories(e);this.visaCategoryCode=t}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}}))}loadNationality(){return Object(a.a)(this,void 0,void 0,(function*(){this.nationalityList=yield this.commonService.loadNationality()}))}loadServiceProvider(){return Object(a.a)(this,void 0,void 0,(function*(){this.providerList=yield this.commonService.loadMasterData(o.a.api.masterCourierSercProvider)}))}loadCourier(){return Object(a.a)(this,void 0,void 0,(function*(){this.courierList=yield this.commonService.loadMasterData(o.a.api.masterCourierType)}))}loadStates(){return Object(a.a)(this,void 0,void 0,(function*(){this.stateList=yield this.httpService.slashParamsDoGet(o.a.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise()}))}getApplicationData(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.commonService.getVacCenters();e&&(this.vacList=e,this.sessionService.appCenterCode=e)}))}feesApplied(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.utilityService.loadFees();return(null==e?void 0:e.feeDetails)&&(this.sessionService.vacFees=null==e?void 0:e.feeDetails),e}))}loadYourDetails(){var e,t;try{return null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationDetailValue)||void 0===t?void 0:t.applicantList.map(e=>{var t,i,a,n;return e.countryName=this.utilityService.getnationalityName(this.nationalityList,e.nationalityCode),this.commonService.checkIfPostal(this.applicationType)&&(e.postalList[0].courierType=this.utilityService.getNameFromCode(this.courierList,e.postalList[0].courierType),this.commonService.checkIfPrepaidCourier(null===(t=null==e?void 0:e.postalList[0])||void 0===t?void 0:t.courierType)?e.postalList[0].courierServiceProvider=this.utilityService.getNameFromCode(this.providerList,null===(i=null==e?void 0:e.postalList[0])||void 0===i?void 0:i.courierServiceProvider):(e.postalList[0].countryCode=this.utilityService.getnationalityName(this.nationalityList,null===(a=null==e?void 0:e.postalList[0])||void 0===a?void 0:a.countryCode),e.postalList[0].state=this.utilityService.getStateNameFromISOcode(this.stateList,null===(n=null==e?void 0:e.postalList[0])||void 0===n?void 0:n.state))),e.dob=e.dateOfBirth.day+"/"+e.dateOfBirth.month+"/"+e.dateOfBirth.year,e.passportExpiry=e.passportExpirtyDate.day+"/"+e.passportExpirtyDate.month+"/"+e.passportExpirtyDate.year,e})}catch(i){console.log(i)}}loadReviewPaymentData(){var e,t,i,n,o,s,l,r,c,d,u;return Object(a.a)(this,void 0,void 0,(function*(){this.utilityService.startNgxUiSpinner();const a=this.isRescheduleAptmntMode?this.sessionService.applicationDetailValue:this.sessionService.eligibilityDetails,p=[this.loadNationality(),this.getApplicationData(),this.getVisaCategoryCode(),this.getSubvisaCategoryCode()];let m,b,h,g;if((null===(e=this.configuration)||void 0===e?void 0:e.enableEntryType)&&(m=this.commonService.loadEntryType(),p.push(m)),(null===(t=this.configuration)||void 0===t?void 0:t.enableServiceType)&&(b=this.commonService.loadServiceType(),p.push(b)),(null===(i=this.configuration)||void 0===i?void 0:i.enableVisaType)&&(null===(n=this.configuration)||void 0===n?void 0:n.enableServiceType)&&(h=this.commonService.loadEOIVisaType(),p.push(h)),(null===(o=this.configuration)||void 0===o?void 0:o.enableApplicationType)&&(g=this.commonService.loadSubmissionType(),p.push(g),this.applicationType=a.applicationType?a.applicationType:null,this.commonService.checkIfPostal(this.applicationType))){const e=this.loadServiceProvider(),t=this.loadCourier(),i=this.loadStates();p.push(e,t,i)}const f=yield Promise.all(p),v=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,a.centerCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,a.selectedSubvisaCategory),this.utilityService.getNameFromCode(this.subVisaCategoryCode,a.visaCategoryCode),this.feesApplied()];let y,S,C,O,I;(null===(s=this.configuration)||void 0===s?void 0:s.enableEntryType)&&a.entryType&&(y=this.utilityService.getCodeName(f[4].entryTypes,a.entryType),v.push(y)),(null===(l=this.configuration)||void 0===l?void 0:l.enableServiceType)&&a.serviceType&&(S=this.utilityService.getCodeName(f[5],a.serviceType),v.push(S)),(null===(r=this.configuration)||void 0===r?void 0:r.enableVisaType)&&(null===(c=this.configuration)||void 0===c?void 0:c.enableServiceType)&&a.visaType&&(C=this.utilityService.getCodeName(f[6].eoiVisaTypes,a.visaType),v.push(C)),(null===(d=this.configuration)||void 0===d?void 0:d.enableApplicationType)&&a.applicationType&&(O=this.utilityService.getCodeName(f[7],a.applicationType),v.push(O)),(null===(u=this.configuration)||void 0===u?void 0:u.enableNationalityFilterForVisaCategory)&&a.nationalityCode&&(I=this.utilityService.getnationalityName(this.nationalityList,a.nationalityCode),v.push(I));const L=yield Promise.all(v);this.utilityService.stopNgxUiSpinner();const T=this.loadYourDetails(),V=this.sessionService.getAppointmentDetails(),A=L[5],N=this.sessionService.applicantService;this.reviewPaymentData={},this.reviewPaymentData.nationalityName=L[10],this.reviewPaymentData.entryType=L[6],this.reviewPaymentData.serviceType=L[7],this.reviewPaymentData.visaType=L[8],this.reviewPaymentData.applicationType=L[9],this.sessionService.calculatedCodeData=this.reviewPaymentData,this.reviewPaymentData.countryName=L[0],this.reviewPaymentData.missionName=L[1],this.reviewPaymentData.vacCodeName=L[2],this.reviewPaymentData.visaCategoryName=L[3],this.reviewPaymentData.visaSubCategoryName=L[4],this.reviewPaymentData.yourDetail=T,this.reviewPaymentData.bookAppointment=V,this.reviewPaymentData.fees=null==A?void 0:A.feeDetails,this.reviewPaymentData.feesTotal=(null==A?void 0:A.feeDetails)?null==A?void 0:A.feeDetails.reduce((e,t)=>e+t.feeAmount,0):0,this.reviewPaymentData.services=N,this.reviewPaymentData.servicesTotal=(null==A?void 0:A.servicesFee)?A.servicesFee.reduce((e,t)=>e+(t.totalamount||0),0):0,this.reviewPaymentData.overallTotal=(null==A?void 0:A.totalamount)?null==A?void 0:A.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==A?void 0:A.servicesFee)?null==A?void 0:A.servicesFee.reduce((e,t)=>{var i;return t.taxes.length>0?e+(null===(i=t.taxes[0])||void 0===i?void 0:i.taxAmount):e+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),this.sessionService.feeAmount=this.reviewPaymentData.feesTotal}))}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}get termsAndConditionFlag(){return this.agreeToTermsAndCondition||this.isRescheduleAptmntMode}submitCaptcha(){this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:void 0,value:0});const e=this.sessionService.applicantService;e&&(null==e?void 0:e.length)>0&&this.utilityService.onCheckout(e),this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:"ReviewandPayClick",value:0}),this.utilityService.executeCapctha(o.a.captcha_action.SCHEDULE).then(e=>{this.proceedToPayment(e)})}proceedToPayment(e){var t,i,n,s;return Object(a.a)(this,void 0,void 0,(function*(){try{if(!this.agreeToTermsAndCondition&&!this.isRescheduleAptmntMode)return;const a=this.sessionService.paymentDetails;let l=null;l={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,paymentdetails:{paymentmode:(null===(t=this.configuration)||void 0===t?void 0:t.payOnlineEnabled)?"Online":"vac",RequestRefNo:a&&a.RequestRefNo?a.RequestRefNo.toString():"",clientId:"",merchantId:"",amount:this.reviewPaymentData.overallTotal,currency:this.sessionService.currencyCode},captcha_key_schedule:e},this.commonService.checkIfPostal(this.applicationType)||(l.allocationId=this.sessionService.isRescheduleAptmntMode?Number(null===(i=this.reviewPaymentData.bookAppointment)||void 0===i?void 0:i.allocationId):String(null===(n=this.reviewPaymentData.bookAppointment)||void 0===n?void 0:n.allocationId));const r=this.commonService.checkIfPostal(this.applicationType)?o.a.api.paymentInitiate:this.sessionService.isRescheduleAptmntMode?o.a.api.apptReschedule:o.a.api.apptSchedule;this.sessionService.isRescheduleAptmntMode||this.commonService.checkIfPostal(this.applicationType)||(l.CanVFSReachoutToApplicant=this.canVFSReachoutToApplicant);const c=yield this.httpService.payloadPost(r,l).toPromise().catch(e=>console.log(e)).then(e=>e),d=this.utilityService.convertKeystoLowercase(c);if(this.isRescheduleAptmntMode&&(null==d?void 0:d.isappointmentrescheduled))return this.dataShareService.rescheduledData=c,void this.commonService.routeToDashboard();if((null==d?void 0:d.error)||!(null==d?void 0:d.isappointmentbooked)||(null==d?void 0:d.ispaymentrequired)||(null==d?void 0:d.url))if(d&&!d.error&&(null==d?void 0:d.isappointmentbooked)&&d.ispaymentrequired&&d.url){this.sessionService.paymentDetails=d,this.sessionService.paymentData=null==l?void 0:l.paymentdetails;const e=`${d.url}?RequestRefNo=${d.requestrefno}\n        &Currency=${this.sessionService.currencyCode}&Culture=en-US\n        &Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${d.digitalsignature}&RedirectURL=`;window.open(e,"_self")}else if(d&&!d.error&&this.commonService.checkIfPostal(this.applicationType)&&d.ispaymentrequired&&d.url){this.sessionService.paymentDetails=d,this.sessionService.paymentData=null==l?void 0:l.paymentdetails;const e=`${d.url}?RequestRefNo=${d.requestrefno}\n        &Currency=${this.sessionService.currencyCode}&Culture=en-US\n        &Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${d.digitalsignature}&RedirectURL=`;window.open(e,"_self")}else{document.body.scrollTop=document.documentElement.scrollTop=0;const e=null===(s=null==d?void 0:d.error)||void 0===s?void 0:s.description;this.proceedFailMsg=e.replace(" X ",` ${this.configuration.allowRescheduleXDaysPriorToAppointment} `)}else this.sessionService.paymentDetails=d,this.sessionService.paymentData=null==l?void 0:l.paymentdetails,this.commonService.routeToPostLoginModule(o.l.PAYMENT_CONFIRMATION)}catch(a){console.log(a)}}))}route(e){try{const t=this.commonService.getSchemaByModuleName(e);this.commonService.routeToPostLoginModule(t.routeUrl)}catch(t){console.log(t)}}editYourDetails(t){try{this.dataShareService.editYourDetail=!0,this.sessionService.editApplicantDetailsIdx=t;const i=this.sessionService.getAllModulesSchema().find(e=>e.logicalName===o.a.modules.APPLICANT_DETAILS);if(!i)throw new Error("Error: invalid_module "+e);this.commonService.routeToPostLoginModule(i.routeUrl)}catch(i){console.log(i)}}removeApplicant(e){return Object(a.a)(this,void 0,void 0,(function*(){try{const t=yield this.commonService.deleteApplicantDetails(e);this.reviewPaymentData.yourDetail=this.loadYourDetails(),this.sessionService.updateFees=!0;const i=yield this.feesApplied(),a=this.sessionService.applicantService;this.reviewPaymentData.fees=null==i?void 0:i.feeDetails,this.reviewPaymentData.feesTotal=(null==i?void 0:i.feeDetails)?null==i?void 0:i.feeDetails.reduce((e,t)=>e+t.feeAmount,0):0,this.reviewPaymentData.services=a,this.reviewPaymentData.servicesTotal=(null==i?void 0:i.servicesFee)?i.servicesFee.reduce((e,t)=>e+(t.totalamount||0),0):0,this.reviewPaymentData.overallTotal=(null==i?void 0:i.totalamount)?null==i?void 0:i.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==i?void 0:i.servicesFee)?null==i?void 0:i.servicesFee.reduce((e,t)=>{var i;return t.taxes.length>0?e+(null===(i=t.taxes[0])||void 0===i?void 0:i.taxAmount):e+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),0===t.applicantList.length&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard())}catch(t){console.log(t)}}))}openDialog(e){try{const t=new n.e;t.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const i=this.dialog.open(s.a,t);this.subs.sink=i.afterClosed().subscribe(t=>{t&&this.removeApplicant(Number(e))})}catch(t){console.log(t)}}routePrevious(){try{if(this.isRescheduleAptmntMode){const e=this.commonService.getSchemaByModuleName(o.a.modules.BOOK_APPOINTMENT);this.commonService.routeToPostLoginModule(e.routeUrl)}else super.routePrevious()}catch(e){console.log(e)}}get isRescheduleAptmntMode(){return!0===this.sessionService.isRescheduleAptmntMode}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(n.b))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-review-and-payment"]],features:[r.yb],decls:2,vars:1,consts:[[1,"container","py-15","py-md-30"],[4,"ngIf"],[1,"form-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"c-brand-grey-para"],["class","row mb-20",4,"ngIf"],["class","card border-bottom-2 mb-40",4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","p-15","px-md-25"],[1,"fs-18","mt-8"],["class","list-group-item p-15 px-md-25",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],["class","dashboard-accordion card mb-40",4,"ngIf"],[1,"dashboard-accordion","card","mb-40"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-header","bg-brand-footer"],[1,"py-2"],[1,"fs-16","c-brand-grey-para"],[1,"fs-18","mt-3","text-overflow"],[1,"c-brand-grey-para","w-100","fs-16","mt-15"],["colspan","2",1,"py-10","text-right"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"py-10","w-25"],[1,"py-10"],["colspan","2",1,"pt-20"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],[1,"card"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],[1,"col-auto","c-brand-green","text-right"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],["class","card-body p-15 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-top-1","border-bottom-1","p-15","px-md-25","bg-brand-footer"],[1,"row","align-items-center"],[1,"d-sm-inline-block"],[1,"card-body","p-15","px-md-25"],["class","row",4,"ngIf"],[1,"row","no-gutters"],[1,"col-7"],[1,"col-2","px-2","c-brand-grey-para"],[1,"col-3","text-right"],[1,"col","fs-13","text-right"],[1,"form-group","mb-20"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],[1,"form-group","mb-30"],[1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap"]],template:function(e,t){1&e&&(r.Vb(0,"section",0),r.Mc(1,G,25,20,"form",1),r.Ub()),2&e&&(r.Bb(1),r.tc("ngIf",t.reviewPaymentData))},directives:[c.o,d.u,d.n,d.o,u.a,p.a,m.a,c.n,m.c,m.d,b.a,d.m,d.p],pipes:[h.d,c.e,c.f],encapsulation:2}),t})()}).call(this,i("3UD+")(e))},"9fxR":function(e){e.exports=JSON.parse('{"modules":{"IGNORE":"ignore","LOGIN":"login","FORGOT_PASSWORD":"forgotPassword","REGISTER":"register","ON_BOARDING":"onBoarding","DOCUMENT_UPLOAD":"documentsUpload","PASSPORT_DETAILS":"passportInformation","FLIGHT_DETAILS":"travelInformation","ACCOMODATION_DETAILS":"accommodationInformation","ADDITIONAL_DETAILS":"vafInformation","REVIEW_PAYMENT":"disclaimer","ELIGIBILITY_CRITERIA":"eligibilityCriteria","TRAVEL_DETAILS":"travelInformation","APPLICANT_DETAILS":"applicantInformation","BOOK_APPOINTMENT":"bookAppointment","SERVICES":"services","POSTAL_INFORMATION":"postalInformation"},"captchaaction":{"LOGIN":"login","SLOT":"slot","APPLICANT":"applicant","SCHEDULE":"schedule","POSTAL":"postal","FEES":"fees","MAPVAS":"mapvas","ACTIVEAPPLICATION":"activeapplication"},"routes":{"LOGIN":"login","FORGOT_PASSWORD":"forgot-password","ELIGIBILITY_CRITERIA":"eligibility-criteria","ON_BOARDING":"register","BASE_ROUTE":"user","DOCUMENT_UPLOAD":"document-upload","PASSPORT_DETAILS":"passport-details","FLIGHT_DETAILS":"flight-details","ACCOMODATION_DETAILS":"accomodation-details","ADDITIONAL_DETAILS":"additional-details","REVIEW_AND_PAY":"review-pay","DASHBOARD":"dashboard","TRAVEL_DETAILS":"travel-details","APPLICANT_DETAILS":"applicant-details","PAYMENT_CONFIRMATION":"confirmation","PAYMENT_GATEWAY":"payment-gateway","REVIEW_APPLICATION":"review-application","ADDITIONAL_DOCUMENT":"additional-document","TRACK_STATUS":"track-status","ACTIVATE_EMAIL":"activateemail","RESETPASSWORD":"resetpassword","SERVICES":"services","BOOK_APPOINTMENT":"book-appointment","POSTAL_INFORMATION":"postal-information","YOUR_DETAILS":"your-details","APPLICATION_DETAIL":"application-detail","NOT_FOUND":"page-not-found"},"errors":{"MODULE_NOT_FOUND":"ERROR: module_not_found","INVALID_RESPONSE":"ERROR: invalid_response","INVALID_FILE":"ERROR: invalid_file","API_NOT_FOUND":"ERROR: api_not_found","FUNCTION_CALL_FAILED":"ERROR: fn_call_failed","ERROR_OCCURED":"ERROR: error_occured","MIN_DATE_VALIDATOR_FAILED":"ERROR: min_date_validator_failed","MAX_DATE_VALIDATOR_FAILED":"ERROR: max_date_validator_failed","MAX_CURR_DATE_VALIDATOR_FAILED":"ERROR: max_curr_date_validator_failed","MIN_CURR_DATE_VALIDATOR_FAILED":"ERROR: min_curr_date_validator_failed","FILE_UPLOAD_FAILED":"ERROR: file_upload_failed","DATETIME_VALIDATOR_FAILED":"ERROR: datetime_validator_failed","BASEFORM_INIT_FAILED":"ERROR: baseform_init_failed","DEP_INJECTION_FAILED":"ERROR: dependency_injection_failed","ROUTE_NEXT_FAILED":"ERROR: route_next_failed","ROUTE_PREV_FAILED":"ERROR: route_prev_failed","NEXT_MODULE_NAME_FETCH_FAILED":"ERROR: next_module_name_fetch_failed","BASE_FORM_INIT_FAILED":"ERROR: base_form_init_failed","TRANSLATION_INIT_FAILED":"ERROR: translation_init_failed","API_CALL_FAILED":"Error: api_call_failed","PAGE_SCHEMA_LOAD_FAILED":"Error: page_schema_load_failed","INVALID_URL":"Errors: invalid_url","FORM_INIT_FAILED":"Errors: form_group_init_failed","EVENT_REGISTRATION_FAILED":"Error: event_reg_failed","INVALID_REGISTRATION_RESPONSE":"Error: invalid_user_reg_response","CHILD_ACTIVATION_FAILED":"Error: child_activation_end_failed","FORM_DATA_LOAD_FAILED":"Error: form_data_load_failed","TEXT_VAL_CHANGE_EVENT_REG_FAILED":"Error: text_val_change_evnt_reg_failed","ONCLICK_EVENT_FAILED":"Error: onclick_event_failed","FUNCTION_NOT_FOUND":"Error: function_not_found","BUCKET_NOT_FOUND":"Error: module_bucket_not_found","NO_BUCKET_PROVIDED":"Error: no_bucket_provided_for_selected_value","NO_BUCKET_FIELD_REF_SCHEMA":"Error: no_bucket_field_ref_in_schema","FILTER_KEY_NOT_FOUND_IN_RESPONSE":"Error: filter_key_not_found_in_response","ROUTE_ID_FETCH_FAILED":"Error: route_id_fetch_failed","VISA_TYPE_CONTROL_NOT_FOUND":"Error: visatype_control_not_found","KEY_NOT_FOUND_IN_STORAGE":"Error: key_not_found_in_browser_storage","INVALID_DATE_FORMAT":"Error: invalid_date_format","INVALID_GOVT_REF_NMBR":"Error: invalid_govt_ref_number"},"urls":{"schema":{"postLogin":"/schema","onBoarding":"/schema/on-boarding","registration":"/schema/registration","documentUpload":"/schema/document-upload","login":"/schema/login","forgotPassword":"/schema/forgot-password"},"api":{"login":"/user/login","documentUpload":"/document-upload","forgotPassword":"/user/forgetpassword","resetPassword":"/user/resetpassword","passportDetails":"/passport-details","registration":"/user/registration","status":"/application/get-applicants-list","payment":"/payment","postLoginSchema":"/application/get-schema","verifyOtp":"/auth/verify-otp","applicantStatus":"/dashboard/get-applications-status","logout":"/user/logout","deleteApplication":"/application/delete-application","getApplications":"/dashboard/get-applications","getActiveApplication":"/appointment/application","downloadPdf":"/appointment/downloadpdf","emailPdf":"/appointment/emailpdf","cancelAppointment":"/appointment/cancel","appointmentSlots":"/appointment/slots","appointmentFees":"/appointment/fees","loadNationality":"/master/nationality","loadEntrytype":"/master/entrytype","loadEoiVisaType":"/master/eoivisatype","loadEoiApplicationType":"/master/submissiontype","loadEoiServiceType":"/master/servicetype","vasByVac":"/vas/vasbyvac","configuration":"/configuration/fields","mapVas":"/vas/mapvas","activateEmail":"/user/activateemail","masterMission":"/master/mission","masterCountry":"/master/country","masterCenter":"/master/center","masterSubVisaCategory":"/master/subvisacategory","masterVisaCategoryCode":"/master/visacategory","masterLanguage":"/master/language","paymentInitiate":"/payment/initiate","paymentConfirm":"/payment/confirm","apptReschedule":"/appointment/reschedule","apptSchedule":"/appointment/schedule","confirmAppointment":"/payments/confirmappointment","downloadShippingLabel":"/courier/downloadshippinglabel","getAddress":"/courier/getaddress","masterGender":"/master/gender","masterPassportType":"/master/passporttype","mapFee":"/appointment/mapfee","masterCourierType":"/master/couriertype","masterCourierSercProvider":"/master/courierserviceprovider","updatePrepaidCourierInfo":"/courier/updateppcourierinfo","updateVFSCourierInfo":"/courier/updateaddress","masterState":"/master/state","serviceFee":"/appointment/servicefees"},"data":{"passportDetails":"/data/passport-details"}},"schemaValues":{"getModuleData":"GET_MODULE_DATA","saveToSession":"SAVE_TO_SESSION"},"schemaKeys":{"uploadedFiles":"uploadedFiles"},"validations":{"datepicker":{"MIN_CURRENT":"MIN-CURRENT","MAX_CURRENT":"MAX-CURRENT"},"timepicker":{"POST-TIME":"POST-TIME","PRE-TIME":"PRE-TIME","POST-DATETIME":"POST-DATETIME","PRE-DATETIME":"PRE-DATETIME"},"email":"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]+$","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"controls":{"Textbox":"textbox","Password":"password","Email":"email","Number":"number","Button":"button","Datepicker":"datepicker","Timepicker":"timepicker","Dropdown":"dropdown","SearchableDropdown":"searchable-dropdown","Radio":"radio","File_upload_type_1":"type-1","File_upload_type_2":"type-2","Checkbox":"checkbox","List_group_1":"list-group-1","Contact":"contact","Dual_block":"dual-block","Image":"image","Dual_button":"dual-button","Address":"address","Multi_button":"multi-button","Password_toggle":"password-toggle","InputContact":"input-contact","InputAndDatepicker":"input-datepicker","DropdownAndDatepicker":"dropdown-datepicker","ReadOnlyTextbox":"readonly-textbox","Horizontal_Rule":"hr"},"formSchemaType":{"singleColumnSchema":"type-1","doubleColumnSchema":"type-2"},"fileName":{"applicantEvoa":"EVOA_","paymentReceipt":"receipt_"},"documentList":{"arrivalFlightTicket":"arrivalFlightTicket","departureFlightTicket":"departureFlightTicket"},"status":{"VFSHold":"VFSHold","EVOASent":"EVOASent","EVOANONapproved":"EVOANONapproved","Disclaimer":"Disclaimer","PaymentInitiate":"PaymentInitiate"},"assetsPath":{"l18n":"src/_angular/assets/i18n/","globalImages":"_angular/assets/images/global"},"validLanguages":[{"languageCode":"en","cultureCode":"en-US"},{"languageCode":"zh","cultureCode":"zh-CN"}],"cultureCodeKey":"app_culture_code","courierLabels":{"inLabel":"IN","outLabel":"OUT","bothLabels":"BOTH"}}')},AytR:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("E3Zs");const n={clientIpEndPoint:"https://api.ipify.org?format=json",localtranslation:!1,localschema:!1,localReload:!1,production:!0,appVersion:i("kiQV").version,apiEndPoint:"https://lift-api.vfsglobal.com",lambdaEndpoint:"https://iuk8t24f6d.execute-api.us-east-1.amazonaws.com/prod",defaultCultureCode:"en-US",defaultLang:"en",pageTitle:"VFS Global | Official partner of the Government",applicationType:"online",externalUrl:"https://visa.vfsglobal.com",activateLink:"https://visa.vfsglobal.com/",gaUAID:"GTM-K3RCXTZ",captchaKey:"6LdJReUUAAAAAPR1hddg-9JUC_TO13OrlKVpukHL",sessionTime:900,getParamsType:"slash",externalPath:"https://liftassets.vfsglobal.com/_angular",cookieScript1:"https://cdn.cookielaw.org/consent/410ea619-00d1-490a-8784-ea1bbb4c4f7e/OtAutoBlock.js",cookieScript2:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",cookiedomainKey:"410ea619-00d1-490a-8784-ea1bbb4c4f7e",contentful:{space:"xxg4p8gt3sg6",accessToken:"5YpTBRikGN59YHwM18CyGr5F43bFuaak9U8FSMEDmb8",host:"d2ab400qlgxn2g.cloudfront.net",basePath:"/dev"},disableConsoleLogging:!0,serverLogLevel:a.c.ERROR,slotDuration:3}},"C+1A":function(e,t,i){"use strict";i.d(t,"a",(function(){return V}));var a=i("0IaG"),n=i("QvU+"),o=i("fXoL"),s=i("ofXK"),l=i("bTqV"),r=i("sYmb");function c(e,t){if(1&e&&(o.Vb(0,"div",7),o.Vb(1,"button",8),o.Qb(2,"img",9),o.Ub(),o.Ub()),2&e){const e=o.lc();o.Bb(2),o.vc("src","",e.getGlobalImagePath,"/close-btn.png",o.Hc)}}function d(e,t){1&e&&o.Qb(0,"div")}function u(e,t){if(1&e&&(o.Qb(0,"div",11),o.mc(1,"translate")),2&e){const e=o.lc(2);o.tc("innerHTML",o.nc(1,1,e.header),o.Gc)}}function p(e,t){if(1&e&&o.Qb(0,"div",11),2&e){const e=o.lc(2);o.tc("innerHTML",e.header,o.Gc)}}function m(e,t){if(1&e&&(o.Vb(0,"div"),o.Mc(1,d,1,0,"div",3),o.Mc(2,u,2,3,"ng-template",null,4,o.Nc),o.Mc(4,p,1,1,"ng-template",null,5,o.Nc),o.Qb(6,"hr",10),o.Ub()),2&e){const e=o.Bc(3),t=o.Bc(5),i=o.lc();o.Bb(1),o.tc("ngIf",!!i.data.translateHeader)("ngIfThen",e)("ngIfElse",t)}}function b(e,t){1&e&&o.Qb(0,"div")}function h(e,t){if(1&e&&(o.Qb(0,"div",12),o.mc(1,"translate")),2&e){const e=o.lc();o.tc("innerHTML",o.nc(1,1,e.body),o.Gc)}}function g(e,t){if(1&e&&o.Qb(0,"div",12),2&e){const e=o.lc();o.tc("innerHTML",e.body,o.Gc)}}function f(e,t){1&e&&o.Qb(0,"div")}function v(e,t){if(1&e&&(o.Qb(0,"div",18),o.mc(1,"translate")),2&e){const e=o.lc(3);o.tc("innerHTML",o.nc(1,1,e.leftButton),o.Gc)}}function y(e,t){if(1&e&&o.Qb(0,"div",18),2&e){const e=o.lc(3);o.tc("innerHTML",e.leftButton,o.Gc)}}function S(e,t){if(1&e){const e=o.Wb();o.Vb(0,"div",16),o.Vb(1,"button",17),o.hc("click",(function(){return o.Fc(e),o.lc(2).onClick(!1)})),o.Mc(2,f,1,0,"div",3),o.Mc(3,v,2,3,"ng-template",null,4,o.Nc),o.Mc(5,y,1,1,"ng-template",null,5,o.Nc),o.Ub(),o.Ub()}if(2&e){const e=o.Bc(4),t=o.Bc(6),i=o.lc(2);o.Bb(2),o.tc("ngIf",!!i.data.translateLeftButton)("ngIfThen",e)("ngIfElse",t)}}function C(e,t){1&e&&o.Qb(0,"div")}function O(e,t){if(1&e&&(o.Qb(0,"div",18),o.mc(1,"translate")),2&e){const e=o.lc(3);o.tc("innerHTML",o.nc(1,1,e.rightButton),o.Gc)}}function I(e,t){if(1&e&&o.Qb(0,"div",18),2&e){const e=o.lc(3);o.tc("innerHTML",e.rightButton,o.Gc)}}function L(e,t){if(1&e){const e=o.Wb();o.Vb(0,"div",16),o.Vb(1,"button",19),o.hc("click",(function(){return o.Fc(e),o.lc(2).onClick(!0)})),o.Mc(2,C,1,0,"div",3),o.Mc(3,O,2,3,"ng-template",null,4,o.Nc),o.Mc(5,I,1,1,"ng-template",null,5,o.Nc),o.Ub(),o.Ub()}if(2&e){const e=o.Bc(4),t=o.Bc(6),i=o.lc(2);o.Bb(2),o.tc("ngIf",!!i.data.translateRightButton)("ngIfThen",e)("ngIfElse",t)}}function T(e,t){if(1&e&&(o.Vb(0,"mat-dialog-actions",13),o.Vb(1,"div",14),o.Mc(2,S,7,3,"div",15),o.Mc(3,L,7,3,"div",15),o.Ub(),o.Ub()),2&e){const e=o.lc();o.Bb(2),o.tc("ngIf",!!e.leftButton),o.Bb(1),o.tc("ngIf",!!e.rightButton)}}let V=(()=>{class e extends n.a{constructor(e,t){super(),this.info=e,this.dialogRef=t,this.data=e,this.dialogDisplay=e.dialogDisplay,this.hasCloseButton=e.closeButton,this.header=e.header,this.body=e.body,this.rightButton=e.rightButton,this.leftButton=e.leftButton}onConfirmClick(){this.dialogRef.close(!0)}onClick(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(a.a),o.Pb(a.h))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-common-dialog-box"]],features:[o.yb],decls:10,vars:7,consts:[[1,"",3,"ngClass"],["class","position-absolute top-10 right-10",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","d-block mt-35",4,"ngIf"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"fs-24","fs-md-42","mb-10","pr-18",3,"innerHTML"],[1,"c-brand-grey-para","py-5",3,"innerHTML"],[1,"d-block","mt-35"],[1,"row"],["class","col",4,"ngIf"],[1,"col"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[3,"innerHTML"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(e,t){if(1&e&&(o.Vb(0,"div",0),o.Mc(1,c,3,1,"div",1),o.Mc(2,m,7,3,"div",2),o.Vb(3,"mat-dialog-content"),o.Mc(4,b,1,0,"div",3),o.Mc(5,h,2,3,"ng-template",null,4,o.Nc),o.Mc(7,g,1,1,"ng-template",null,5,o.Nc),o.Ub(),o.Mc(9,T,4,2,"mat-dialog-actions",6),o.Ub()),2&e){const e=o.Bc(6),i=o.Bc(8);o.tc("ngClass",t.dialogDisplay&&"small"===t.dialogDisplay?"mat-modal-delete-document":"mat-modal-container"),o.Bb(1),o.tc("ngIf",!!t.hasCloseButton),o.Bb(1),o.tc("ngIf",!!t.header),o.Bb(2),o.tc("ngIf",t.data.translateBody)("ngIfThen",e)("ngIfElse",i),o.Bb(5),o.tc("ngIf",!!t.leftButton||!!t.rightButton)}},directives:[s.m,s.o,a.f,a.d,a.c,l.a],pipes:[r.d],encapsulation:2}),e})()},IXuf:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i("mrSG"),n=i("AytR"),o=i("VjyN"),s=i("BU3v"),l=i("TCge"),r=i("fXoL"),c=i("cT3p"),d=i("XjvO");const u=RegExp("{{\\s*([a-zA-Z-.0-9]+)\\s*}}","g");let p=(()=>{class e{constructor(e,t){this.sessionService=e,this.utilityService=t,this.RESOURCE_GROUP_TYPE="resourceGroup",this.cdaClient=Object(o.a)(n.a.contentful),this.getResourceGroup()}get allowedLan(){return this.allowedMissionLanguage}getEnteries(e){return Object(a.a)(this,void 0,void 0,(function*(){let t={};const i=this.resourceGroups;for(let e=0;e<i.length;e++){const a=i[e].fields;a&&a.resources&&(t=Object.assign({countryResourceSet:t},a.resources))}return this.cdaClient.getEntries(e).then(e=>(e.items.forEach((e,i,a)=>{a[i]=JSON.parse(JSON.stringify(a[i]).replace(u,this.utilityService.replacerFunction.bind(this,t)))}),e))}))}getResourceGroup(){this.cdaClient.getEntries({content_type:this.RESOURCE_GROUP_TYPE,"fields.locale":[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.countryCode}`,`${this.sessionService.tenent} > ${this.sessionService.appLanguageCode}`,this.sessionService.tenent,this.sessionService.appLanguageCode,l.q].join("&"),limit:500}).then(e=>this.resourceGroups=e.items)}getMissionLanguage(){return new Promise(e=>{this.sessionService.clearMissionlanguage();const t=window.location.pathname.split("/"),i=Object.assign({content_type:"mission","fields.isoCode":""+t[3]});this.cdaClient.getEntries(i).then(i=>{var a,n;if((null===(a=i.items)||void 0===a?void 0:a.length)>0){if((null===(n=i.items[0].fields.locales[t[1]])||void 0===n?void 0:n.length)>0){const e=[];i.items[0].fields.locales[t[1]].map(t=>(e.push({code:t,languagename:s.a.getName(t)}),t)),this.sessionService.appMissionLanguage=e}else this.sessionService.appMissionLanguage=[];e(!0)}else e([])})})}getMockSchema(){return new Promise(e=>{const t=window.location.pathname.split("/"),i=Object.assign({content_type:"dyanmicFormSchema","fields.locale":[`${t[3]} > ${t[1]}`,t[3],l.q].join("&"),limit:1});this.cdaClient.getEntries(i).then(t=>{var i;if((null===(i=t.items)||void 0===i?void 0:i.length)>0){if(t.items[0].fields.schemaJson){const e=t.items[0].fields.schemaJson;this.sessionService.saveFullApplicationSchemaInBrowser(e),this.sessionService.saveApplicationSchemaInBrowser(e)}e(!0)}else e([])}).catch(()=>{e([])})})}getTravelInsurance(){const e=Object.assign({content_type:"travelInsurance","fields.isoCode":""+this.sessionService.tenent});return this.cdaClient.getEntries(e).then(e=>{var t,i,a;if((null===(t=null==e?void 0:e.items)||void 0===t?void 0:t.length)>0){const t=null==e?void 0:e.items[0].fields;return!!((null===(i=Object.keys(t))||void 0===i?void 0:i.length)>0&&(null==t?void 0:t.locales[this.sessionService.countryCode])&&(null===(a=null==t?void 0:t.locales[this.sessionService.countryCode])||void 0===a?void 0:a.length)>0)&&"1"===(null==t?void 0:t.locales[this.sessionService.countryCode][0])}return!1})}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.a),r.dc(d.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},KD1d:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var a=i("mrSG"),n=i("TCge"),o=i("XsrI"),s=i("Yt5x"),l=i("cT3p"),r=i("tyNb"),c=i("3Pt+"),d=i("psYf"),u=i("z6cu"),p=i("mS5l"),m=i("3N+h"),b=i("AytR"),h=i("XjvO"),g=i("E3Zs"),f=i("rIfo"),v=i("fXoL");let y=(()=>{class e{constructor(){this.fields=[],this.currentModuleName=void 0,this.subs=new f.a}initBaseForm(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.initDependencyInjection(),e!==n.a.modules.IGNORE&&(this.currentModuleName=e),!e||e===n.a.modules.IGNORE)return;this.currentFormGroup=this.formBuilder.group({}),this.notifyPageLoadCompleted(!1),this.handleFormLoad(e),this.initConstants()}catch(t){console.log(n.b.BASE_FORM_INIT_FAILED,t)}}))}get getGlobalImagePath(){return b.a.externalPath+"/assets/images/global"}initDependencyInjection(){try{const e=s.a.getInjector();return this.baseService=e.get(o.a),this.sessionService=e.get(l.a),this.router=e.get(r.f),this.formBuilder=e.get(c.c),this.commonService=e.get(d.a),this.utilityService=e.get(h.a),this.dataShareService=e.get(p.a),this.httpService=e.get(m.a),void(this.logger=e.get(g.b))}catch(e){throw e}}initConstants(){this.imagePath=this.commonService.imagePath}handleFormLoad(e){return Object(a.a)(this,void 0,void 0,(function*(){try{const t=yield this.getPageSchema(e);this.sessionService.updateCurrentModule(t),this.assignSchema(t)}catch(t){Object(u.a)(n.b.MODULE_NOT_FOUND,t)}}))}setPageTitle(e){this.utilityService.translationTitleService(e)}assignSchema(e){try{const t=JSON.parse(JSON.stringify(e)),i=JSON.parse(JSON.stringify(e)),a=null==t?void 0:t.controls,o=a.splice(a.findIndex(e=>{var t;return n.a.BUTTON_CONTROLS_LIST.indexOf(null===(t=null==e?void 0:e.fields[0])||void 0===t?void 0:t.fieldType)>-1}),1);i.controls=o||[],this.currentModuleButtons=i,this.currentModule=t||{},this.fields=null==t?void 0:t.controls}catch(t){Object(u.a)(t)}}getPageSchema(e){return Object(a.a)(this,void 0,void 0,(function*(){try{let t;return e===n.a.modules.ON_BOARDING||e===n.a.modules.LOGIN||e===n.a.modules.FORGOT_PASSWORD?t=yield this.baseService.getOnBoardingPageSchema(e).toPromise().then(e=>e):(t=yield this.baseService.getModuleSchema(e).toPromise().then(e=>e),t=this.filterControlsOnDomain(t)),t}catch(t){Object(u.a)(t)}}))}routeNext(){try{const e=this.getAllModules(),t=this.sessionService.currentModule,i=e.findIndex(e=>Number(e.displayPosition)===Number(t.displayPosition));if(i===e.length-1)return;this.sessionService.completedModuleName=t.logicalName,this.commonService.routeToPostLoginModule(e[i+1].routeUrl),this.commonService.addMandatoryService()}catch(e){console.log(n.b.ROUTE_NEXT_FAILED,e)}}routePrevious(){try{const e=this.sessionService.currentModule,t=this.getAllModules(),i=t.findIndex(t=>Number(t.displayPosition)===Number(e.displayPosition));if(i<=0)return;this.commonService.routeToPostLoginModule(t[i-1].routeUrl)}catch(e){console.log("ERROR: ",n.b.ROUTE_PREV_FAILED,e)}}getNextModuleName(){try{const e=this.getAllModules(),t=this.sessionService.currentModule,i=e.findIndex(e=>Number(e.displayPosition)===Number(t.displayPosition));if(i===e.length-1)return;return e[i+1].logicalName}catch(e){console.log(n.b.NEXT_MODULE_NAME_FETCH_FAILED)}}saveAndContinue(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return void this.commonService.touchAllFields(this.currentFormGroup);yield this.saveApplicantModule(e,t),this.routeNext()}catch(i){console.log(`Error Status: ${i.status}\nMessage: ${i.message}`)}}))}saveApplicantModule(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{const i=t?Object.assign(Object.assign({},t),this.currentFormGroup.getRawValue()):this.currentFormGroup.getRawValue();return i.isDraft=this.baseService.checkCurrentModuleWithStatus(this.currentModuleName),i.stage=this.getNextModuleName(),yield this.baseService.saveModuleForm(e,i).toPromise().then(e=>e).catch(e=>{throw e})}catch(i){console.log(i)}}))}get appConstants(){return n.a}postPageLoadActivities(e,t){try{this.setFormGroup(e.form),t&&this.checkAndPopulateForm(e.form),this.formMetaData=e,this.formValueChanges(),this.notifyPageLoadCompleted(!0)}catch(i){console.log(i)}}notifyPageLoadCompleted(e){try{this.dataShareService.notifyPageLoadCompleted(e)}catch(t){console.log(t)}}checkAndPopulateForm(e){var t;return Object(a.a)(this,void 0,void 0,(function*(){try{const i=yield this.getDataFromApiName(this.currentModule,n.a.GET_MODULE_DATA.getModuleData),a=yield this.getDataFromApiName(this.currentModule,n.a.GET_MODULE_DATA.saveToSession);if(i&&0!==i.length){const t=Object.keys(e.controls).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:i[t]}),{});e.patchValue(t),e.updateValueAndValidity()}a&&this.saveRespToSession(null===(t=this.apiEndPoint)||void 0===t?void 0:t.sessionParams,a)}catch(i){console.log(i)}}))}getAllModules(){return this.sessionService.getAllModulesSchema()||[]}getDataFromApiName(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{this.apiEndPoint=this.commonService.getApiEndPoint(e,t);const i=this.commonService.extractAndConstructParams(this.apiEndPoint.params,this.currentFormGroup);return yield this.baseService.httpService(this.apiEndPoint,i)}catch(i){Object(u.a)(i)}}))}setFormGroup(e){return this.currentFormGroup=e,this.dataShareService.currentFormGroup=e,!0}filterModulesOnSubmissionTypes(e){return Object(a.a)(this,void 0,void 0,(function*(){try{const t=this.sessionService.getFullApplicationSchema();if(!e||!t)return;const i=this.commonService.checkIfPostal(e)?"b2":"b1",a=yield this.commonService.filterModulesOnBucketId(t,i,e);return this.sessionService.saveApplicationSchemaInBrowser(a),!0}catch(t){console.log(t)}}))}filterModuleBasedOnVac(e){var t;return Object(a.a)(this,void 0,void 0,(function*(){try{const i=this.sessionService.getFullApplicationSchema();if(!e||!i)return;const a=yield this.commonService.loadServices(e);if(0!==(null==a?void 0:a.length)&&(null===(t=a.filter(e=>!0===e.isAvailableOnline))||void 0===t?void 0:t.length)>0){const e=yield this.commonService.addServiceModule(i);return this.sessionService.saveApplicationSchemaInBrowser(e),!0}{const e=yield this.commonService.removeServiceModule(i);return this.sessionService.saveApplicationSchemaInBrowser(e),!0}}catch(i){console.log(i)}}))}filterControlsOnDomain(e){try{const t=JSON.parse(JSON.stringify(e)),i=(t.controls||[]).filter(e=>{var t,i;for(const a of e.fields){const o=a.accessibility;if((null===(t=null==o?void 0:o.domain)||void 0===t?void 0:t.value)===n.a.ALL||(null===(i=null==o?void 0:o.domain)||void 0===i?void 0:i.value)===b.a.applicationType)return e}});return t.controls=i,t}catch(t){throw new Error("schema_filter_failed: "+t)}}formValueChanges(){this.valueChangesSubscription=this.currentFormGroup.valueChanges.subscribe(()=>{const e=this.currentFormGroup.getRawValue();this.dataShareService.formDataWithModuleName={[this.currentModuleName]:e}})}saveToSession(e,t,i,a){try{const e=this.commonService.extractAndConstructParams(a,this.currentFormGroup);for(const t of Object.keys(e))this.sessionService.saveToSession(t,e[t]);return!0}catch(n){console.log(a,n)}}saveToLocalStorage(e,t,i,a){try{const e=this.commonService.extractAndConstructParams(a,this.currentFormGroup);for(const t of Object.keys(e))this.sessionService.setStorageValue(t,e[t]);return!0}catch(n){console.log(a,n)}}scrollToInvalidForm(e){this.commonService.touchAllFields(e);const t=document.querySelector(".ng-invalid");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}saveRespToSession(e,t){try{const i=this.commonService.extractAndConstructParams(e,this.currentFormGroup,t);for(const e of Object.keys(i))this.sessionService.saveToSession(e,i[e]);return!0}catch(i){console.log(e,i)}}trackByFn(e,t){return t?e:null}ngOnDestroy(){this.valueChangesSubscription&&this.valueChangesSubscription.unsubscribe(),this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v.Jb({type:e,selectors:[["app-base-form"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},LjYc:function(e){e.exports=JSON.parse('{"documentUpload":{"id":4,"displayName":"Accomodation Details","logicalName":"accomodationDetails","routeUrl":"accomodation-details","displayPosition":4,"controls":[]},"passportDetailsData":{"salutation":2,"firstName":"asd","middleName":"asd","surname":"asd","gender":1,"dateOfBirth":"2019-09-24T18:30:00.000Z","passportType":1,"passportNumber":"AB123","passportIssueDate":"2019-09-24T18:30:00.000Z","passportExpiryDate":"2019-09-25T18:30:00.000Z","placeOfIssue":1,"countryOfIssue":1},"nationality":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"}],"countryCodes":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"arrivalFlightApplcants":[{"id":1,"displayName":"Applicant1"},{"id":2,"displayName":"Applicant2"}],"countryCode":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"salutations":[{"id":1,"displayName":"Mr"},{"id":2,"displayName":"Mrs"},{"id":3,"displayName":"Miss"}],"gender":[{"id":1,"displayName":"Male"},{"id":2,"displayName":"Female"}],"passportType":[{"id":1,"displayName":"Type1"},{"id":2,"displayName":"Type2"}],"placeOfIssue":[{"id":1,"displayName":"Mumbai"},{"id":2,"displayName":"Delhi"},{"id":3,"displayName":"Chennai"}],"countryOfIssue":[{"id":1,"displayName":"India"},{"id":2,"displayName":"USA"},{"id":3,"displayName":"UK"}],"province":[{"id":1,"displayName":"Other"},{"id":2,"displayName":"Ang Thong"}],"otherDistricts":[{"id":1,"displayName":"district - 1"},{"id":2,"displayName":"district - 2"}],"angThongDistricts":[{"id":1,"displayName":"district - 3"},{"id":2,"displayName":"district - 4"}],"visaCategory":[{"id":1,"displayName":"Tourism","value":"1"},{"id":2,"displayName":"Business","value":"2"},{"id":3,"displayName":"Visit to Family/Friends","value":"3"}],"purposeOfVisitForTourists":[{"id":1,"displayName":"Tourism","value":"1"}],"purposeOfVisitForTouristSingle":[{"id":1,"displayName":"Vacation","value":"1"},{"id":2,"displayName":"Transit","value":"2"},{"id":3,"displayName":"Business","value":"3"}],"visaTypes":[{"id":1,"VisaTypeName":"C Type","visaTypeId":1},{"id":2,"VisaTypeName":"D Type","visaTypeId":2}],"residingCountry":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"},{"id":"3","displayName":"UNITED STATES OF AMERICA","value":"USA"},{"id":"4","displayName":"UNITED KINGDOM","value":"UK"}],"yesNoValue":[{"id":"1","displayName":"Yes","value":1},{"id":"2","displayName":"No","value":0}],"costOfTravellingCoveredBy":[{"id":"1","displayName":"Cash","value":"cash"},{"id":"2","displayName":"Traveller\'s cheques","value":"travellersCheques"},{"id":"3","displayName":"Credit card","value":"creditCard"},{"id":"4","displayName":"Prepaid accomodation","value":"prepaidAccomodation"},{"id":"5","displayName":"Prepaid transport","value":"prepaidTransport"},{"id":"6","displayName":"All expenses covered during the stay","value":"allExpensesCoveredDuringStay"}],"timeSlotRange":[{"time":"8:00","range":"8:00-8:15"},{"time":"8:15","range":"8:15-8:30"},{"time":"8:30","range":"8:30-8:45"},{"time":"8:45","range":"8:45-9:00"},{"time":"9:00","range":"9:00-9:15"},{"time":"9:15","range":"9:15-9:30"},{"time":"9:30","range":"9:30-9:45"},{"time":"9:45","range":"9:45-10:00"},{"time":"10:00","range":"10:00-10:15"},{"time":"10:15","range":"10:15-10:30"},{"time":"10:30","range":"10:30-10:45"},{"time":"10:45","range":"10:45-11:00"},{"time":"11:00","range":"11:00-11:15"},{"time":"11:15","range":"11:15-11:30"},{"time":"11:30","range":"11:30-11:45"},{"time":"11:45","range":"11:45-12:00"},{"time":"12:00","range":"12:00-12:15"},{"time":"12:15","range":"12:15-12:30"},{"time":"12:30","range":"12:30-12:45"},{"time":"12:45","range":"12:45-13:00"},{"time":"13:00","range":"13:00-13:15"},{"time":"13:15","range":"13:15-13:30"},{"time":"13:30","range":"13:30-13:45"},{"time":"13:45","range":"13:45-14:00"},{"time":"14:00","range":"14:00-14:15"},{"time":"14:15","range":"14:15-14:30"},{"time":"14:30","range":"14:30-14:45"},{"time":"14:45","range":"14:45-15:00"}]}')},"QrD/":function(e,t,i){"use strict";i.d(t,"f",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"g",(function(){return o})),i.d(t,"e",(function(){return s})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return c}));var a=function(e){return e.FORM_VALUE="FORM_VALUE",e.STATIC="STATIC",e.SESSION="SESSION",e.RESPONSE="RESPONSE",e.FUNCTION="FUNCTION",e}({}),n=function(e){return e.STATIC="STATIC",e.FORM_VALUE="FORM_VALUE",e.COMPARE="COMPARE",e.CURRENT="CURRENT",e.YESTERDAY="YESTERDAY",e.TOMORROW="TOMORROW",e.LATEST_AMONG="LATEST_AMONG",e.FIRST_AMONG="FIRST_AMONG",e.SESSION="SESSION",e}({}),o=function(e){return e.CURRENT="CURRENT",e.FORM_VALUE="FORM_VALUE",e.SESSION="SESSION",e.FUNCTION="FUNCTION",e}({}),s=function(e){return e.STATIC="STATIC",e.FUNCTION="FUNCTION",e.FORM_VALUE="FORM_VALUE",e}({}),l=function(e){return e.year="year",e.month="month",e.day="day",e}({}),r=function(e){return e.D_M_Y_SLASH="dd/mm/yyyy",e.M_D_Y_SLASH="mm/dd/yyyy",e.Y_M_D_SLASH="yyyy/dd/mm",e}({}),c=function(e){return e.SLASH="slash",e.QUERY_PARAM="queryParam",e}({})},"QvU+":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var a=i("mrSG"),n=i("psYf"),o=i("TCge"),s=i("z6cu"),l=i("Yt5x"),r=i("tyNb"),c=i("mS5l"),d=i("cT3p"),u=i("3N+h"),p=i("XjvO"),m=i("AytR"),b=i("4h0v"),h=i("fXoL");let g=(()=>{class e extends b.a{constructor(){super(),this.courierLabels=o.o,this.initDependencyInjection()}initDependencyInjection(){try{const e=l.a.getInjector();return this.sessionService=e.get(d.a),this.router=e.get(r.f),this.commonService=e.get(n.a),this.utilityService=e.get(p.a),this.dataShareService=e.get(c.a),void(this.httpService=e.get(u.a))}catch(e){console.log(o.b.DEP_INJECTION_FAILED),Object(s.a)(e)}}trackByFn(e,t){return t?e:null}get getGlobalImagePath(){return m.a.externalPath+"/assets/images/global"}get getImagePath(){return this.commonService.imagePath}downloadCourierDetails(e,t,i){return Object(a.a)(this,void 0,void 0,(function*(){const a=yield this.httpService.payloadPost(o.a.api.downloadShippingLabel,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),centerCode:t,aurn:e,labelType:i||""}).toPromise().then(e=>e).catch(e=>e);for(const e in null==a?void 0:a.pdfStream)if(a.pdfStream.hasOwnProperty(e)){const t=!i&&"0"===e||i===o.o.outLabel?this.sessionService.getLoggedEmail()+"_outgoing.pdf":this.sessionService.getLoggedEmail()+"_incoming.pdf";this.utilityService.showFile(a.pdfStream[e],t)}}))}route(e){try{this.commonService.routeToPostLoginModule(e)}catch(t){console.log(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Jb({type:e,selectors:[["app-base-non-dynamic"]],features:[h.yb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()},RnhZ:function(e,t,i){var a={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function n(e){var t=o(e);return i(t)}function o(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id="RnhZ"},TCge:function(e,t,i){"use strict";i.d(t,"q",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"n",(function(){return s})),i.d(t,"i",(function(){return l})),i.d(t,"g",(function(){return r})),i.d(t,"j",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"f",(function(){return u})),i.d(t,"b",(function(){return p})),i.d(t,"m",(function(){return m})),i.d(t,"l",(function(){return b})),i.d(t,"d",(function(){return h})),i.d(t,"r",(function(){return g})),i.d(t,"p",(function(){return f})),i.d(t,"k",(function(){return v})),i.d(t,"h",(function(){return y})),i.d(t,"o",(function(){return S})),i.d(t,"a",(function(){return C}));var a=i("9fxR");const n="vfs",o=a.modules,s=["WWA"],l=["PT"],r=["PL"],c="Primetime",d=["PST","Postal"],u=["PPD","PREPAID"],p=a.errors,m=a.validations,b=a.routes,h={assets:{images:"assets/images/$TENENT"}},g="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!#%*?])[A-Za-z0-9@$!#%*?]{8,15}$",f=a.cultureCodeKey,v="PTS",y="PLC",S=a.courierLabels;let C=(()=>{class e{static get schema(){return a.urls.schema}static get captcha_action(){return a.captchaaction}static get api(){return a.urls.api}static get modules(){return a.modules}static get data(){return a.urls.data}static get schemaKeys(){return a.schemaKeys}static get schemaValues(){return a.schemaValues}static get controls(){return a.controls}static get formSchemaType(){return a.formSchemaType}static get routes(){return a.routes}}return e.GET_MODULE_DATA=a.schemaValues,e.ALL="ALL",e.JSON_FILE_FORMAT=".json",e.ASSETS_PATH=a.assetsPath,e.NAVBAR_EXCEPTION_LIST=[b.DASHBOARD,b.PAYMENT_CONFIRMATION,b.ADDITIONAL_DOCUMENT,b.REVIEW_APPLICATION,b.NOT_FOUND],e.DROP_DOWN_EXCLUDE_ROUTE=[b.PAYMENT_CONFIRMATION,b.LOGIN,b.ON_BOARDING,b.NOT_FOUND],e.SAVE_AS_DRAFT_EXCEPTION_LIST=[e.modules.ELIGIBILITY_CRITERIA],e.BUTTON_CONTROLS_LIST=[e.controls.Button,e.controls.Dual_button,e.controls.Multi_button],e.DROPDOWNS_LIST=[e.controls.Dropdown,e.controls.SearchableDropdown],e.MODULE_BUCKET={b1:[o.ELIGIBILITY_CRITERIA,o.APPLICANT_DETAILS,o.BOOK_APPOINTMENT,o.SERVICES,o.REVIEW_PAYMENT],b2:[o.ELIGIBILITY_CRITERIA,o.APPLICANT_DETAILS,o.POSTAL_INFORMATION,o.SERVICES,o.REVIEW_PAYMENT]},e.NON_INTERACTIVE_CONTROLS=[e.controls.Horizontal_Rule],e.HTTP_METHODS={GET:"GET",POST:"POST"},e.SCHEMA={DEFAULT:"schema_default",IND_FRA:"schema_ind_fra",IHC:"schema_ihc"},e.URLS_FOR_SLOTS_GET_METHOD=["https://d5ifytxc6r3nx.cloudfront.net","https://lift-api.vfsglobal.com"],e.FEE_TYPE_CODES={VFSFEE:"VFSFEE",VISAFEE:"VISAFEE"},e})()},XjvO:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i("mrSG"),n=i("AytR"),o=i("TCge"),s=i("f0Wu"),l=i.n(s),r=i("ngv/"),c=i("BU3v"),d=i("fXoL"),u=i("sYmb"),p=i("jhN1"),m=i("cT3p"),b=i("0IaG"),h=i("mS5l"),g=i("3N+h"),f=i("gren");let v=(()=>{class e{constructor(e,t,i,a,n,o,s){this.translate=e,this.titleService=t,this.sessionService=i,this.dialogRef=a,this.dataShareService=n,this.httpService=o,this.ngxService=s,this.VFS_FEES="VFS Service Fee"}formatDate(e){return this.momentInstance(e).format("YYYY-MM-DD")}momentInstance(e,t){try{let i;return i=e&&t?l()(e,t).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):e?l()(e).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):l()().tz(Intl.DateTimeFormat().resolvedOptions().timeZone),i}catch(i){console.log(i)}}clearInProgressApplication(){this.dataShareService.totalFees.next("0"),this.dataShareService.dashboardTab=1,this.sessionService.deleteOldApplicantDetails()}startNgxUiSpinner(){this.ngxService.start()}stopNgxUiSpinner(){this.ngxService.stop()}setTitle(e){this.titleService.setTitle(e||n.a.pageTitle)}strictCompare(e,t,i=!0){try{let a;return a=i?e.toString().toLowerCase()===t.toString().toLowerCase():e.toString().toLowerCase()==t.toString().toLowerCase(),a}catch(a){throw a}}translationService(e){return new Promise((t,i)=>{this.translate.get(e).subscribe(e=>{t(e)},e=>console.log(e))}).then(e=>e)}translationTitleService(e){if(0===this.translate.langs.length)return!1;this.translate.get(e).subscribe(e=>{this.setTitle(e)})}getChild(e){return e.firstChild?this.getChild(e.firstChild):e}convertJSONInDate(e){return("0"+e.day).slice(-2)+"/"+("0"+e.month).slice(-2)+"/"+e.year}removeByAttr(e,t,i){let a=e.length;for(;a--;)e[a]&&e[a].hasOwnProperty(t)&&arguments.length>2&&e[a][t]===i&&e.splice(a,1);return e}MatchPassword(e,t){return i=>{const a=i.controls[e],n=i.controls[t];return a&&n?n.errors&&!n.errors.passwordMismatch?null:void n.setErrors(a.value!==n.value?{passwordMismatch:!0}:null):null}}showFile(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i=yield this.base64ToArrayBuffer(e),a=new Blob([i],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(a);const n=window.URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.download=t||this.sessionService.getLoggedEmail()+".pdf",o.click(),setTimeout(()=>{window.URL.revokeObjectURL(n)},100)}))}base64ToArrayBuffer(e){const t=window.atob(e),i=t.length,a=new Uint8Array(i);for(let n=0;n<i;n++){const e=t.charCodeAt(n);a[n]=e}return a}externalUrlAppend(e){return`${n.a.externalUrl}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${e}`}closeAllDialog(){this.dialogRef.closeAll()}filterFees(e){return e?e.filter(e=>e.feeName===this.VFS_FEES):[]}updateTotalFees(e=null){var t,i;return Object(a.a)(this,void 0,void 0,(function*(){let a;if(null!=e)a=e;else{const e=yield this.loadFees();a=null==e?void 0:e.currfeeAmount,this.sessionService.feeAmount=a}let n=0;(null===(i=null===(t=this.sessionService)||void 0===t?void 0:t.applicantService)||void 0===i?void 0:i.length)>0&&(n=yield this.sessionService.applicantService.reduce((e,t)=>e+(t.amount*t.unit||0),0)),this.sessionService.updatedCartAmount=n+a,this.dataShareService.cartAmount.next(n+a)}))}loadFees(){return Object(a.a)(this,void 0,void 0,(function*(){try{let e;return this.sessionService.updateFees&&(e=yield this.executeCapctha(o.a.captcha_action.FEES)),this.loadFeesWithCaptcha(e)}catch(e){throw e}}))}loadFeesWithCaptcha(e){var t;return Object(a.a)(this,void 0,void 0,(function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,api_captcha_fees:e},a=yield this.httpService.payloadPost(o.a.api.appointmentFees,i).toPromise().catch(e=>console.log(e)).then(e=>e);if(!a)return;return this.sessionService.updateFees=!1,a.currfeeAmount=(null===(t=null==a?void 0:a.feeDetails)||void 0===t?void 0:t.length)>0?a.feeDetails.reduce((e,t)=>e+t.feeAmount,0):0,a}catch(i){throw i}}))}getnationalityName(e,t){if(!e)return!1;const i=e.filter(e=>e.isoCode.toLowerCase()===t.toLowerCase());return i.length>0?i[0].nationalityName:t}getStateNameFromISOcode(e,t){if(!e)return!1;const i=e.filter(e=>this.strictCompare(e.isoCode,t));return i.length>0?i[0].stateName:t}getNameFromCode(e,t){if(!e)return!1;const i=e.filter(e=>this.strictCompare(e.code,t));return i.length>0?i[0].name:t}getNosOfUnit(e,t){const i=this.sessionService.applicantService.filter(e=>e.id===t);return i.length>0?i[0][e]:1}filterVacFromCode(e,t,i){if(e.length<0)return!1;const a=e.filter(e=>e.isoCode===t);return a.length>0?a[0][i]:""}appendGaTrackingCode(){try{const e=document.createElement("script");return e.innerHTML="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','GTM-K3RCXTZ');",document.head.appendChild(e),!0}catch(e){console.log("Error appending google analytics :",e)}}handleCaptcha(){return Object(a.a)(this,void 0,void 0,(function*(){try{$(".grecaptcha-badge").remove(),setTimeout(()=>{this.appendCaptcha()})}catch(e){console.log("Error appending google analytics :",e)}}))}appendCaptcha(){try{const e=window.location.pathname.split("/"),t=document.createElement("script");t.src=`https://recaptcha.net/recaptcha/api.js?render=${n.a.captchaKey}&hl=${e[2]}`,t.type="text/javascript",t.async=!1,document.getElementsByTagName("head")[0].appendChild(t)}catch(e){console.log(e)}}appendScriptForCookies(){try{const e=document.createElement("script");e.type="text/javascript",e.src=n.a.cookieScript1,document.getElementsByTagName("head")[0].appendChild(e);const t=document.createElement("script");return t.type="text/javascript",t.src=n.a.cookieScript2,t.setAttribute("data-domain-script",n.a.cookiedomainKey),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(e){console.log(e)}}replacerFunction(e,t,i,a){return"number"==typeof e[i]?i&&e[i]?String(e[i]).trim():"":i&&e[i]?e[i].trim():""}executeCapctha(e){return new Promise((t,i)=>{grecaptcha.ready(()=>{grecaptcha.execute(n.a.captchaKey,{action:e}).then(e=>t(e))})})}getCodeName(e,t){const i=e.filter(e=>e.code===t);return i.length>0?i[0].name:t}loadRecaptcha(){const e=document.createElement("script");e.src="https://recaptcha.net/recaptcha/api.js?render=6LdJReUUAAAAAPR1hddg-9JUC_TO13OrlKVpukHL",e.type="text/javascript",e.async=!0,document.getElementsByTagName("head")[0].appendChild(e)}convertKeystoLowercase(e){return Object.keys(e).reduce((t,i)=>(t[i.toLowerCase()]=e[i],t),{})}disableBrowserBack(){history.pushState(null,null,location.href),window.onpopstate=()=>{history.go(1)}}formcontrolReset(e,t){return t.forEach(t=>{e.get(t)&&e.get(t).reset()}),!0}get gaPredefiedData(){var e,t;try{const i=this.sessionService.eligibilityDetails;return{Mission:null===(e=r.byIso(window.location.pathname.split("/")[3]))||void 0===e?void 0:e.country,CountryOfOperation:null===(t=r.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country,CityOfOperation:(null==i?void 0:i.centerCode)||"",WebsiteLanguage:c.a.getName(window.location.pathname.split("/")[2]),PageName:window.location.pathname.split("/").pop().split("-").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join("-"),VacName:(null==i?void 0:i.centerCode)||null}}catch(i){console.log(i)}}get checkIfProd(){return!n.a.production}fireCustomEvent(e){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t={event:"custom_event","Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},e),t))}catch(t){console.log(t)}}countrynameByIso(e){var t;return null===(t=r.byIso(e))||void 0===t?void 0:t.country}product_impression(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t=[];yield e.map((e,i)=>{var a,n;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(a=r.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country}/${null===(n=r.byIso(window.location.pathname.split("/")[3]))||void 0===n?void 0:n.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:i,uniqueId:e.id})}),window.dataLayer.push({event:"productImpression",dl_category:"Product Performance",dl_action:"Impression",dl_label:this.gaPredefiedData.PageName+" Page Product Listing",dl_value:"0","Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e[0].currency,actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},impressions:t}})}catch(t){console.log(t)}}))}onCheckout(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const t=[];yield e.map((e,i)=>{var a,n;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(a=r.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country}/${null===(n=r.byIso(window.location.pathname.split("/")[3]))||void 0===n?void 0:n.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,quantity:e.total})}),window.dataLayer.push({event:"checkout","Vac Name":this.gaPredefiedData.VacName,ecommerce:{checkout:{actionField:{step:1,option:"Payment Gateway",action:"checkout"},products:t}}})}catch(t){console.log(t)}}))}fireGAEvent(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[],window.dataLayer.push({Mission:this.gaPredefiedData.Mission,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Website Language":this.gaPredefiedData.WebsiteLanguage,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName})}catch(e){console.log(e)}}sendConfirmationPageAnalytics(e){var t,i;try{if(this.checkIfProd)return;const a={event:"custom_event",dl_category:"PageView",dl_action:"PageView - Transaction Successful",dl_label:`${null===(t=r.byIso(window.location.pathname.split("/")[1]))||void 0===t?void 0:t.country} & ${null===(i=r.byIso(window.location.pathname.split("/")[3]))||void 0===i?void 0:i.country}`,dl_value:void 0,"Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},e),a))}catch(a){console.log(a)}}product_details(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,i)=>{var a,n;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(a=r.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country}/${null===(n=r.byIso(window.location.pathname.split("/")[3]))||void 0===n?void 0:n.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:i,uniqueId:e.id})}),console.log(t),window.dataLayer.push({event:"productDetails",dl_category:"Product Performance",dl_action:"Product Details",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currency,detail:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}}))}product_click(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,i)=>{var a,n;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(a=r.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country}/${null===(n=r.byIso(window.location.pathname.split("/")[3]))||void 0===n?void 0:n.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:i,uniqueId:e.id})}),window.dataLayer.push({event:"productClick",dl_category:"Product Performance",dl_action:"Product Click",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currency,click:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}}))}add_to_cart(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,i)=>{var a,n;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(a=r.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country}/${null===(n=r.byIso(window.location.pathname.split("/")[3]))||void 0===n?void 0:n.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:i,uniqueId:e.id})}),window.dataLayer.push({event:"addToCart",dl_category:"Add to Cart",dl_action:"Add to Cart From Service Card",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currencyCode,add:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}}))}remove_to_cart(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.checkIfProd)return;const t=[];yield[e].map((e,i)=>{var a,n;t.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${null===(a=r.byIso(window.location.pathname.split("/")[1]))||void 0===a?void 0:a.country}/${null===(n=r.byIso(window.location.pathname.split("/")[3]))||void 0===n?void 0:n.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:i,uniqueId:e.id})}),window.dataLayer.push({event:"removeFromCart",dl_category:"Remove From Cart",dl_action:"Remove From Cart From Shopping Cart",dl_label:e.name,dl_value:e.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:e.currencyCode,remove:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:t}}})}catch(t){console.log(t)}}))}}return e.\u0275fac=function(t){return new(t||e)(d.dc(u.e),d.dc(p.d),d.dc(m.a),d.dc(b.b),d.dc(h.a),d.dc(g.a),d.dc(f.c))},e.\u0275prov=d.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XsrI:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i("mrSG"),n=i("TCge"),o=i("LRne"),s=i("EY2u"),l=i("AytR"),r=i("fXoL"),c=i("3N+h"),d=i("cT3p"),u=i("IXuf");let p=(()=>{class e{constructor(e,t,i){this.httpServiceHandler=e,this.sessionService=t,this.contentFulService=i}getApplicationSchema(){return Object(a.a)(this,void 0,void 0,(function*(){return l.a.localschema?this.httpServiceHandler.doGet(n.a.schema.postLogin).toPromise():(yield this.contentFulService.getMockSchema())&&this.sessionService.getFullApplicationSchema()?this.sessionService.getFullApplicationSchema():this.httpServiceHandler.doGet(n.a.schema.postLogin).toPromise()}))}getModuleSchema(e){const t=(this.sessionService.getAllModulesSchema()||[]).find(t=>t.logicalName===e);return t?Object(o.a)(t):s.a}getOnBoardingPageSchema(e){return this.httpServiceHandler.doGet(n.a.schema[e])}saveModuleForm(e,t){return this.httpServiceHandler.doPost(e,t)}httpService(e,t){let i;return i=t?this.httpServiceHandler.doCheck(e,t).toPromise().then(e=>e):this.httpServiceHandler.doCheck(e).toPromise().then(e=>e),i}checkCurrentModuleWithStatus(e){return!(!this.sessionService.applicationStatus||!e||this.sessionService.applicationStatus.toLowerCase()===e.toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.a),r.dc(d.a),r.dc(u.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Yt5x:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("fXoL");let n=(()=>{class e{static setInjector(t){e.injector=t}static getInjector(){return e.injector}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},cT3p:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var a=i("mrSG"),n=i("2Vo4"),o=i("XNiG"),s=i("TCge"),l=i("AytR"),r=i("fXoL"),c=i("jhN1");let d=(()=>{class e{constructor(e){this.titleService=e,this.UPDATED_CART="updated_cart",this.APP_SCHEMA="appSchema",this.FULL_APP_SCHEMA="fullAppSchema",this.LOGIN_STATUS="loginStatus",this.JWT="JWT",this.EMAIL="logged_email",this.CURR_APP_VISA_CAT="curr_appl_visa_cat",this.CURR_APP_VISA_TYPE="curr_appl_visa_type",this.REGISTERED_USER_TOKEN="user_token",this.APP_MISSION_LANGUAGE="app_mission_language",this.loggedInStatus=new n.a(!1),this.currentModuleObservable=new n.a([]),this.APP_LANGUAGE_CODE="app_language_code",this.ACTIVATE_MESSAGE="activate_message",this.SERVICE_FEE="service_fees",this.VAC_FEE="vac_fee",this.SERVICE_TAX="service_tax",this.APP_CULTURE_CODE=s.p,this.TENENT="tenent",this.TRANSACTION_ID="transactionid",this.COUNTRYCODE="countrycode",this.DOCUMENT_IDENTIFIER="document_identifier",this.ROUTE_ID="route_id",this.APPLICANT_APLHA_ID="applicant_alpha_id",this.APPLICANT_GRP_APLHA_ID="applicant_grp_alpha_id",this.LOGGED_IN_USING_EMAIL="logged_in_using_email",this.APPLICATION_STATUS="application_status",this.CURRENCY_CODE="currency_code",this.CURR_APP_VAC="curr_app_vac",this.APPOINTMENT_DETAILS="apt_dtls",this.CENTER_CODE="curr_app_cntr_code",this.URN_NO="urn_no",this.CMPLTD_MOD="cmpltd_mod",this.TEMP_APP_SCHEMA="temp_appschema",this.RESHDL_APTMNT_MODE="reshdl_mode",this.UPDATE_FEES="update_fees",this.CART_AMOUNT="cart_amount",this.IP_ADDRESS="ip",this.SERVICE_FEE_MODE_CHKBX_STATUS="serv_fee_mode_chkbx_sts",this.isLoggedIn=this.loggedInStatus.asObservable(),this.isTotalFeesSource=new n.a("0"),this._isTotalAmount=this.isTotalFeesSource.asObservable(),this.currentModule$=this.currentModuleObservable.asObservable(),this.appSchemaSubscriber=new n.a(null),this.appSchema$=this.appSchemaSubscriber.asObservable(),this.APPLICATION_DETAILS="application_details",this.APPLICATION_DETAILS_CPY="applctn_dtls_cpy",this.APPLICATION_CONFIGURATION="application_configuration",this.APP_CENTER_CODE="app_center_code",this.APPLICATION_SERVICE="application_services",this.EDIT_APLCT_IDX="edt_aplct_idx",this.PYMNT_DTLS="pymnt_dtls",this.PYMNT_DATA="pymnt_data",this.ELIGBLTY_DTLS="eligblty_dtls",this.CALCULATED_CODE="calculated_from_code",this.VISA_SUB_CATEGORY="cur_app_visa_sub_category",this.SERVICE_TYPE="cur_app_servicetype",this.VISA_CATEGORY="curr_app_visa_type",this.MX_ALWD_DEPARTURE_DT="mx_alwd_dt_of_departure",this.dataToDeleteOnDashboardRoute=[this.EDIT_APLCT_IDX,this.PYMNT_DTLS,this.APPOINTMENT_DETAILS,this.ELIGBLTY_DTLS,this.CENTER_CODE,this.APPLICATION_SERVICE,this.CURR_APP_VAC,this.CURRENCY_CODE,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_CAT,this.VISA_CATEGORY,this.VISA_SUB_CATEGORY,this.CMPLTD_MOD,this.RESHDL_APTMNT_MODE,this.SERVICE_TYPE,this.UPDATED_CART,this.CART_AMOUNT],this.dataToBeDeletedOnNewApplicantAdd=[this.MX_ALWD_DEPARTURE_DT,this.APPLICATION_STATUS,this.APPLICANT_APLHA_ID,this.APPLICANT_GRP_APLHA_ID,this.ROUTE_ID,this.CURR_APP_VISA_CAT,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.SERVICE_FEE,this.SERVICE_TAX,this.VAC_FEE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.APPOINTMENT_DETAILS,this.APPLICATION_DETAILS,this.PYMNT_DATA,this.PYMNT_DTLS,this.APPLICATION_SERVICE,this.TRANSACTION_ID],this.errors=new o.a,this.addErrors=e=>this.errors.next(e),this.getErrors=()=>this.errors.asObservable();const t=this.loggedInStatus.value||sessionStorage.getItem(this.LOGIN_STATUS),i=this.currentApplicantVisaCat;this.updateLoginStatus(t),this.setCurrApplicantVisaCategory(i);const a=sessionStorage.getItem("total_amount")||this.isTotalFeesSource.value,l=sessionStorage.getItem(this.CURRENCY_CODE)||null;this.updateTotalAmount(a,l)}getValue(e,t=!0){try{const i=sessionStorage.getItem(e)||localStorage.getItem(e);if(i&&"null"!==i)return isNaN(i)?i:Number(i);if(t)throw new Error(`${s.b.KEY_NOT_FOUND_IN_STORAGE}: ${e}`);return null}catch(i){throw i}}setStorageValue(e,t){localStorage.setItem(e,t)}getStorageValue(e){return localStorage.getItem(e)||null}saveToSession(e,t){try{const i="object"==typeof t?JSON.stringify(t):t;sessionStorage.setItem(e,i)}catch(i){throw i}}clearSession(){sessionStorage.clear()}setTitle(e){this.titleService.setTitle(e)}saveApplicationSchemaInBrowser(e){return Object(a.a)(this,void 0,void 0,(function*(){return sessionStorage.setItem(this.APP_SCHEMA,JSON.stringify(e)),this.appSchemaSubscriber.next(e),!0}))}saveFullApplicationSchemaInBrowser(e){return Object(a.a)(this,void 0,void 0,(function*(){return sessionStorage.setItem(this.FULL_APP_SCHEMA,JSON.stringify(e)),!0}))}getApplicationSchema(){const e=sessionStorage.getItem(this.APP_SCHEMA)||null;return e?JSON.parse(e):e}getFullApplicationSchema(){const e=sessionStorage.getItem(this.FULL_APP_SCHEMA)||null;return e?JSON.parse(e):e}getAllModulesSchema(){try{const e=sessionStorage.getItem(this.APP_SCHEMA)||null;return e?JSON.parse(e).modules:e}catch(e){return null}}updateLoginStatus(e){sessionStorage.setItem(this.LOGIN_STATUS,String(e)),this.loggedInStatus.next(e)}get loggedStatus(){return sessionStorage.getItem(this.loginStatus)}updateTotalAmount(e,t){t&&sessionStorage.setItem(this.CURRENCY_CODE,t),sessionStorage.setItem("total_amount",String(e)),this.isTotalFeesSource.next(e)}updateTempTotalAmount(e){this.isTotalFeesSource.next(e)}get totalAmount(){return sessionStorage.getItem("total_amount")}updateJwt(e){sessionStorage.setItem(this.JWT,e.accessToken)}updateLoggedEmail(e){sessionStorage.setItem(this.EMAIL,e)}getJWT(){return sessionStorage.getItem(this.JWT)}getLoggedEmail(){return sessionStorage.getItem(this.EMAIL)}updateCurrentModule(e){this.currentModuleObservable.next(e)}get currentModule(){return this.currentModuleObservable.value}getLoggedInStatus(){return this.loggedInStatus.value}get loginStatus(){return this.loggedInStatus.value}get containsAppSchema(){return!!this.getApplicationSchema()}setCurrApplicantVisaCategory(e){sessionStorage.setItem(this.CURR_APP_VISA_CAT,String(e))}setCurrApplicantVisaType(e){sessionStorage.setItem(this.CURR_APP_VISA_TYPE,String(e))}get currentApplicantVisaCat(){return sessionStorage.getItem(this.CURR_APP_VISA_CAT)}get currentApplicantVisaType(){return sessionStorage.getItem(this.CURR_APP_VISA_TYPE)}updateTokenOnRegistration(e){sessionStorage.setItem(this.REGISTERED_USER_TOKEN,e)}set appMissionLanguage(e){localStorage.setItem(this.APP_MISSION_LANGUAGE,JSON.stringify(e))}get appMissionLanguage(){return JSON.parse(localStorage.getItem(this.APP_MISSION_LANGUAGE)||null)}set clientIpAddress(e){sessionStorage.setItem(this.IP_ADDRESS,e)}get clientIpAddress(){return sessionStorage.getItem(this.IP_ADDRESS)}set updatedCartAmount(e){sessionStorage.setItem(this.UPDATED_CART,e)}get updatedCartAmount(){return sessionStorage.getItem(this.UPDATED_CART)}clearMissionlanguage(){localStorage.removeItem(this.APP_MISSION_LANGUAGE)}set appLanguageCode(e){localStorage.setItem(this.APP_LANGUAGE_CODE,e)}get appLanguageCode(){return localStorage.getItem(this.APP_LANGUAGE_CODE)||null}set activateMessage(e){localStorage.setItem(this.ACTIVATE_MESSAGE,e)}get activateMessage(){return localStorage.getItem(this.ACTIVATE_MESSAGE)||null}get servicefees(){return sessionStorage.getItem(this.SERVICE_FEE)||"0"}set servicefees(e){sessionStorage.setItem(this.SERVICE_FEE,e)}get vacFees(){return JSON.parse(sessionStorage.getItem(this.VAC_FEE))||[]}set vacFees(e){sessionStorage.setItem(this.VAC_FEE,JSON.stringify(e))}get serviceTax(){return sessionStorage.getItem(this.SERVICE_TAX)||"0"}set serviceTax(e){sessionStorage.setItem(this.SERVICE_TAX,e)}clearActivateMessage(){localStorage.removeItem(this.ACTIVATE_MESSAGE)}set appCultureCode(e){localStorage.setItem(this.APP_CULTURE_CODE,e)}get appCultureCode(){return localStorage.getItem(this.APP_CULTURE_CODE)||l.a.defaultCultureCode}set tenent(e){localStorage.setItem(this.TENENT,e)}get tenent(){return localStorage.getItem(this.TENENT)||null}set transactionId(e){sessionStorage.setItem(this.TRANSACTION_ID,e)}get transactionId(){return sessionStorage.getItem(this.TRANSACTION_ID)||null}set countryCode(e){localStorage.setItem(this.COUNTRYCODE,e)}get countryCode(){return localStorage.getItem(this.COUNTRYCODE)||null}set documentIdentifierId(e){sessionStorage.setItem(this.DOCUMENT_IDENTIFIER,e)}get documentIdentifierId(){return sessionStorage.getItem(this.DOCUMENT_IDENTIFIER)||null}getUserToken(){return sessionStorage.getItem("user_token")}setRouteId(e){sessionStorage.setItem(this.ROUTE_ID,String(e))}get routeId(){const e=sessionStorage.getItem(this.ROUTE_ID)||null;return e?Number(e):null}setApplicantAplhaId(e){sessionStorage.setItem(this.APPLICANT_APLHA_ID,e)}get applicantAplhaId(){return sessionStorage.getItem(this.APPLICANT_APLHA_ID)||null}setApplicantGroupAplhaId(e){sessionStorage.setItem(this.APPLICANT_GRP_APLHA_ID,e)}get applicantGroupAplhaId(){return sessionStorage.getItem(this.APPLICANT_GRP_APLHA_ID)||null}set setCurrencyCode(e){sessionStorage.setItem(this.CURRENCY_CODE,e)}get currencyCode(){return sessionStorage.getItem(this.CURRENCY_CODE)}set loggedInUsingEmail(e){sessionStorage.setItem(this.LOGGED_IN_USING_EMAIL,String(e))}get loggedInUsingEmail(){return JSON.parse(sessionStorage.getItem("logged_in_using_email"))||!1}get applicationStatus(){return sessionStorage.getItem(this.APPLICATION_STATUS||"")}set applicationStatus(e){sessionStorage.setItem(this.APPLICATION_STATUS,e)}clearApplicationDetails(){sessionStorage.removeItem(this.APPLICATION_DETAILS)}get applicationDetailValue(){try{return JSON.parse(sessionStorage.getItem(this.APPLICATION_DETAILS))}catch(e){throw new Error(e)}}set applicationDetailValue(e){sessionStorage.setItem(this.APPLICATION_DETAILS,JSON.stringify(e))}get applicationDetailCopy(){try{return JSON.parse(sessionStorage.getItem(this.APPLICATION_DETAILS_CPY))}catch(e){throw new Error(e)}}set applicationDetailCopy(e){sessionStorage.setItem(this.APPLICATION_DETAILS_CPY,JSON.stringify(e))}clearAppConfiguration(){sessionStorage.removeItem(this.APPLICATION_CONFIGURATION)}get applicationConfiguration(){try{return JSON.parse(sessionStorage.getItem(this.APPLICATION_CONFIGURATION))}catch(e){throw new Error(e)}}set applicationConfiguration(e){sessionStorage.setItem(this.APPLICATION_CONFIGURATION,JSON.stringify(e))}clearappCenterCode(){sessionStorage.removeItem(this.APP_CENTER_CODE)}get appCenterCode(){try{return JSON.parse(sessionStorage.getItem(this.APP_CENTER_CODE))}catch(e){throw new Error(e)}}set appCenterCode(e){sessionStorage.setItem(this.APP_CENTER_CODE,JSON.stringify(e))}saveAppointmentDetails(e){sessionStorage.setItem(this.APPOINTMENT_DETAILS,JSON.stringify(e))}getAppointmentDetails(){const e=sessionStorage.getItem(this.APPOINTMENT_DETAILS);return e?JSON.parse(e):void 0}clearAppointmentDetail(){sessionStorage.removeItem(this.APPOINTMENT_DETAILS)}get applicantService(){try{return JSON.parse(sessionStorage.getItem(this.APPLICATION_SERVICE))}catch(e){throw new Error(e)}}set applicantService(e){sessionStorage.setItem(this.APPLICATION_SERVICE,JSON.stringify(e))}set centerCode(e){sessionStorage.setItem(this.CENTER_CODE,e)}get centerCode(){return sessionStorage.getItem(this.CENTER_CODE)}set urn(e){sessionStorage.setItem(this.URN_NO,e)}get urn(){return sessionStorage.getItem(this.URN_NO)}set editApplicantDetailsIdx(e){sessionStorage.setItem(this.EDIT_APLCT_IDX,String(e))}get editApplicantDetailsIdx(){const e=sessionStorage.getItem(this.EDIT_APLCT_IDX);return e?Number(e):null}clearEditApplicationIdx(){sessionStorage.removeItem(this.EDIT_APLCT_IDX)}set paymentDetails(e){sessionStorage.setItem(this.PYMNT_DTLS,JSON.stringify(e))}get paymentDetails(){const e=sessionStorage.getItem(this.PYMNT_DTLS);return e?JSON.parse(e):null}set paymentData(e){sessionStorage.setItem(this.PYMNT_DATA,JSON.stringify(e))}get paymentData(){const e=sessionStorage.getItem(this.PYMNT_DATA);return e?JSON.parse(e):null}set completedModuleName(e){sessionStorage.setItem(this.CMPLTD_MOD,e)}get completedModuleName(){return sessionStorage.getItem(this.CMPLTD_MOD)}get eligibilityDetails(){return JSON.parse(sessionStorage.getItem(this.ELIGBLTY_DTLS))}set eligibilityDetails(e){sessionStorage.setItem(this.ELIGBLTY_DTLS,JSON.stringify(e))}get calculatedCodeData(){return JSON.parse(sessionStorage.getItem(this.CALCULATED_CODE))}set calculatedCodeData(e){sessionStorage.setItem(this.CALCULATED_CODE,JSON.stringify(e))}clearCalulatedData(){sessionStorage.removeItem(this.CALCULATED_CODE)}set tempAppSchema(e){sessionStorage.setItem(this.TEMP_APP_SCHEMA,JSON.stringify(e))}get tempAppSchema(){return JSON.parse(sessionStorage.getItem(this.TEMP_APP_SCHEMA))}setIsRescheduleAptmntMode(e){sessionStorage.setItem(this.RESHDL_APTMNT_MODE,String(e))}get isRescheduleAptmntMode(){return"true"===sessionStorage.getItem(this.RESHDL_APTMNT_MODE)}set visaSubCategory(e){sessionStorage.setItem(this.VISA_SUB_CATEGORY,e)}get visaSubCategory(){return sessionStorage.getItem(this.VISA_SUB_CATEGORY)}set serviceTypeCode(e){sessionStorage.setItem(this.SERVICE_TYPE,e)}get serviceTypeCode(){return sessionStorage.getItem(this.SERVICE_TYPE)}set visaCategory(e){sessionStorage.setItem(this.VISA_CATEGORY,e)}get visaCategory(){return sessionStorage.getItem(this.VISA_CATEGORY)}setMaxAlwdDepartureDate(e){sessionStorage.setItem(this.MX_ALWD_DEPARTURE_DT,JSON.stringify(e))}getMaxAlwdDepartureDate(){return JSON.parse(sessionStorage.getItem(this.MX_ALWD_DEPARTURE_DT))}clearSessionOnDashboardRoute(){try{for(const e of this.dataToDeleteOnDashboardRoute)sessionStorage.removeItem(e)}catch(e){console.log(e)}}get updateFees(){return"true"===sessionStorage.getItem(this.UPDATE_FEES)}set updateFees(e){sessionStorage.setItem(this.UPDATE_FEES,String(e))}set feeAmount(e){sessionStorage.setItem(this.CART_AMOUNT,String(e))}get feeAmount(){const e=sessionStorage.getItem(this.CART_AMOUNT);return null!==e?Number(e).toFixed(2):null}clearFeeAmount(){sessionStorage.removeItem(this.CART_AMOUNT)}get onlineFeePaymentModeOpted(){const e=sessionStorage.getItem(this.SERVICE_FEE_MODE_CHKBX_STATUS);return"true"===e||"false"!==e&&null}set onlineFeePaymentModeOpted(e){sessionStorage.setItem(this.SERVICE_FEE_MODE_CHKBX_STATUS,String(e))}deleteOldApplicantDetails(){try{for(const e of this.dataToBeDeletedOnNewApplicantAdd)sessionStorage.removeItem(e)}catch(e){console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)(r.dc(c.d))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kiQV:function(e){e.exports=JSON.parse('{"name":"evisa-ui-rendering-engine","version":"3.0.0","scripts":{"ng":"ng","start":"npm run lint && ng serve --host 0.0.0.0 --port 21174 --disable-host-check","start-ihc":"npm run lint && ng serve -c ihc --host 0.0.0.0 --port 21174 --disable-host-check","build-staging-ihc":"node ./update_build_version.js && npm run prebuild_staging_bash && ng build --prod -c staging-ihc --aot --output-hashing=all --deployUrl=https://staging-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_staging_bash","build":"node ./update_build_version.js && ng build --prod --aot --output-hashing=all --deployUrl=https://liftassets.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js","build-staging":"node ./update_build_version.js && npm run prebuild_staging_bash && ng build --prod --configuration=staging --aot --output-hashing=all --deployUrl=https://staging-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_staging_bash","build-uat":"node ./update_build_version.js && npm run prebuild_uat_bash && ng build --prod --configuration=uat --aot --output-hashing=all --deployUrl=https://uat-lift.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_uat_bash","build-preprod":"node ./update_build_version.js && npm run prebuild_preprod_bash && ng build --prod --configuration=preprod --aot --output-hashing=all --deployUrl=https://preprod.vfsglobal.com/_angular/ --crossOrigin=anonymous && node ./versioning.build.js && npm run postbuild && npm run postbuild_preprod_bash","prebuild":"npm run prebuild_prod_bash","postbuild":"html-minifier dist/evisa-ui-rendering-engine/index.html --collapse-whitespace --remove-comments --remove-optional-tags --remove-redundant-attributes --remove-script-type-attributes --remove-tag-whitespace --use-short-doctype -o dist/evisa-ui-rendering-engine/index.html && npm run organize_dist","prebuild_staging_bash":"bash ./pre-build.sh staging-lift.vfsglobal.com","prebuild_uat_bash":"bash ./pre-build.sh uat-lift.vfsglobal.com","prebuild_preprod_bash":"bash ./pre-build.sh liftassets.vfsglobal.com","prebuild_prod_bash":"bash ./pre-build.sh liftassets.vfsglobal.com","postbuild_staging_bash":"bash ./post-build.sh staging-lift.vfsglobal.com","postbuild_uat_bash":"bash ./post-build.sh uat-lift.vfsglobal.com","postbuild_preprod_bash":"bash ./post-build.sh liftassets.vfsglobal.com","postbuild_prod_bash":"bash ./post-build.sh liftassets.vfsglobal.com","organize_dist":"bash ./organize_dist.sh","aws-stage-clear":"aws s3 rm s3://evisa-staging-lift-application --recursive","aws-stage-deploy":"aws s3 cp ./dist/evisa-ui-rendering-engine  s3://evisa-staging-lift-application --recursive --acl public-read","aws-stage-cf-invalidate":"aws cloudfront create-invalidation --distribution-id EC4G31UEP8GOW --paths \'/*\'","aws-uat-clear":"aws s3 rm s3://evisa-uat-lift-app --recursive","aws-uat-deploy":"aws s3 cp ./dist/evisa-ui-rendering-engine  s3://evisa-uat-lift-app --recursive --acl public-read","aws-uat-cf-invalidate":"aws cloudfront create-invalidation --distribution-id E3TNBSSC1L7FWO --paths \'/*\'","aws-preprod-clear":"aws s3 rm s3://evisa-prod-lift-app --recursive","aws-preprod-deploy":"aws s3 cp ./dist/evisa-ui-rendering-engine  s3://evisa-prod-lift-app --recursive --acl public-read","aws-preprod-cf-invalidate":"aws cloudfront create-invalidation --distribution-id EJOPOD43UXRTZ --path \'/*\'","aws-prod-clear":"aws s3 rm s3://lift-poc-production --recursive","aws-prod-deploy":"aws s3 cp ./dist/evisa-ui-rendering-engine  s3://lift-poc-production --recursive --acl public-read","test":"ng test --watch=false --code-coverage","lint":"ng lint","e2e":"ng e2e","clean":"rm -rf dist"},"private":true,"dependencies":{"@angular/animations":"~9.1.3","@angular/cdk":"~9.2.1","@angular/common":"~9.1.3","@angular/compiler":"~9.1.3","@angular/core":"~9.1.3","@angular/forms":"~9.1.3","@angular/localize":"^9.1.3","@angular/material":"^9.2.1","@angular/platform-browser":"~9.1.3","@angular/platform-browser-dynamic":"~9.1.3","@angular/router":"~9.1.3","@angular/service-worker":"~9.1.3","@contentful/rich-text-html-renderer":"^14.1.2","@fullcalendar/angular":"^5.1.0","@fullcalendar/daygrid":"^5.1.0","@fullcalendar/interaction":"^5.1.0","@ng-bootstrap/ng-bootstrap":"^5.1.4","@ng-idle/core":"^8.0.0-beta.4","@ng-idle/keepalive":"^8.0.0-beta.4","@ngx-translate/core":"^11.0.1","@ngx-translate/http-loader":"^6.0.0","bootstrap":"^4.3.1","contentful":"^7.14.12","core-js":"^2.5.0","country-code-lookup":"0.0.19","file-saver":"^2.0.2","iso-639-1":"^2.1.4","jquery":"^3.5.1","moment":"^2.24.0","moment-timezone":"^0.5.32","ngx-file-drop":"^8.0.8","ngx-logger":"^4.1.9","ngx-mat-select-search":"^2.1.2","ngx-material-timepicker":"^5.3.0","ngx-ui-loader":"^9.1.1","replace-in-file":"^6.1.0","rxjs":"~6.5.5","subsink":"^1.0.1","tslib":"^1.10.0","zone.js":"~0.10.2"},"devDependencies":{"@angular-devkit/build-angular":"~0.901.9","@angular/cli":"~9.1.2","@angular/compiler-cli":"~9.1.2","@angular/language-service":"~9.1.2","@types/jasmine":"~3.3.8","@types/jasminewd2":"~2.0.3","@types/node":"^12.12.64","codelyzer":"^5.1.2","gzipper":"^3.7.0","html-minifier":"^4.0.0","jasmine":"^3.6.3","jasmine-core":"~3.4.0","jasmine-spec-reporter":"~4.2.1","karma":"^5.1.1","karma-chrome-launcher":"~2.2.0","karma-coverage-istanbul-reporter":"~2.0.1","karma-jasmine":"~2.0.1","karma-jasmine-html-reporter":"^1.4.0","protractor":"^7.0.0","ts-node":"~7.0.0","tslint":"~5.15.0","typescript":"~3.8.3"}}')},mS5l:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i("2Vo4"),n=i("fXoL");let o=(()=>{class e{constructor(){this.reviewDataObserable=new a.a([]),this.reviewData=this.reviewDataObserable.asObservable(),this.translations$=new a.a(null),this.appliedServiceList=new a.a([]),this.appliedServiceList$=this.appliedServiceList.asObservable(),this.pageLoadComplete=new a.a(null),this.pageLoadComplete$=this.pageLoadComplete.asObservable(),this.totalFees=new a.a(null),this.cartAmount=new a.a(null),this.editYourDetail=!1,this.dashboardTab=0}get formDataWithModuleName(){return this.formData}set formDataWithModuleName(e){this.formData=e}get tempRouteId(){return this.temporaryRouteId}set tempRouteId(e){this.temporaryRouteId=e}set currentFormGroup(e){this.currFormGroup=e}get currentFormGroup(){return this.currFormGroup}notifyPageLoadCompleted(e){this.pageLoadComplete.next(e)}getPageLoadCompleteValue(){return this.pageLoadComplete.value}set rescheduledData(e){this.reschldData=e}get rescheduledData(){return this.reschldData}clearrescheduledData(){this.reschldData=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},psYf:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var a=i("mrSG"),n=i("TCge"),o=i("3Pt+"),s=i("QrD/"),l=i("2Vo4"),r=i("z6cu"),c=i("LRne"),d=i("cp0P"),u=i("AytR"),p=i("fXoL"),m=i("tyNb"),b=i("cT3p"),h=i("3N+h"),g=i("XjvO"),f=i("sYmb"),v=i("IXuf");let y=(()=>{class e{constructor(e,t,i,a,n,o){this.router=e,this.sessionService=t,this.httpService=i,this.utilityService=a,this.translate=n,this.contentfulService=o,this.showAlertBarSubject=new l.a({}),this.showAlertBar$=this.showAlertBarSubject.asObservable()}getApiEndPoint(e,t){try{const i=e.apis[u.a.applicationType].filter(e=>e.name===t);if(i.length>0)return i[0];Object(r.a)("api_not_found: "+t)}catch(i){Object(r.a)("fetch_api_from_schema_failed: "+i)}}extractFieldOfType(e,t){return t.find(t=>t.fields[0].fieldType===e)}removeError(e,t){const i=e.errors;return i&&delete i[t],i&&!Object.keys(i).length?e.setErrors(null):e.setErrors(i),!0}extractAndConstructParams(e,t,i,...a){try{if(0===e.length)return null;const n={};for(const o of e){let e;switch(o.type){case s.f.FORM_VALUE:e=t.get(o.value).value;break;case s.f.STATIC:e=o.value;break;case s.f.SESSION:e=this.sessionService.getValue(o.value,o.mandatory);break;case s.f.RESPONSE:e=i[o.value];break;case s.f.FUNCTION:e=this.callFunctionByName(o.key,null,a)}if(!e&&o.mandatory)throw new Error("fetch_param_value_failed");n[o.key]=e}return n}catch(n){throw n}}callFunctionByName(e,t,i){try{let a,o=0;for(const n of i)if(n[e]){o++,a=t?n[e](t):n[e]();break}if(0===o)throw new Error(`${n.b.FUNCTION_NOT_FOUND}: ${e}`);return a}catch(a){Object(r.a)(`${n.b.FUNCTION_CALL_FAILED}: ${a}`)}return!0}fetchDefaultValue(e,t,...i){return Object(a.a)(this,void 0,void 0,(function*(){try{if(!e||0===(null==e?void 0:e.length))return null;let a=null;for(const n of e)switch(n.type){case s.f.FORM_VALUE:a=t.get(n.value).value;break;case s.f.STATIC:a=n.value;break;case s.f.SESSION:a=this.sessionService.getValue(n.value,!1);break;case s.f.FUNCTION:a=yield this.callFunctionByName(n.key,n,i)}return a}catch(a){throw a}}))}convertToMomentDate(e){try{const t=Object.assign({},e);return t.month=e.month-1,t}catch(t){throw t}}routeToDashboard(){this.routeToPostLoginModule(n.l.DASHBOARD)}routeToBookAppointment(){this.routeToPostLoginModule(n.l.BOOK_APPOINTMENT)}routeToPaymentConfirmation(){this.routeToPostLoginModule(n.l.PAYMENT_CONFIRMATION)}constructURLBeforeLogin(e){return`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${e}`}routeToNotFound(){try{this.router.navigate(this.sessionService.tenent?[this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,n.l.NOT_FOUND]:["/"]),this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession()}catch(e){console.log(e)}}routeToLogin(){try{this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession();const e=window.location.pathname.split("/");(null==e?void 0:e.length)>3&&this.router.navigate([e[1],e[2],e[3],n.l.LOGIN])}catch(e){console.log(e)}}routeToOnBoarding(){try{this.routeToPostLoginModule(n.l.ON_BOARDING)}catch(e){console.log(e)}}routeToForgotPassword(){try{this.routeToPostLoginModule(n.l.FORGOT_PASSWORD)}catch(e){console.log(e)}}routeToPostLoginModule(e){this.router.navigate([this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,e])}routeToPostLoginModuleByIndex(e){try{const t=this.sessionService.getAllModulesSchema()||[],i=e<t.length?t[e]:null;i&&this.routeToPostLoginModule(i.routeUrl)}catch(t){console.log(t)}}logoutAndRouteToLogin(){var e,t,i;return Object(a.a)(this,void 0,void 0,(function*(){try{const a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},o=yield this.httpService.payloadPost(n.a.api.logout,a).toPromise().catch(e=>Object(r.a)(e)).then(e=>e);o&&(this.showAlertBar((null===(e=null==o?void 0:o.error)||void 0===e?void 0:e.description)||(null==o?void 0:o.message)||(null===(t=null==o?void 0:o.error)||void 0===t?void 0:t.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(i=null==o?void 0:o.error)||void 0===i?void 0:i.code)),!1),setTimeout(()=>{this.showAlertBar(null,!1)},5e3))}catch(a){console.log(a)}finally{this.routeToLogin()}}))}logoutAndRouteToNotFound(){var e,t,i;return Object(a.a)(this,void 0,void 0,(function*(){try{const a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},o=yield this.httpService.payloadPost(n.a.api.logout,a).toPromise().catch(e=>Object(r.a)(e)).then(e=>e);o&&(this.showAlertBar((null===(e=null==o?void 0:o.error)||void 0===e?void 0:e.description)||(null==o?void 0:o.message)||(null===(t=null==o?void 0:o.error)||void 0===t?void 0:t.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(i=null==o?void 0:o.error)||void 0===i?void 0:i.code)),!1),setTimeout(()=>{this.showAlertBar(null,!1)},5e3))}catch(a){console.log(a)}finally{this.routeToNotFound()}}))}redirect(e,t,i,a,n,o){const s=this.sessionService.getAllModulesSchema()||[];for(const l of s){if(l.logicalName.toLowerCase()===e.toLowerCase()){this.setSessionValues(t,i,a,n,o),this.routeToPostLoginModule(l.routeUrl);break}if(["summary","paymentinitiate"].indexOf(e.toLowerCase())>-1){this.setSessionValues(t,i,a,n,o),this.routeToPostLoginModule("review-and-payment");break}}}setSessionValues(e,t,i,a,n){this.sessionService.setApplicantAplhaId(t),this.sessionService.setApplicantGroupAplhaId(e),this.sessionService.setCurrApplicantVisaCategory(i),this.sessionService.setCurrApplicantVisaType(a),this.sessionService.setRouteId(n)}extractApiAsPerDomain(e){try{return e[u.a.applicationType]}catch(t){Object(r.a)(t)}}postLoginActivity(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{const i=yield this.loadApplicationSchema(e),a=yield this.moduleAccessibilityFilter(i);return this.sessionService.saveFullApplicationSchemaInBrowser(a),this.sessionService.saveApplicationSchemaInBrowser(a),this.sessionService.updateLoginStatus(!0),this.sessionService.updateJwt(t),!0}catch(i){throw new Error(i)}}))}loadApplicationSchema(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield e.getApplicationSchema();if(!t||0===t.length)throw new Error(n.b.INVALID_RESPONSE);return t}))}moduleAccessibilityFilter(e){try{const t=JSON.parse(JSON.stringify(e)),i=t.modules.filter(e=>{var t,i;const a=e.accessibility;if((null===(t=null==a?void 0:a.domain)||void 0===t?void 0:t.value)===n.a.ALL||(null===(i=null==a?void 0:a.domain)||void 0===i?void 0:i.value)===u.a.applicationType)return e});return t.modules=i,t}catch(t){Object(r.a)(t)}}filterModulesOnBucketId(e,t,i){try{const i=JSON.parse(JSON.stringify(e)),a=i.modules;let o=[];if(!n.a.MODULE_BUCKET.hasOwnProperty(t))throw new Error(n.b.BUCKET_NOT_FOUND);o=n.a.MODULE_BUCKET[t];const s=a.filter(e=>{if(o.indexOf(e.logicalName)>-1)return e});return i.modules=s,i}catch(a){throw a}}getBucketIdFromValue(e,t){try{const i=e.find(e=>Number(e.key)===Number(t));if(i)return i.value;throw new Error(n.b.NO_BUCKET_PROVIDED)}catch(i){throw i}}filterModulesOnSelectedValue(e,t,i){var a;try{const o=t.hasOwnProperty("filter")?t.filter:void 0,s=e.find(e=>e.logicalName===n.a.modules.ELIGIBILITY_CRITERIA);if(!o||!s)return;const l=this.getBucketIdFromEligibilityCritera(s,i,null===(a=o.module)||void 0===a?void 0:a.key);return this.filterModulesOnBucketId(t,l,i)}catch(o){throw o}}removeServiceModule(e){try{const t=JSON.parse(JSON.stringify(e)),i=t.modules.filter(e=>e.logicalName!==n.a.modules.SERVICES);return t.modules=i,t}catch(t){throw t}}addServiceModule(e){try{const t=JSON.parse(JSON.stringify(e)).modules,i=this.sessionService.getApplicationSchema(),a=t.filter(e=>this.utilityService.strictCompare(e.logicalName,n.a.modules.SERVICES));return(null==a?void 0:a.length)>0&&!i.modules.some(e=>this.utilityService.strictCompare(e.logicalName,n.a.modules.SERVICES))&&i.modules.push(a[0]),i.modules.sort((e,t)=>e.displayPosition>t.displayPosition?1:t.displayPosition>e.displayPosition?-1:0),i}catch(t){throw t}}filterControlsOnSelectedValues(e,t){try{const i=JSON.parse(JSON.stringify(e)),a=i.modules||[];for(const e of a){const i=e.controls.filter(e=>{for(const i of e.fields){const a=i.accessibility;if(a.hasOwnProperty("eligibility")&&a.eligibility.hasOwnProperty("value")){const i=a.eligibility.value;if(i===n.a.ALL||Array.isArray(i)&&i.indexOf(t)>-1)return e}}});e.controls=i}return i}catch(i){Object(r.a)(`schema_filter_failed: ${i} `)}}getBucketIdFromEligibilityCritera(e,t,i){try{if(!i)throw new Error(n.b.NO_BUCKET_FIELD_REF_SCHEMA);const a=e.controls.find(e=>(null==e?void 0:e.fields[0].logicalName)===i),o=(null==a?void 0:a.fields[0].onChangeEvent).find(e=>"filterModulesOnValue"===e.functionName);return this.getBucketIdFromValue(o.params,t)}catch(a){throw a}}getSchemaByModuleName(e){try{const t=this.sessionService.getAllModulesSchema().find(t=>t.logicalName===e);if(!t)throw new Error(`Error: invalid_module ${e} `);return t}catch(t){console.log(t)}}showAlertBar(e,t){this.showAlertBarSubject.next({message:e,isError:t})}onResponsesAlertBar({statusCode:e,isError:t}){const i=e&&this.translateValue("commonSections.messages.statusMessages."+e)?this.translateValue("commonSections.messages.statusMessages."+e):this.translateValue("commonSections.messages.apiErrorMessages.message1");this.showAlertBarSubject.next({message:i,isError:t})}translateValue(e){let t="";return this.translate.get(e).subscribe(e=>{t=e}),t}get imagePath(){return`/ ${String(n.d.assets.images).replace("$TENENT",this.sessionService.tenent)} /`}get globalImagePath(){return n.a.ASSETS_PATH.globalImages}getDecodedAccessToken(e){}handleErrorCloseLoader(e){throw console.log(`Error Status: ${e.status}\nMessage: ${e.message}`),e}constructDate(e,t=s.a.D_M_Y_SLASH){try{let i;const a=1===String(e.day).length?"0"+e.day:e.day,o=1===String(e.month).length?"0"+e.month:e.month;switch(t){case s.a.D_M_Y_SLASH:i=`${a}/${o}/${e.year}`;break;case s.a.M_D_Y_SLASH:i=`${o}/${a}/${e.year}`;break;case s.a.Y_M_D_SLASH:i=`${e.year}/${o}/${a}`;break;default:throw new Error(n.b.INVALID_DATE_FORMAT)}return i}catch(i){throw i}}touchAllFields(e){for(const t of Object.keys(e.controls)){const i=e.get(t);i instanceof o.d?i.markAsTouched({onlySelf:!0}):i instanceof o.f&&this.touchAllFields(i)}return!0}deleteApplicantFromSelectedService(e){try{const t=this.sessionService.applicantService;if(!t)return;const i=t.map((i,a)=>{const n=i.modifiedList.length,o=i.modifiedList.filter(t=>t.arn!==e);return t[a].modifiedList=o,n>o.length&&(t[a].unit=parseFloat(i.unit)-1,t[a].total=parseFloat(i.total)-parseFloat(i.amount)),t[a]});return this.sessionService.applicantService=i,i}catch(t){throw t}}deleteApplicantDetails(e){return Object(a.a)(this,void 0,void 0,(function*(){try{const t=JSON.parse(JSON.stringify(this.sessionService.applicationDetailValue));if(!t||e>=t.applicantList.length)throw new Error("Error:");let i=t.applicantList.slice(e,e+1);if(0===e){const e=t.applicantList.filter(e=>this.utilityService.strictCompare(e.isEndorsedChild,!0));i=i.concat(e)}const n={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:null,arn:null},o=i.map(e=>Object(a.a)(this,void 0,void 0,(function*(){return n.urn=e.urn,n.arn=e.arn,yield this.httpService.payloadPost("/appointment/deleteapplicant",n).toPromise().then(e=>e)}))),s=(yield Promise.all(o),i.map(e=>e.arn)),l=t.applicantList.filter(e=>-1===s.indexOf(e.arn));return t.applicantList=l,this.sessionService.applicationDetailValue=t,s.map(e=>this.deleteApplicantFromSelectedService(e)),t}catch(t){console.log(t)}}))}formatDateDMY(e){const t=e.match(/\d+/g);return t[2]+"/"+t[1]+"/"+t[0]}getVacCenters(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{const i={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode};return e&&(i.cultureCode=e),t&&(i.centerCode=t),yield this.httpService.slashParamsDoGet(n.a.api.masterCenter,i).toPromise().catch(e=>e).then(e=>e)}catch(i){throw i}}))}getVisaCategories(e,t,i){return Object(a.a)(this,void 0,void 0,(function*(){try{const a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e};let o=t?"?serviceType="+t:null;return i&&(o+=`${"null"!==o?"&":""}nationalityCode=${i}`),yield this.httpService.slashParamsDoGet(n.a.api.masterVisaCategoryCode,a,o).toPromise().catch(e=>e).then(e=>e)}catch(a){throw a}}))}getSubVisaCategories(e,t,i,o){return Object(a.a)(this,void 0,void 0,(function*(){try{const a={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:e};t&&(a.visaCategoryCode=t);let s=i?"?serviceType="+i:null;return o&&(s+=`${"null"!==s?"&":""}nationalityCode=${o}`),yield this.httpService.slashParamsDoGet(n.a.api.masterSubVisaCategory,a,s).toPromise().catch(e=>e).then(e=>e)}catch(a){throw a}}))}loadAppointmentSlots(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:e.centerCode,loginUser:this.sessionService.getLoggedEmail(),visaCategoryCode:e.visaCategoryCode,languageCode:this.sessionService.appCultureCode,applicantsCount:e.applicantsCount,days:e.days,fromDate:e.fromDate,slotType:e.slotType,toDate:e.toDate,captcha_key_slots:e.captchaResponse},i=n.a.URLS_FOR_SLOTS_GET_METHOD.indexOf(u.a.apiEndPoint)>-1?this.httpService.getLamdaData(n.a.api.appointmentSlots,t):this.httpService.payloadPost(n.a.api.appointmentSlots,t);return yield i.toPromise().then(e=>e).catch(e=>e)}))}loadVacConfiguration(e){return Object(a.a)(this,void 0,void 0,(function*(){try{return e||(e=this.sessionService.centerCode),yield this.httpService.slashParamsDoGet(`${n.a.api.configuration}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${e}`).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}}))}loadNationality(e){return Object(a.a)(this,void 0,void 0,(function*(){try{let t=`${n.a.api.loadNationality}/${this.sessionService.appCultureCode}`;return e&&(t+="?serviceType="+e),yield this.httpService.slashParamsDoGet(t).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}}))}loadMasterData(e){return Object(a.a)(this,void 0,void 0,(function*(){try{return yield this.httpService.slashParamsDoGet(e).toPromise().catch(e=>e).then(e=>e)}catch(t){throw t}}))}loadEntryType(e,t,i,o){return Object(a.a)(this,void 0,void 0,(function*(){try{const a=this.sessionService.eligibilityDetails,s=a&&a.centerCode?a.centerCode:e,l=a&&a.visaCategoryCode?a.visaCategoryCode:t,r=a&&a.nationalityCode?a.nationalityCode:i,d=a&&a.serviceType?a.serviceType:o;if(!r)return Object(c.a)();let u=`${n.a.api.loadEntrytype}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${s}/${l}/${r}`;return d&&(u+="/"+d),yield this.httpService.slashParamsDoGet(u).toPromise().catch(e=>e).then(e=>e)}catch(a){throw a}}))}loadSubmissionType(){return Object(a.a)(this,void 0,void 0,(function*(){try{return yield this.httpService.slashParamsDoGet(n.a.api.loadEoiApplicationType).toPromise().catch(e=>e).then(e=>null==e?void 0:e.submissionTypes)}catch(e){throw e}}))}loadServiceType(){return Object(a.a)(this,void 0,void 0,(function*(){try{return yield this.httpService.slashParamsDoGet(n.a.api.loadEoiServiceType).toPromise().catch(e=>e).then(e=>null==e?void 0:e.serviceTypes)}catch(e){throw e}}))}loadEOIVisaType(e,t,i,o){return Object(a.a)(this,void 0,void 0,(function*(){try{const a=this.sessionService.eligibilityDetails,s=a&&a.serviceType?a.serviceType:o;let l=`${n.a.api.loadEoiVisaType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${a?a.centerCode:e}/${a?a.visaCategoryCode:t}/${a?a.nationalityCode:i}`;return s&&(l+="/"+s),yield this.httpService.slashParamsDoGet(l).toPromise().catch(e=>e).then(e=>e)}catch(a){throw a}}))}loadClientIp(){return Object(a.a)(this,void 0,void 0,(function*(){try{if(this.sessionService.clientIpAddress)return this.sessionService.clientIpAddress;const e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.open("GET",u.a.clientIpEndPoint,!0),e.onload=()=>{const t=JSON.parse(e.responseText);this.sessionService.clientIpAddress=(null==t?void 0:t.ip)?null==t?void 0:t.ip:null},e.send(null)}catch(e){throw e}}))}loadServices(e){return Object(a.a)(this,void 0,void 0,(function*(){try{return new Promise(t=>Object(a.a)(this,void 0,void 0,(function*(){const i=`${n.a.api.vasByVac}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${e||this.sessionService.centerCode}`,a=yield this.httpService.slashParamsDoGet(i).toPromise().then(e=>e).catch(e=>e),o=[];[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.appLanguageCode}`,this.sessionService.appLanguageCode].forEach(e=>{const t=Object.assign({content_type:"valueAddedService","fields.locale":e});o.push(this.contentfulService.getEnteries(t))}),Object(d.a)(o).subscribe(([e,i,n])=>{var o;const s=e,l=n;l.items=l.items.concat(i.items),l.items=l.items.concat(s.items);const r=l;let c;c=a&&(null===(o=a.data)||void 0===o?void 0:o.length)>0?a.data.map(e=>{var t,i;const a=r.items.filter(t=>t.fields.vasCode.toLowerCase()===e.code.toLowerCase());return(null===(t=null==e?void 0:e.complimentaryVAS)||void 0===t?void 0:t.length)>0&&(null===(i=null==e?void 0:e.complimentaryVAS)||void 0===i||i.map((t,i)=>{const a=r.items.filter(e=>e.fields.vasCode.toLowerCase()===t.code.toLowerCase());if((null==a?void 0:a.length)>0)return e.complimentaryVAS[i].contentful=a[0].fields})),e.contentful=(null==a?void 0:a.length)>0?a[0].fields:[],e}):[],c.forEach(e=>delete e.timeslot),t(c)})})))}catch(t){throw new Error(`${n.b.INVALID_REGISTRATION_RESPONSE}: ${t}`)}}))}addMandatoryService(){return Object(a.a)(this,void 0,void 0,(function*(){const e=[],t=yield this.loadServices();t.forEach((i,n)=>Object(a.a)(this,void 0,void 0,(function*(){if(i.isMandatory){const a=yield this.modifyServiceList(i);t[n].unit=a.applicants.length,t[n].total=a.applicants.length*i.unitPrice,t[n].modifiedList=a.applicants,t[n].timeslot="isMandatory",e.push(i),this.sessionService.applicantService=e}else{const t=this.sessionService.applicantService;if(0===(null==t?void 0:t.length)||!t)return;if(t.filter(e=>e.id===i.id).length>0){const a=t.filter(e=>e.id===i.id);e.push(a[0]),this.sessionService.applicantService=e}}}))),this.sessionService.updateFees=!0}))}modifyServiceList(e){return new Promise(t=>{var i;const a=this.sessionService.applicationDetailValue?null===(i=this.sessionService.applicationDetailValue)||void 0===i?void 0:i.applicantList:[];let n;n=a&&(null==a?void 0:a.length)>0?a.map(t=>({arn:t.arn,vasId:e.id.toString(),vasCode:e.code})):[];const o={};o.loginuser=this.sessionService.getLoggedEmail(),o.missioncode=this.sessionService.tenent,o.countrycode=this.sessionService.countryCode,o.urn=(null==a?void 0:a.length)>0?a[0].urn:"",o.applicants=n,t(o)})}checkIfPostal(e){return!this.utilityService.strictCompare(n.e.indexOf(e),-1)}checkIfPrepaidCourier(e){return!this.utilityService.strictCompare(n.f.indexOf(e),-1)}}return e.\u0275fac=function(t){return new(t||e)(p.dc(m.f),p.dc(b.a),p.dc(h.a),p.dc(g.a),p.dc(f.e),p.dc(v.a))},e.\u0275prov=p.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},rIfo:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));class a{constructor(){this._subs=[]}add(...e){this._subs=this._subs.concat(e)}set sink(e){this._subs.push(e)}unsubscribe(){this._subs.forEach(e=>e&&e.unsubscribe()),this._subs=[]}}},zUnb:function(e,t,i){"use strict";i.r(t);var a=i("fXoL"),n=i("AytR"),o=i("jhN1"),s=i("3Pt+"),l=i("tyNb"),r=i("mrSG"),c=i("TCge"),d=i("QvU+"),u=i("Wp6s"),p=i("ofXK"),m=i("sYmb"),b=i("kmnG"),h=i("qFsG"),g=i("bSwM"),f=i("bTqV");function v(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",8),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",9),a.Vb(5,"div",10),a.Vb(6,"div",11),a.Vb(7,"div",12),a.Qb(8,"i",13),a.Ub(),a.Qb(9,"div",14),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.Pc(a.nc(3,2,"onBoarding.pageDetails.para6")),a.Bb(7),a.tc("translate",e.resgistrationResCode)}}function y(e,t){1&e&&(a.Vb(0,"div",33),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function S(e,t){1&e&&(a.Vb(0,"div",33),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function C(e,t){if(1&e&&(a.Vb(0,"div",31),a.Mc(1,y,3,3,"div",32),a.Mc(2,S,3,3,"div",32),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.registerF.emailid.errors.required),a.Bb(1),a.tc("ngIf",e.registerF.emailid.errors.pattern)}}function O(e,t){1&e&&(a.Vb(0,"div",33),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function I(e,t){if(1&e&&(a.Vb(0,"div",31),a.Mc(1,O,3,3,"div",32),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.registerF.password.errors.required)}}function L(e,t){1&e&&(a.Vb(0,"div",33),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"onBoarding.messages.passwordpattern")," "))}function T(e,t){if(1&e&&(a.Vb(0,"div",31),a.Mc(1,L,3,3,"div",32),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.registerF.password.errors.pattern)}}function V(e,t){1&e&&(a.Vb(0,"div",33),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function A(e,t){1&e&&(a.Vb(0,"div",33),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.misMatch.message1")," "))}function N(e,t){if(1&e&&(a.Vb(0,"div",31),a.Mc(1,V,3,3,"div",32),a.Mc(2,A,3,3,"div",32),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.registerF.confirmPassword.errors.required),a.Bb(1),a.tc("ngIf",e.registerF.confirmPassword.errors.passwordMismatch)}}const D=function(e){return{"form-error":e}};function E(e,t){if(1&e){const e=a.Wb();a.Vb(0,"form",15),a.hc("ngSubmit",(function(){return a.Fc(e),a.lc().registerUser()})),a.Vb(1,"div",16),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",17),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,C,3,2,"div",18),a.Vb(8,"mat-form-field",19),a.Qb(9,"input",20),a.Ub(),a.Ub(),a.Vb(10,"div",16),a.Vb(11,"div"),a.Oc(12),a.mc(13,"translate"),a.Vb(14,"span",17),a.Oc(15,"*"),a.Ub(),a.Ub(),a.Mc(16,I,2,1,"div",18),a.Mc(17,T,2,1,"div",18),a.Vb(18,"mat-form-field",19),a.Qb(19,"input",21),a.Vb(20,"i",22),a.hc("keypress",(function(){a.Fc(e);const t=a.lc();return t.passwordToogle=!t.passwordToogle}))("mouseenter",(function(){return a.Fc(e),a.lc().passwordToogle=!0}))("mouseleave",(function(){return a.Fc(e),a.lc().passwordToogle=!1}))("click",(function(){return a.Fc(e),a.lc().passwordToogle=!0})),a.Ub(),a.Ub(),a.Ub(),a.Vb(21,"div",16),a.Vb(22,"div"),a.Oc(23),a.mc(24,"translate"),a.Vb(25,"span",17),a.Oc(26,"*"),a.Ub(),a.Ub(),a.Mc(27,N,3,2,"div",18),a.Vb(28,"mat-form-field",19),a.Qb(29,"input",23),a.Vb(30,"i",22),a.hc("keypress",(function(){a.Fc(e);const t=a.lc();return t.confirmPasswordToggle=!t.confirmPasswordToggle}))("mouseenter",(function(){return a.Fc(e),a.lc().confirmPasswordToggle=!0}))("mouseleave",(function(){return a.Fc(e),a.lc().confirmPasswordToggle=!1}))("click",(function(){return a.Fc(e),a.lc().confirmPasswordToggle=!0})),a.Ub(),a.Ub(),a.Ub(),a.Vb(31,"div",24),a.Vb(32,"mat-checkbox",25),a.Vb(33,"span",26),a.Oc(34),a.mc(35,"translate"),a.Vb(36,"a",27),a.Oc(37),a.mc(38,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(39,"button",28),a.Oc(40),a.mc(41,"translate"),a.Ub(),a.Vb(42,"div",29),a.Vb(43,"span"),a.Oc(44),a.mc(45,"translate"),a.Ub(),a.Vb(46,"a",30),a.hc("click",(function(){a.Fc(e);const t=a.lc();return t.route(t.constants.routes.LOGIN)})),a.Oc(47),a.mc(48,"translate"),a.Ub(),a.Vb(49,"span"),a.Oc(50),a.mc(51,"translate"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.lc();a.tc("formGroup",e.registerForm),a.Bb(1),a.tc("ngClass",a.xc(41,D,e.registerF.emailid.touched&&e.registerF.emailid.invalid)),a.Bb(2),a.Pc(a.nc(4,23,"onBoarding.formLabel.label1")),a.Bb(4),a.tc("ngIf",e.registerF.emailid.touched&&e.registerF.emailid.errors),a.Bb(3),a.tc("ngClass",a.xc(43,D,e.registerF.password.touched&&e.registerF.password.invalid)),a.Bb(2),a.Pc(a.nc(13,25,"onBoarding.formLabel.label7")),a.Bb(4),a.tc("ngIf",e.registerF.password.touched&&e.registerF.password.errors),a.Bb(1),a.tc("ngIf",e.registerF.password.touched&&e.registerF.password.errors),a.Bb(2),a.tc("type",e.passwordToogle?"text":"password"),a.Bb(1),a.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),a.Bb(1),a.tc("ngClass",a.xc(45,D,e.registerF.confirmPassword.touched&&e.registerF.confirmPassword.invalid)),a.Bb(2),a.Pc(a.nc(24,27,"onBoarding.formLabel.label8")),a.Bb(4),a.tc("ngIf",e.registerF.confirmPassword.touched&&e.registerF.confirmPassword.errors),a.Bb(2),a.tc("type",e.confirmPasswordToggle?"text":"password"),a.Bb(1),a.tc("ngClass",e.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),a.Bb(4),a.Qc(" ",a.nc(35,29,"onBoarding.pageDetails.para7"),""),a.Bb(2),a.tc("href",e.privacyPolicy,a.Hc),a.Bb(1),a.Pc(a.nc(38,31,"onBoarding.pageDetails.para8")),a.Bb(2),a.tc("disabled",e.registerForm.invalid),a.Bb(1),a.Qc(" ",a.nc(41,33,"onBoarding.buttons.button1")," "),a.Bb(4),a.Pc(a.nc(45,35,"onBoarding.pageDetails.para3")),a.Bb(3),a.Pc(a.nc(48,37,"onBoarding.pageDetails.para4")),a.Bb(3),a.Pc(a.nc(51,39,"onBoarding.pageDetails.para5"))}}let P=(()=>{class e extends d.a{constructor(e){super(),this.formBuilder=e,this.constants=c.a,this.resgistrationResCode=null}ngOnInit(){this.initRegisterForm()}get privacyPolicy(){return this.utilityService.externalUrlAppend("register-privacy-policy")}initRegisterForm(){this.registerForm=this.formBuilder.group({emailid:["",[s.s.pattern(c.m.email_caps_allowed),s.s.required]],password:["",[s.s.pattern(c.r),s.s.required]],confirmPassword:["",s.s.required],instructionAgreed:["",s.s.requiredTrue]},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}get registerF(){return this.registerForm.controls}registerUser(){return Object(r.a)(this,void 0,void 0,(function*(){try{if(this.registerForm.invalid)return;const e=yield this.httpService.payloadWithoutTokenPost(c.a.api.registration,{missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,emailid:this.registerForm.value.emailid,password:this.registerForm.value.password,url:`${n.a.activateLink}${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/activateemail?q=`}).toPromise().then(e=>e).catch(e=>e),t="onBoarding.messages.status.";"200"===e.code?(this.registerForm.reset(),this.resgistrationResCode=t+e.code):"415"!==e.error.code&&"414"!==e.error.code||(this.resgistrationResCode=t+e.error.code)}catch(e){console.log("REGISTRATION_FAILED: "+e)}}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-on-boarding"]],features:[a.yb],decls:12,vars:8,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-15","fs-24"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","emailid","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],[1,"form-group"],["formControlName","instructionAgreed",1,"mat-checkbox-brand","mr-5"],[1,"text-wrap"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer","mx-5",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"mat-card",3),a.Vb(4,"h1",4),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Vb(7,"p",5),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Mc(10,v,10,4,"ng-container",6),a.Mc(11,E,52,47,"form",7),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(5),a.Pc(a.nc(6,4,"onBoarding.headerLabel.label1")),a.Bb(3),a.Pc(a.nc(9,6,"onBoarding.pageDetails.para1")),a.Bb(2),a.tc("ngIf",t.resgistrationResCode),a.Bb(1),a.tc("ngIf",!t.resgistrationResCode))},directives:[u.a,p.o,m.a,s.u,s.n,s.g,p.m,b.b,h.b,s.b,s.m,s.e,g.a,f.a],pipes:[m.d],encapsulation:2}),e})();var w=i("XsrI");function U(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",19),a.Vb(2,"div",20),a.Qb(3,"i",21),a.Vb(4,"div"),a.Oc(5),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(5),a.Pc(e.actiateMailMessage)}}function B(e,t){1&e&&(a.Vb(0,"div",24),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function M(e,t){1&e&&(a.Vb(0,"div",24),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.patternMessages.message1")," "))}function k(e,t){if(1&e&&(a.Vb(0,"div",22),a.Mc(1,B,3,3,"div",23),a.Mc(2,M,3,3,"div",23),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.loginF.username.errors.required),a.Bb(1),a.tc("ngIf",e.loginF.username.errors.pattern)}}function F(e,t){1&e&&(a.Vb(0,"div",24),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"commonSections.messages.requiredMessages.message1")," "))}function _(e,t){if(1&e&&(a.Vb(0,"div",22),a.Mc(1,F,3,3,"div",23),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.loginF.password.errors.required)}}const x=function(e){return{"form-error":e}};let R=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.baseService=t,this.constants=c.a}ngOnInit(){this.utilityService.fireCustomEvent({dl_category:"Authenticate",dl_action:"Authentication page is loaded",dl_label:void 0,value:void 0});try{this.actiateMailMessage=this.sessionService.activateMessage,setTimeout(()=>{this.sessionService.clearActivateMessage(),this.actiateMailMessage=null},5e3),this.initLoginForm()}catch(e){console.log(e)}}initLoginForm(){try{this.loginForm=this.formBuilder.group({username:["",[s.s.pattern(c.m.email_caps_allowed),s.s.required]],password:["",s.s.required]})}catch(e){console.log(e)}}get loginF(){return this.loginForm.controls}submitCaptcha(){try{if(this.loginForm.invalid)return;this.utilityService.executeCapctha(c.a.captcha_action.LOGIN).then(e=>{this.onSubmit(e)})}catch(e){console.log(e)}}onSubmit(e){var t,i;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!e)return;this.utilityService.startNgxUiSpinner();const a={captcha_api_key:e,missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode},n=yield this.httpService.doPost(c.a.api.login,Object.assign({},a,this.loginForm.value)).toPromise();n.accessToken?(this.sessionService.updateLoggedEmail(this.loginForm.value.username),yield this.commonService.postLoginActivity(this.baseService,n),this.commonService.routeToDashboard()):(this.actiateMailMessage=(null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.description)||(null==n?void 0:n.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(i=null==n?void 0:n.error)||void 0===i?void 0:i.code)),setTimeout(()=>{this.actiateMailMessage=null},1e4)),this.utilityService.stopNgxUiSpinner()}catch(a){this.utilityService.stopNgxUiSpinner(),console.log("LOGIN_FAILED: "+a)}}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.c),a.Pb(w.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-login"]],features:[a.yb],decls:43,vars:33,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[4,"ngIf"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"row","no-gutters","justify-content-between","mt-20"],[1,"col-auto","mb-10"],[1,"fs-14","fs-sm-18","text-decoration-underline","cursor-pointer","c-inherit",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"mat-card",3),a.Vb(4,"h1",4),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Vb(7,"p",5),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Mc(10,U,6,1,"ng-container",6),a.Vb(11,"form",7),a.Vb(12,"div",8),a.Vb(13,"div"),a.Oc(14),a.mc(15,"translate"),a.Vb(16,"span",9),a.Oc(17,"*"),a.Ub(),a.Ub(),a.Mc(18,k,3,2,"div",10),a.Vb(19,"mat-form-field",11),a.Qb(20,"input",12),a.Ub(),a.Ub(),a.Vb(21,"div",8),a.Vb(22,"div"),a.Oc(23),a.mc(24,"translate"),a.Vb(25,"span",9),a.Oc(26,"*"),a.Ub(),a.Ub(),a.Mc(27,_,2,1,"div",10),a.Vb(28,"mat-form-field",11),a.Qb(29,"input",13),a.Vb(30,"i",14),a.hc("keypress",(function(){return t.passwordToogle=!t.passwordToogle}))("mouseenter",(function(){return t.passwordToogle=!0}))("mouseleave",(function(){return t.passwordToogle=!1}))("click",(function(){return t.passwordToogle=!0})),a.Ub(),a.Ub(),a.Ub(),a.Vb(31,"button",15),a.hc("click",(function(){return t.submitCaptcha()})),a.Oc(32),a.mc(33,"translate"),a.Ub(),a.Vb(34,"div",16),a.Vb(35,"div",17),a.Vb(36,"a",18),a.hc("click",(function(){return t.route(t.constants.routes.FORGOT_PASSWORD)})),a.Oc(37),a.mc(38,"translate"),a.Ub(),a.Ub(),a.Vb(39,"div",17),a.Vb(40,"a",18),a.hc("click",(function(){return t.route(t.constants.routes.ON_BOARDING)})),a.Oc(41),a.mc(42,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(5),a.Pc(a.nc(6,15,"login.headerLabel.label1")),a.Bb(3),a.Pc(a.nc(9,17,"login.pageDetails.para1")),a.Bb(2),a.tc("ngIf",t.actiateMailMessage),a.Bb(1),a.tc("formGroup",t.loginForm),a.Bb(1),a.tc("ngClass",a.xc(29,x,t.loginF.username.touched&&t.loginF.username.invalid)),a.Bb(2),a.Pc(a.nc(15,19,"login.formLabel.label1")),a.Bb(4),a.tc("ngIf",t.loginF.username.touched&&t.loginF.username.errors),a.Bb(3),a.tc("ngClass",a.xc(31,x,t.loginF.password.touched&&t.loginF.password.invalid)),a.Bb(2),a.Pc(a.nc(24,21,"login.formLabel.label2")),a.Bb(4),a.tc("ngIf",t.loginF.password.touched&&t.loginF.password.errors),a.Bb(2),a.tc("type",t.passwordToogle?"text":"password"),a.Bb(1),a.tc("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),a.Bb(2),a.Qc(" ",a.nc(33,23,"login.buttons.button8")," "),a.Bb(5),a.Pc(a.nc(38,25,"login.buttons.button5")),a.Bb(4),a.Pc(a.nc(42,27,"login.buttons.button9")))},directives:[u.a,p.o,s.u,s.n,s.g,p.m,b.b,h.b,s.b,s.m,s.e,f.a],pipes:[m.d],encapsulation:2}),e})();function G(e,t){if(1&e&&(a.Vb(0,"div",17),a.Vb(1,"div",18),a.Qb(2,"i",19),a.Vb(3,"div"),a.Oc(4),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc();a.Bb(4),a.Pc(e.message)}}function j(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function Q(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"commonSections.messages.patternMessages.message1")))}function Y(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,j,3,3,"div",21),a.Mc(2,Q,3,3,"div",21),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.forgotF.email.errors.required),a.Bb(1),a.tc("ngIf",e.forgotF.email.errors.pattern)}}const W=function(e){return{"form-error":e}};let H=(()=>{class e extends d.a{constructor(e){super(),this.formBuilder=e,this.intitForgotForm(),this.message=null}intitForgotForm(){this.forgotPasswordForm=this.formBuilder.group({email:["",[s.s.pattern(c.m.email_caps_allowed),s.s.required]],missioncode:[this.sessionService.tenent,s.s.required],countrycode:[this.sessionService.countryCode,s.s.required],url:`${n.a.activateLink}${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/resetpassword?q=`})}get forgotF(){var e;return null===(e=this.forgotPasswordForm)||void 0===e?void 0:e.controls}onSubmit(){return Object(r.a)(this,void 0,void 0,(function*(){try{if(this.forgotPasswordForm.invalid)return;(yield this.httpService.payloadWithoutTokenPost(c.a.api.forgotPassword,this.forgotPasswordForm.value).toPromise())&&(this.message=this.commonService.translateValue("commonSections.messages.statusMessages.418"),setTimeout(()=>{this.message=null},5e3))}catch(e){console.log(`${c.b.INVALID_RESPONSE}: ${e}`)}}))}routeToSignUp(){this.commonService.routeToOnBoarding()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-forgot-password"]],features:[a.yb],decls:30,vars:24,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid;",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","email","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"mat-card",3),a.Vb(4,"div",4),a.Vb(5,"h1",5),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Vb(8,"p",6),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Mc(11,G,5,1,"div",7),a.Vb(12,"form",8),a.hc("ngSubmit",(function(){return t.onSubmit()})),a.Vb(13,"div",9),a.Vb(14,"div"),a.Oc(15),a.mc(16,"translate"),a.Vb(17,"span",10),a.Oc(18,"*"),a.Ub(),a.Ub(),a.Mc(19,Y,3,2,"div",11),a.Vb(20,"mat-form-field",12),a.Qb(21,"input",13),a.mc(22,"translate"),a.Ub(),a.Ub(),a.Vb(23,"button",14),a.Oc(24),a.mc(25,"translate"),a.Ub(),a.Vb(26,"div",15),a.Vb(27,"a",16),a.hc("click",(function(){return t.routeToSignUp()})),a.Oc(28),a.mc(29,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(6),a.Pc(a.nc(7,10,"forogotpassword.headerLabel.label1")),a.Bb(3),a.Pc(a.nc(10,12,"forogotpassword.pageDetails.para1")),a.Bb(2),a.tc("ngIf",t.message),a.Bb(1),a.tc("formGroup",t.forgotPasswordForm),a.Bb(1),a.tc("ngClass",a.xc(22,W,t.forgotF.email.touched&&t.forgotF.email.invalid)),a.Bb(2),a.Pc(a.nc(16,14,"forogotpassword.formLabel.label1")),a.Bb(4),a.tc("ngIf",t.forgotF.email.touched&&t.forgotF.email.errors),a.Bb(2),a.uc("placeholder",a.nc(22,16,"commonSections.formLabel.label2")),a.Bb(3),a.Pc(a.nc(25,18,"forogotpassword.buttons.button1")),a.Bb(4),a.Pc(a.nc(29,20,"forogotpassword.buttons.button2")))},directives:[u.a,p.o,s.u,s.n,s.g,p.m,b.b,h.b,s.b,s.m,s.e,f.a],pipes:[m.d],encapsulation:2}),e})(),z=(()=>{class e extends d.a{constructor(e){super(),this.activatedRoute=e}ngOnInit(){this.activateEmail(this.activatedRoute.params._value,this.activatedRoute.queryParams._value.q)}activateEmail(e,t){return Object(r.a)(this,void 0,void 0,(function*(){const i={missioncode:e.mission,countrycode:e.countrycode,token:t},a=yield this.httpService.payloadPost(c.a.api.activateEmail,i).toPromise().then(e=>e).catch(e=>e);a&&(this.sessionService.activateMessage=a.message?a.message:a.error.description,this.router.navigateByUrl(`${e.countrycode}/${this.sessionService.appLanguageCode}/${e.mission}/${c.l.LOGIN}`))}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(l.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-activate-email"]],features:[a.yb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var K=i("cT3p"),J=i("psYf");let q=(()=>{class e{constructor(e,t){this.sessionService=e,this.commonService=t}canActivate(){const e=this.sessionService.loginStatus&&this.sessionService.containsAppSchema;return e||this.commonService.routeToLogin(),e}}return e.\u0275fac=function(t){return new(t||e)(a.dc(K.a),a.dc(J.a))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Z=(()=>{class e{constructor(e,t){this.sessionService=e,this.commonService=t}canActivate(){return this.sessionService.loginStatus&&this.sessionService.containsAppSchema?(this.commonService.routeToDashboard(),!1):(this.sessionService.clearSession(),!0)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(K.a),a.dc(J.a))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var X=i("KD1d"),ee=i("1kSV"),te=i("d3UM");let ie=(()=>{class e{constructor(e){this.ngcontrol=e,this.options=[]}ngOnChanges(){var e,t;try{const i=null===(e=this.ngcontrol)||void 0===e?void 0:e.control;i&&1===(null===(t=this.options)||void 0===t?void 0:t.length)&&this.valueKey&&null==(null==i?void 0:i.value)&&(i.setValue(this.options[0][this.valueKey]),i.updateValueAndValidity())}catch(i){console.log(i)}}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.l))},e.\u0275dir=a.Kb({type:e,selectors:[["","appDefaultSelect",""]],inputs:{options:"options",valueKey:"valueKey"},features:[a.zb]}),e})();var ae=i("FKr1");let ne=(()=>{class e{transform(e,t){return e.sort((e,i)=>e[t]<i[t]?-1:e[t]>i[t]?1:0),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Ob({name:"sortBy",type:e,pure:!0}),e})();function oe(e,t){if(1&e&&(a.Vb(0,"h6",19),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Rc(" ",null==e.vacCenters?null:e.vacCenters.length," ",a.nc(2,2,"eligibilityCriteria.formLabel.label17")," ")}}function se(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message1")," "))}function le(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,se,3,3,"div",21),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.centerCode||null==e.formGroup.controls.centerCode.errors?null:e.formGroup.controls.centerCode.errors.required)}}function re(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.isoCode),a.Bb(1),a.Qc(" ",null==e?null:e.centerName," ")}}function ce(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message9")," "))}function de(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,ce,3,3,"div",21),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.formGroup.controls.serviceType.errors.required)}}function ue(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.code),a.Bb(1),a.Qc(" ",null==e?null:e.name," ")}}const pe=function(e){return{"form-error":e}};function me(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",6),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",7),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,de,2,1,"div",9),a.Vb(8,"mat-form-field",10),a.Vb(9,"mat-select",24),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc().onServiceTypeSelection(t)})),a.mc(10,"translate"),a.Mc(11,ue,2,2,"mat-option",12),a.mc(12,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(13,"hr"),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngClass",a.xc(15,pe,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.serviceType?null:e.formGroup.controls.serviceType.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.serviceType?null:e.formGroup.controls.serviceType.invalid))),a.Bb(2),a.Pc(a.nc(4,8,"eligibilityCriteria.formLabel.label18")),a.Bb(4),a.tc("ngIf",e.formGroup.controls.serviceType.touched&&e.formGroup.controls.serviceType.errors),a.Bb(2),a.uc("placeholder",a.nc(10,10,"eligibilityCriteria.placeholder.label9")),a.tc("options",e.serviceTypes)("valueKey","code"),a.Bb(2),a.tc("ngForOf",a.oc(12,12,e.serviceTypes,"name"))("ngForTrackBy",e.trackByFn)}}function be(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message4")," "))}function he(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,be,3,3,"div",21),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode||null==e.formGroup.controls.nationalityCode.errors?null:e.formGroup.controls.nationalityCode.errors.required)}}function ge(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.isoCode),a.Bb(1),a.Qc(" ",null==e?null:e.nationalityName," ")}}function fe(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",6),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",7),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,he,2,1,"div",9),a.Vb(8,"mat-form-field",10),a.Vb(9,"mat-select",25),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc().onNationalityChange(t)})),a.mc(10,"translate"),a.Mc(11,ge,2,2,"mat-option",12),a.mc(12,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(13,"hr"),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngClass",a.xc(15,pe,(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.invalid))),a.Bb(2),a.Pc(a.nc(4,8,"eligibilityCriteria.formLabel.label8")),a.Bb(4),a.tc("ngIf",(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.touched)&&(null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.nationalityCode?null:e.formGroup.controls.nationalityCode.errors)),a.Bb(2),a.uc("placeholder",a.nc(10,10,"eligibilityCriteria.placeholder.label4")),a.tc("options",e.nationalityList)("valueKey","isoCode"),a.Bb(2),a.tc("ngForOf",a.oc(12,12,e.nationalityList,"nationalityName"))("ngForTrackBy",e.trackByFn)}}function ve(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message2")," "))}function ye(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,ve,3,3,"div",21),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.selectedSubvisaCategory||null==e.formGroup.controls.selectedSubvisaCategory.errors?null:e.formGroup.controls.selectedSubvisaCategory.errors.required)}}function Se(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.code),a.Bb(1),a.Qc(" ",null==e?null:e.name," ")}}function Ce(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message3")," "))}function Oe(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,Ce,3,3,"div",21),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.visaCategoryCode||null==e.formGroup.controls.visaCategoryCode.errors?null:e.formGroup.controls.visaCategoryCode.errors.required)}}function Ie(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.code),a.Bb(1),a.Qc(" ",null==e?null:e.name," ")}}function Le(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message5")," "))}function Te(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,Le,3,3,"div",21),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",null==e.formGroup.controls.entryType||null==e.formGroup.controls.entryType.errors?null:e.formGroup.controls.entryType.errors.required)}}function Ve(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.code),a.Bb(1),a.Qc(" ",null==e?null:e.name," ")}}function Ae(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",6),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",7),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,Te,2,1,"div",9),a.Vb(8,"mat-form-field",10),a.Vb(9,"mat-select",26),a.mc(10,"translate"),a.Mc(11,Ve,2,2,"mat-option",12),a.mc(12,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(13,"hr"),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngClass",a.xc(15,pe,(null==e.formGroup.controls||null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.touched)&&(null==e.formGroup.controls||null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.invalid))),a.Bb(2),a.Pc(a.nc(4,8,"eligibilityCriteria.formLabel.label9")),a.Bb(4),a.tc("ngIf",(null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.touched)&&(null==e.formGroup.controls.entryType?null:e.formGroup.controls.entryType.errors)),a.Bb(2),a.uc("placeholder",a.nc(10,10,"eligibilityCriteria.placeholder.label5")),a.tc("options",e.entryTypeList)("valueKey","code"),a.Bb(2),a.tc("ngForOf",a.oc(12,12,e.entryTypeList,"name"))("ngForTrackBy",e.trackByFn)}}function Ne(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message6")," "))}function De(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,Ne,3,3,"div",21),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",null==e.formGroup.controls.visaType||null==e.formGroup.controls.visaType.errors?null:e.formGroup.controls.visaType.errors.required)}}function Ee(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.code),a.Bb(1),a.Qc(" ",null==e?null:e.name," ")}}function Pe(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",6),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",7),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,De,2,1,"div",9),a.Vb(8,"mat-form-field",10),a.Vb(9,"mat-select",27),a.mc(10,"translate"),a.Mc(11,Ee,2,2,"mat-option",12),a.mc(12,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(13,"hr"),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngClass",a.xc(15,pe,(null==e.formGroup.controls?null:e.formGroup.controls.visaType.touched)&&(null==e.formGroup.controls?null:e.formGroup.controls.visaType.invalid))),a.Bb(2),a.Pc(a.nc(4,8,"eligibilityCriteria.formLabel.label10")),a.Bb(4),a.tc("ngIf",e.formGroup.controls.visaType.touched&&e.formGroup.controls.visaType.errors),a.Bb(2),a.uc("placeholder",a.nc(10,10,"eligibilityCriteria.placeholder.label6")),a.tc("options",e.eoiVisaTypeList)("valueKey","code"),a.Bb(2),a.tc("ngForOf",a.oc(12,12,e.eoiVisaTypeList,"name"))("ngForTrackBy",e.trackByFn)}}function we(e,t){1&e&&(a.Vb(0,"div",22),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"eligibilityCriteria.messages.errorMessages.message7")," "))}function Ue(e,t){if(1&e&&(a.Vb(0,"div",20),a.Mc(1,we,3,3,"div",21),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",null==e.formGroup.controls.applicationType||null==e.formGroup.controls.applicationType.errors?null:e.formGroup.controls.applicationType.errors.required)}}function Be(e,t){if(1&e&&(a.Vb(0,"mat-option",23),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.code),a.Bb(1),a.Qc(" ",null==e?null:e.name," ")}}function Me(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",6),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",7),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,Ue,2,1,"div",9),a.Vb(8,"mat-form-field",10),a.Vb(9,"mat-select",28),a.hc("ngModelChange",(function(t){a.Fc(e);const i=a.lc();return i.filterModulesOnSubmissionTypes(t),i.submissionTypeChange(t)})),a.mc(10,"translate"),a.Mc(11,Be,2,2,"mat-option",12),a.mc(12,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(13,"hr"),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngClass",a.xc(15,pe,e.formGroup.controls.applicationType.touched&&e.formGroup.controls.applicationType.invalid)),a.Bb(2),a.Pc(a.nc(4,8,"eligibilityCriteria.formLabel.label11")),a.Bb(4),a.tc("ngIf",e.formGroup.controls.applicationType.touched&&e.formGroup.controls.applicationType.errors),a.Bb(2),a.uc("placeholder",a.nc(10,10,"eligibilityCriteria.placeholder.label7")),a.tc("options",e.submissionTypeList)("valueKey","code"),a.Bb(2),a.tc("ngForOf",a.oc(12,12,e.submissionTypeList,"name"))("ngForTrackBy",e.trackByFn)}}function ke(e,t){1&e&&(a.Vb(0,"div",29),a.Vb(1,"div",30),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()),2&e&&(a.Bb(2),a.Qc(" ",a.nc(3,1,"eligibilityCriteria.formLabel.label6")," "))}function Fe(e,t){if(1&e&&(a.Vb(0,"div",29),a.Vb(1,"div",30),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()),2&e){const e=a.lc();a.Bb(2),a.Rc(" ",a.nc(3,2,"eligibilityCriteria.formLabel.label7")," : ",e.latestAvailableDate," ")}}let _e=(()=>{class e extends X.a{constructor(e,t){super(),this.ngbCalendar=e,this.fb=t,this.environment=n.a,this.isEditMode=!1,this.nationalityList=[],this.eoiVisaTypeList=[],this.submissionTypeList=[],this.initBaseForm(c.a.modules.ELIGIBILITY_CRITERIA),this.appointmentSlots=!1,this.noSlotCheck=!1,this.latestAvailableDate=null,this.entryTypeList=[],this.visaCategories=[],this.vacCenters=[],this.visaTypes=[],this.latestAvailableDate=null}ngOnInit(){try{this.utilityService.fireCustomEvent({dl_category:"form loaded",dl_action:"form loaded - application details",dl_label:void 0,value:void 0}),this.formGroup=this.initFormGroup(),this.initApplication()}catch(e){this.logger.error(e)}}initApplication(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.sessionService.applicationConfiguration?this.sessionService.applicationConfiguration:{},t=this.sessionService.eligibilityDetails;t?(yield this.addFieldWithValue(e),this.appConfiguration=e,yield this.loadVacCodes(),this.checkForEditMode().then(e=>this.onEditMode(e)),yield this.loadVacCodes(),this.formGroup.patchValue(t)):this.loadVacCodes()}catch(e){this.logger.error(e)}}))}addFieldWithValue(e){return new Promise((t,i)=>Object(r.a)(this,void 0,void 0,(function*(){(null==e?void 0:e.enableNationalityFilterForVisaCategory)&&(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new s.d(null,s.s.required))),(null==e?void 0:e.enableServiceType)&&(this.serviceTypes=yield this.commonService.loadServiceType(),this.formGroup.addControl("serviceType",new s.d(null,s.s.required))),(null==e?void 0:e.enableEntryType)&&(yield this.loadEntryType(),this.formGroup.addControl("entryType",new s.d(null,s.s.required))),(null==e?void 0:e.enableVisaType)&&(null==e?void 0:e.enableServiceType)&&(yield this.loadEOIVisaType(),this.formGroup.addControl("visaType",new s.d(null,s.s.required))),(null==e?void 0:e.enableApplicationType)&&(this.submissionTypeList=yield this.commonService.loadSubmissionType(),this.formGroup.addControl("applicationType",new s.d(null,s.s.required))),t(!0)})))}initFormGroup(){return this.fb.group({centerCode:[null,s.s.required],selectedSubvisaCategory:[null,s.s.required],visaCategoryCode:[null,s.s.required]})}checkSlotAvailability(e){return Object(r.a)(this,void 0,void 0,(function*(){try{this.appointmentSlots=!1;const t={applicantsCount:1,slotType:2,days:30*n.a.slotDuration,centerCode:this.formGroup.get("centerCode").value,visaCategoryCode:this.formGroup.get("visaCategoryCode").value,captchaResponse:e,fromDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD")),toDate:this.commonService.formatDateDMY(this.utilityService.momentInstance().add(30*n.a.slotDuration+1,"days").format("YYYY-MM-DD"))},i=yield this.commonService.loadAppointmentSlots(t);i&&i.length>0&&(this.appointmentSlots=!0,this.latestAvailableDate=i[0].date?this.utilityService.momentInstance(i[0].date,"MM/DD/YYYY").format("DD/MM/YYYY"):null)}catch(t){throw new Error(`${c.b.INVALID_REGISTRATION_RESPONSE}: ${t}`)}}))}loadVacCodes(){return Object(r.a)(this,void 0,void 0,(function*(){try{this.vacCenters=[],this.visaTypes=[],this.visaCategories=[];const e=yield this.commonService.getVacCenters();return e&&(this.vacCenters=e),!0}catch(e){this.logger.error(e)}}))}onServiceTypeSelection(e){return Object(r.a)(this,void 0,void 0,(function*(){this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.eoiVisaTypeList=[],this.nationalityList=[],this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory","visaCategoryCode","entryType","visaType","nationalityCode"]),this.loadNationality(e),this.loadVisaType(this.formGroup.value.centerCode)}))}onCenterCodeChange(e){var t;return Object(r.a)(this,void 0,void 0,(function*(){this.utilityService.startNgxUiSpinner(),this.nationalityList=[],this.serviceTypes=[],this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.eoiVisaTypeList=[],this.utilityService.formcontrolReset(this.formGroup,["nationalityCode","serviceType","selectedSubvisaCategory","visaCategoryCode","entryType","visaType"]),yield this.loadConfiguration(e),(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableServiceType)||this.loadVisaType(e),this.utilityService.stopNgxUiSpinner()}))}onNationalityChange(e){this.entryTypeList=[],this.eoiVisaTypeList=[],this.visaTypes=[],this.visaCategories=[],this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory","visaCategoryCode","entryType","visaType"]),this.loadVisaType(this.formGroup.value.centerCode),this.loadEntryType(),this.loadEOIVisaType()}appointmentCatgoryChange(e){this.entryTypeList=[],this.eoiVisaTypeList=[],this.utilityService.formcontrolReset(this.formGroup,["entryType","visaType"]),this.loadVisaCategory(e)}loadNationality(e){var t;return Object(r.a)(this,void 0,void 0,(function*(){if(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableNationalityFilterForVisaCategory){this.nationalityList=yield this.commonService.loadNationality(e);const t=this.sessionService.eligibilityDetails;t&&t.hasOwnProperty("nationalityCode")&&this.formGroup.get("nationalityCode").setValue(t.nationalityCode)}}))}submitVisacategory(e){return Object(r.a)(this,void 0,void 0,(function*(){try{this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableEntryType&&this.appConfiguration.enableApplicationType?(this.entryTypeList=[],this.eoiVisaTypeList=[],this.utilityService.formcontrolReset(this.formGroup,["entryType","visaType"]),this.noSlotCheck=!0,this.loadEntryType(e),this.loadEOIVisaType(e)):(this.noSlotCheck=!1,this.submitCaptcha()),this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableServiceType&&this.appConfiguration.enableVisaType&&this.loadEOIVisaType(e)}catch(t){console.log(t)}}))}loadVisaType(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=this.sessionService.eligibilityDetails,i=e||(t&&t.centerCode?t.centerCode:this.formGroup.value.centerCode);if(!i)return!1;this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory"]);let a=null,n=null;this.appConfiguration.enableServiceType&&(a=t&&t.serviceType?t.serviceType:this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(n=t&&t.nationalityCode?t.nationalityCode:this.formGroup.value.nationalityCode);const o=yield this.commonService.getVisaCategories(i,a,n);o&&(this.visaTypes=o);const s=this.sessionService.eligibilityDetails;return s&&s.hasOwnProperty("selectedSubvisaCategory")&&this.formGroup.get("selectedSubvisaCategory").setValue(s.selectedSubvisaCategory),!0}catch(t){this.logger.error(t)}}))}loadVisaCategory(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{if(!e)return;this.utilityService.formcontrolReset(this.formGroup,["visaCategoryCode"]);const i=t||this.formGroup.get("centerCode").value;let a=null,n=null;this.appConfiguration.enableServiceType&&(a=this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(n=this.formGroup.value.nationalityCode);const o=yield this.commonService.getSubVisaCategories(i,e,a,n);o&&(this.visaCategories=o);const s=this.sessionService.eligibilityDetails;return s&&s.visaCategoryCode&&this.formGroup.get("visaCategoryCode").setValue(s.visaCategoryCode),!0}catch(i){this.logger.error(i)}}))}submitCaptcha(){!this.isEditMode&&this.formGroup.get("visaCategoryCode").value&&this.utilityService.executeCapctha(c.a.captcha_action.SLOT).then(e=>{this.checkSlotAvailability(e)})}submissionTypeChange(e){this.commonService.checkIfPostal(e)?this.noSlotCheck=!0:(this.noSlotCheck=!1,this.submitCaptcha())}loadEntryType(e){var t,i,a;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!this.appConfiguration.enableEntryType)return!1;const n=this.sessionService.eligibilityDetails,o=n&&n.centerCode?n.centerCode:this.formGroup.value.centerCode,s=e||(n&&n.visaCategoryCode?n.visaCategoryCode:this.formGroup.value.visaCategoryCode),l=n&&n.nationalityCode?n.nationalityCode:this.formGroup.value.nationalityCode,r=n&&n.serviceType?n.serviceType:this.formGroup.value.serviceType;if(o&&s&&l&&r){const e=yield this.commonService.loadEntryType(o,s,l,r);this.entryTypeList=(null==e?void 0:e.entryTypes)||[],0===(null===(t=null==e?void 0:e.entryTypes)||void 0===t?void 0:t.length)?(this.formGroup.get("entryType").setValue(null),this.formGroup.get("entryType").markAsPristine(),this.formGroup.get("entryType").updateValueAndValidity()):n&&n.hasOwnProperty("entryType")&&this.formGroup.get("entryType")&&this.formGroup.get("entryType").setValue(n.entryType),this.entryTypeError=3010===(null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.code)?null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.description:null}}catch(n){console.log(n)}}))}loadEOIVisaType(e){var t,i,a;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableNationalityFilterForVisaCategory)||!(null===(i=this.appConfiguration)||void 0===i?void 0:i.enableServiceType)||!(null===(a=this.appConfiguration)||void 0===a?void 0:a.enableVisaType))return!1;const n=this.sessionService.eligibilityDetails,o=n&&n.centerCode?n.centerCode:this.formGroup.value.centerCode,s=e||(n&&n.visaCategoryCode?n.visaCategoryCode:this.formGroup.value.visaCategoryCode),l=n&&n.nationalityCode?n.nationalityCode:this.formGroup.value.nationalityCode,r=n&&n.serviceType?n.serviceType:this.formGroup.value.serviceType;if(o&&s&&l&&r){const e=yield this.commonService.loadEOIVisaType(o,s,l,r);this.eoiVisaTypeList=(null==e?void 0:e.eoiVisaTypes)||[]}n&&n.visaType&&this.formGroup.get("visaType").setValue(n.visaType)}catch(n){console.log(n)}}))}checkForEditMode(){return Object(r.a)(this,void 0,void 0,(function*(){try{return this.isEditMode=!!this.sessionService.eligibilityDetails,this.isEditMode}catch(e){this.logger.error(e)}}))}onEditMode(e){return Object(r.a)(this,void 0,void 0,(function*(){try{e&&this.formGroup.disable()}catch(t){throw t}}))}get disableButton(){return this.noSlotCheck||this.isEditMode?this.formGroup.invalid:this.formGroup.invalid||null===this.latestAvailableDate}saveAndContinue(){var e,t;return Object(r.a)(this,void 0,void 0,(function*(){try{const i={dl_category:"form submission",dl_action:"form submission - application details",dl_label:null===(e=this.formGroup.value)||void 0===e?void 0:e.selectedSubvisaCategory,value:void 0};if(this.utilityService.fireCustomEvent(i),!this.isEditMode&&!this.formGroup.valid)return void this.commonService.touchAllFields(this.formGroup);if(this.isEditMode||this.sessionService.applicationDetailValue)return void this.routeNext();this.filterModuleBasedOnVac(this.formGroup.value.centerCode),this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode),(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableServiceType)&&(this.sessionService.serviceTypeCode=this.formGroup.value.serviceType);const a=this.getApplicationDetails(this.formGroup.value);this.sessionService.applicationDetailValue=a,this.sessionService.eligibilityDetails=this.formGroup.value,a&&this.routeNext()}catch(i){console.log(i)}}))}getApplicationDetails(e){const t=this.initApplicationDetails();for(const i of Object.keys(e))t.hasOwnProperty(i)&&(t[i]=e[i]);return t}initApplicationDetails(){var e,t,i,a;const n=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.enableApplicationType)?"":null,o=(null===(a=null===(i=this.sessionService)||void 0===i?void 0:i.applicationConfiguration)||void 0===a?void 0:a.enableServiceType)?"":null;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail(),visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:n,serviceType:o}}loadConfiguration(e){return Object(r.a)(this,void 0,void 0,(function*(){e||(e=this.sessionService.centerCode);const t=yield this.commonService.loadVacConfiguration(e);if(t){yield this.alterFormField(t),this.sessionService.applicationConfiguration=t,this.appConfiguration=t;const e=this.calculateMaxAllowedTravelDays(t);this.sessionService.setMaxAlwdDepartureDate(e)}return t}))}alterFormField(e){return Object(r.a)(this,void 0,void 0,(function*(){return new Promise((t,i)=>Object(r.a)(this,void 0,void 0,(function*(){e.enableNationalityFilterForVisaCategory?(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new s.d(null,s.s.required))):this.formGroup.removeControl("nationalityCode"),e.enableEntryType?this.formGroup.addControl("entryType",new s.d(null,s.s.required)):this.formGroup.removeControl("entryType"),e.enableVisaType?this.formGroup.addControl("visaType",new s.d(null,s.s.required)):this.formGroup.removeControl("visaType"),e.enableApplicationType?(this.submissionTypeList=yield this.commonService.loadSubmissionType(),this.formGroup.addControl("applicationType",new s.d(null,s.s.required))):this.formGroup.removeControl("applicationType"),e.enableServiceType?(this.serviceTypes=yield this.commonService.loadServiceType(),this.formGroup.addControl("serviceType",new s.d(null,s.s.required))):this.formGroup.removeControl("serviceType"),t(!0)})))}))}calculateMaxAllowedTravelDays(e){try{const t=Number(null==e?void 0:e.xTravelDaysToBeAllowed);return this.ngbCalendar.getNext(this.ngbCalendar.getToday(),"d",t>0?t-1:0)}catch(t){this.logger.error(t)}}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(ee.a),a.Pb(s.c))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-eligibility-criteria"]],features:[a.yb],decls:64,vars:73,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","d-inline pull-right text-right",4,"ngIf"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","centerCode","appDefaultSelect","",3,"options","valueKey","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["formControlName","selectedSubvisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["formControlName","visaCategoryCode","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"d-inline","pull-right","text-right"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"],["appDefaultSelect","","formControlName","serviceType",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","nationalityCode",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","entryType",3,"options","valueKey","placeholder"],["formControlName","visaType","appDefaultSelect","",3,"options","valueKey","placeholder"],["formControlName","applicationType","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"form"),a.Vb(2,"mat-card",1),a.Vb(3,"p",2),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Vb(6,"h1",3),a.Oc(7),a.mc(8,"translate"),a.Ub(),a.Vb(9,"p",4),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Vb(12,"form",5),a.Vb(13,"div",6),a.Vb(14,"div"),a.Oc(15),a.mc(16,"translate"),a.Vb(17,"span",7),a.Oc(18,"*"),a.Ub(),a.Mc(19,oe,3,4,"h6",8),a.Ub(),a.Mc(20,le,2,1,"div",9),a.Vb(21,"mat-form-field",10),a.Vb(22,"mat-select",11),a.hc("ngModelChange",(function(e){return t.onCenterCodeChange(e)})),a.mc(23,"translate"),a.Mc(24,re,2,2,"mat-option",12),a.mc(25,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(26,"hr"),a.Mc(27,me,14,17,"ng-container",13),a.Mc(28,fe,14,17,"ng-container",13),a.Vb(29,"div",6),a.Vb(30,"div"),a.Oc(31),a.mc(32,"translate"),a.Vb(33,"span",7),a.Oc(34,"*"),a.Ub(),a.Ub(),a.Mc(35,ye,2,1,"div",9),a.Vb(36,"mat-form-field",10),a.Vb(37,"mat-select",14),a.hc("ngModelChange",(function(e){return t.appointmentCatgoryChange(e)})),a.mc(38,"translate"),a.Mc(39,Se,2,2,"mat-option",12),a.mc(40,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(41,"hr"),a.Vb(42,"div",6),a.Vb(43,"div"),a.Oc(44),a.mc(45,"translate"),a.Vb(46,"span",7),a.Oc(47,"*"),a.Ub(),a.Ub(),a.Mc(48,Oe,2,1,"div",9),a.Vb(49,"mat-form-field",10),a.Vb(50,"mat-select",15),a.hc("ngModelChange",(function(e){return t.submitVisacategory(e)})),a.mc(51,"translate"),a.Mc(52,Ie,2,2,"mat-option",12),a.mc(53,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Qb(54,"hr"),a.Mc(55,Ae,14,17,"ng-container",13),a.Mc(56,Pe,14,17,"ng-container",13),a.Mc(57,Me,14,17,"ng-container",13),a.Mc(58,ke,4,3,"div",16),a.Mc(59,Fe,4,4,"div",16),a.Ub(),a.Ub(),a.Vb(60,"mat-card",17),a.Vb(61,"button",18),a.hc("click",(function(){return t.saveAndContinue()})),a.Oc(62),a.mc(63,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(4),a.Pc(a.nc(5,38,"eligibilityCriteria.pageDetails.para1")),a.Bb(3),a.Pc(a.nc(8,40,"eligibilityCriteria.headerLabel.label1")),a.Bb(3),a.Pc(a.nc(11,42,"eligibilityCriteria.pageDetails.para2")),a.Bb(2),a.tc("formGroup",t.formGroup),a.Bb(1),a.tc("ngClass",a.xc(67,pe,(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.centerCode.invalid))),a.Bb(2),a.Qc(" ",a.nc(16,44,"eligibilityCriteria.formLabel.label1"),""),a.Bb(4),a.tc("ngIf",null==t.vacCenters?null:t.vacCenters.length),a.Bb(1),a.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.centerCode.touched)&&(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.centerCode.errors)),a.Bb(2),a.uc("placeholder",a.nc(23,46,"eligibilityCriteria.placeholder.label1")),a.tc("options",t.vacCenters)("valueKey","isoCode"),a.Bb(2),a.tc("ngForOf",a.oc(25,48,t.vacCenters,"centerName"))("ngForTrackBy",t.trackByFn),a.Bb(3),a.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableServiceType)&&(null==t.serviceTypes?null:t.serviceTypes.length)>0),a.Bb(1),a.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableNationalityFilterForVisaCategory),a.Bb(1),a.tc("ngClass",a.xc(69,pe,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.invalid))),a.Bb(2),a.Pc(a.nc(32,51,"eligibilityCriteria.formLabel.label2")),a.Bb(4),a.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.selectedSubvisaCategory.errors)),a.Bb(2),a.uc("placeholder",a.nc(38,53,"eligibilityCriteria.placeholder.label2")),a.tc("options",t.visaTypes)("valueKey","code"),a.Bb(2),a.tc("ngForOf",a.oc(40,55,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn),a.Bb(3),a.tc("ngClass",a.xc(71,pe,(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.visaCategoryCode.invalid))),a.Bb(2),a.Pc(a.nc(45,58,"eligibilityCriteria.formLabel.label3")),a.Bb(4),a.tc("ngIf",(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.visaCategoryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls?null:t.formGroup.controls.visaCategoryCode.errors)),a.Bb(2),a.uc("placeholder",a.nc(51,60,"eligibilityCriteria.placeholder.label3")),a.tc("options",t.visaCategories)("valueKey","code"),a.Bb(2),a.tc("ngForOf",a.oc(53,62,t.visaCategories,"name"))("ngForTrackBy",t.trackByFn),a.Bb(3),a.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableEntryType),a.Bb(1),a.tc("ngIf",null==t.appConfiguration?null:t.appConfiguration.enableVisaType),a.Bb(1),a.tc("ngIf",(null==t.appConfiguration?null:t.appConfiguration.enableApplicationType)&&(null==t.submissionTypeList?null:t.submissionTypeList.length)),a.Bb(1),a.tc("ngIf",t.formGroup.valid&&t.appointmentSlots&&!t.latestAvailableDate),a.Bb(1),a.tc("ngIf",(null==t.formGroup?null:t.formGroup.valid)&&t.appointmentSlots&&t.latestAvailableDate),a.Bb(2),a.tc("disabled",t.disableButton),a.Bb(1),a.Qc(" ",a.nc(63,65,"commonSections.buttons.button19")," "))},directives:[s.u,s.n,s.o,u.a,s.g,p.m,p.o,b.b,te.a,s.m,s.e,ie,p.n,f.a,ae.k],pipes:[m.d,ne],encapsulation:2}),e})();var xe=i("8ajC"),Re=i("0IaG"),Ge=i("C+1A");function je(e,t){1&e&&(a.Vb(0,"p",11),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"dashboard.pageDetails.para10")))}function $e(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",12),a.hc("click",(function(){return a.Fc(e),a.lc().confirmReschedule()})),a.Oc(1),a.mc(2,"translate"),a.Ub()}2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"dashboard.buttons.button3")))}let Qe=(()=>{class e extends d.a{constructor(e,t,i){super(),this.data=e,this.dialog=t,this.dialogRef=i}confirmReschedule(){var e;(null===(e=this.data)||void 0===e?void 0:e.isReschedulingAllowed)&&this.dialogRef.close({data:"reschedule"})}close(){this.dialogRef.close()}confirmCancel(){this.dialogRef.close({data:"cancel"})}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.a),a.Pb(Re.b),a.Pb(Re.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-cancel-appointment-modal"]],features:[a.yb],decls:16,vars:9,consts:[[1,"mat-modal-container",2,"max-width","550px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10","pr-20"],[1,"my-20"],["class","fs-sm-20 c-brand-grey-para mb-15",4,"ngIf"],[1,"row"],[1,"col-6","col-md"],["mat-stroked-button","","class","btn mat-btn-lg btn-block btn-outline-brand-orange mt-15","data-dismiss","modal",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"fs-sm-20","c-brand-grey-para","mb-15"],["mat-stroked-button","","data-dismiss","modal",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.close()})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h4",4),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Qb(7,"hr",5),a.Mc(8,je,3,3,"p",6),a.Vb(9,"div",7),a.Vb(10,"div",8),a.Mc(11,$e,3,3,"button",9),a.Ub(),a.Vb(12,"div",8),a.Vb(13,"button",10),a.hc("click",(function(){return t.confirmCancel()})),a.Oc(14),a.mc(15,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(2),a.Pc(a.nc(6,5,"dashboard.pageDetails.para9")),a.Bb(3),a.tc("ngIf",null==t.data?null:t.data.isReschedulingAllowed),a.Bb(3),a.tc("ngIf",null==t.data?null:t.data.isReschedulingAllowed),a.Bb(3),a.Pc(a.nc(15,7,"dashboard.buttons.button4")))},directives:[p.o,f.a],pipes:[m.d],encapsulation:2}),e})();var Ye=i("cp0P"),We=i("lJxs"),He=i("IXuf"),ze=i("wZkO");function Ke(e,t){1&e&&(a.Tb(0),a.Vb(1,"div",7),a.Vb(2,"div",8),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"div",9),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Ub(),a.Sb()),2&e&&(a.Bb(3),a.Pc(a.nc(4,2,"dashboard.pageDetails.para1")),a.Bb(3),a.Pc(a.nc(7,4,"dashboard.pageDetails.para2")))}const Je=function(e){return{"my-12":e}};function qe(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"li",0),a.Oc(2),a.Ub(),a.Sb()),2&e){const e=t.$implicit,i=t.odd;a.Bb(1),a.tc("ngClass",a.xc(2,Je,i)),a.Bb(1),a.Pc(null==e?null:e.value)}}function Ze(e,t){if(1&e&&(a.Vb(0,"ul",14),a.Mc(1,qe,3,4,"ng-container",15),a.mc(2,"keyvalue"),a.mc(3,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngForOf",a.nc(2,2,a.nc(3,4,"dashboard.pageDetails.para11")))("ngForTrackBy",e.trackByFn)}}function Xe(e,t){1&e&&(a.Vb(0,"div",10),a.Vb(1,"div",11),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",12),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Mc(7,Ze,4,6,"ul",13),a.Ub()),2&e&&(a.Bb(2),a.Pc(a.nc(3,3,"dashboard.pageDetails.para1")),a.Bb(3),a.Pc(a.nc(6,5,"dashboard.pageDetails.para2")),a.Bb(2),a.tc("ngIf","dashboard.pageDetails.para11".length>0))}const et=function(e){return{"col-12":e}},tt=function(e){return{"col-lg-12 mb-lg-35":e}},it=function(e){return{"col-lg-12 text-lg-center":e}};let at=(()=>{class e extends d.a{constructor(){super()}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-travel-medical-insurance"]],inputs:{type:"type"},features:[a.yb],decls:11,vars:18,consts:[[3,"ngClass"],[1,"row","no-gutters","align-items-center","bg-brand-footer","text-center","text-md-left","p-25",3,"ngClass"],[1,"col-12","col-md-auto",3,"ngClass"],["alt","Travel Medical Insurance",1,"img-fluid-center","mb-20","mb-md-0",3,"src"],[4,"ngIf","ngIfElse"],["secondTemplate",""],["target","_blank",1,"btn","btn-lg","btn-outline-brand-orange","min-w-160",3,"ngClass","href"],[1,"col-12","col-md","mb-40","mb-md-0","px-md-20"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-25","mb-5"],[1,"c-brand-grey-para","fs-lg-18"],[1,"col-12","col-md","col-lg-12","mb-40","mb-md-0","px-md-20","px-lg-0","mb-lg-40"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-18","mb-5","mb-lg-15"],[1,"c-brand-grey-para"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){if(1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Qb(3,"img",3),a.Ub(),a.Mc(4,Ke,8,6,"ng-container",4),a.Mc(5,Xe,8,7,"ng-template",null,5,a.Nc),a.Vb(7,"div",2),a.Vb(8,"a",6),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.Bc(6);a.tc("ngClass",a.xc(12,et,"1"===t.type)),a.Bb(1),a.tc("ngClass","1"===t.type?"p-lg-50":"py-lg-35"),a.Bb(1),a.tc("ngClass",a.xc(14,tt,"1"!==t.type)),a.Bb(1),a.vc("src","",t.getGlobalImagePath,"/travel.png",a.Hc),a.Bb(1),a.tc("ngIf","1"===t.type)("ngIfElse",e),a.Bb(3),a.tc("ngClass",a.xc(16,it,"1"!==t.type)),a.Bb(1),a.tc("ngClass","1"===t.type?"min-lg-w-180":"min-xl-w-180")("href",t.travelInsurance,a.Hc),a.Bb(1),a.Pc(a.nc(10,10,"dashboard.buttons.button5"))}},directives:[p.m,p.o,p.n],pipes:[m.d,p.i],encapsulation:2}),e})();var nt=i("7EHt");function ot(e,t){if(1&e&&(a.Vb(0,"div",14),a.Vb(1,"div",15),a.Qb(2,"i",16),a.Vb(3,"div"),a.Oc(4),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc();a.Bb(4),a.Pc(e.cancelAppointmentMsg)}}const st=function(e,t){return{rescheduledTime:e,rescheduledDate:t}};function lt(e,t){if(1&e&&(a.Vb(0,"div",14),a.Vb(1,"div",15),a.Qb(2,"i",16),a.Vb(3,"div"),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc();a.Bb(4),a.Qc(" ",a.oc(5,1,"dashboard.messages.infoMessages.message2",a.yc(4,st,null==e.rescheduledDetails?null:e.rescheduledDetails.rescheduledTime,null==e.rescheduledDetails?null:e.rescheduledDetails.rescheduledDate))," ")}}function rt(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",24),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(2),a.Rc(" ",a.nc(3,2,"dashboard.headerLabel.label7")," : ",e.inprogressApplications.applicantList[0].urn," ")}}function ct(e,t){if(1&e&&(a.Vb(0,"div"),a.Vb(1,"div",28),a.Oc(2),a.Ub(),a.Ub()),2&e){const e=t.$implicit;a.Bb(2),a.Rc("",e.firstName," ",e.lastName,"")}}function dt(e,t){if(1&e&&(a.Tb(0),a.Qb(1,"hr",25),a.Vb(2,"div",26),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Mc(5,ct,3,2,"div",27),a.Sb()),2&e){const e=a.lc(2);a.Bb(3),a.Qc("",a.nc(4,3,"dashboard.headerLabel.label19"),":"),a.Bb(2),a.tc("ngForOf",e.inprogressApplications.applicantList)("ngForTrackBy",e.trackByFn)}}function ut(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",17),a.Vb(1,"div",18),a.Vb(2,"div",19),a.Oc(3),a.mc(4,"translate"),a.mc(5,"translate"),a.Ub(),a.Vb(6,"h2",20),a.Oc(7),a.Ub(),a.Vb(8,"div",21),a.Mc(9,rt,4,4,"ng-container",12),a.Vb(10,"div",22),a.Vb(11,"span",23),a.hc("click",(function(){return a.Fc(e),a.lc().continueApplications()})),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Mc(14,dt,6,5,"ng-container",12),a.Ub(),a.Ub()}if(2&e){const e=a.lc();a.Bb(3),a.Qc(" ",e.commonService.checkIfPostal(e.inprogressApplications.applicationType)?a.nc(5,7,"dashboard.headerLabel.label6"):a.nc(4,5,"dashboard.headerLabel.label8")," "),a.Bb(4),a.Pc(e.inprogressApplications.visaCategoryName),a.Bb(2),a.tc("ngIf",e.inprogressApplications.applicantList&&e.inprogressApplications.applicantList.length>0),a.Bb(3),a.Qc("",a.nc(13,9,"commonSections.buttons.button19")," \u2192"),a.Bb(2),a.tc("ngIf",e.inprogressApplications.applicantList&&e.inprogressApplications.applicantList.length>0)}}function pt(e,t){1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"dashboard.messages.infoMessages.message1")," "))}function mt(e,t){if(1&e&&(a.Vb(0,"div"),a.Vb(1,"div",28),a.Oc(2),a.Ub(),a.Ub()),2&e){const e=t.$implicit;a.Bb(2),a.Rc("",e.firstName," ",e.lastName,"")}}function bt(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",17),a.Vb(1,"div",18),a.Vb(2,"div",19),a.Oc(3),a.mc(4,"translate"),a.mc(5,"translate"),a.Ub(),a.Vb(6,"h2",20),a.Oc(7),a.Ub(),a.Vb(8,"div",21),a.Vb(9,"div",24),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Vb(12,"div",22),a.Vb(13,"span",23),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(2).displayDetail(i)})),a.Oc(14),a.mc(15,"translate"),a.mc(16,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Qb(17,"hr",25),a.Vb(18,"div",26),a.Oc(19),a.mc(20,"translate"),a.Ub(),a.Mc(21,mt,3,2,"div",27),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=a.lc(2);a.Bb(3),a.Qc(" ",null!=e&&e.isAppointment?a.nc(4,8,"dashboard.headerLabel.label8"):a.nc(5,10,"dashboard.headerLabel.label6")," "),a.Bb(4),a.Pc(e.visaCategoryName),a.Bb(3),a.Rc(" ",a.nc(11,12,"dashboard.headerLabel.label7")," - ",e.urn," "),a.Bb(4),a.Qc(" ",null!=e&&e.isAppointment?a.nc(15,14,"dashboard.headerLabel.label20"):a.nc(16,16,"dashboard.headerLabel.label23")," "),a.Bb(5),a.Qc("",a.nc(20,18,"dashboard.headerLabel.label19"),":"),a.Bb(2),a.tc("ngForOf",e.applicants)("ngForTrackBy",i.trackByFn)}}function ht(e,t){if(1&e&&(a.Tb(0),a.Mc(1,bt,22,20,"div",29),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngForOf",e.applicationList)("ngForTrackBy",e.trackByFn)}}function gt(e,t){1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"dashboard.messages.infoMessages.message1")," "))}function ft(e,t){1&e&&(a.Tb(0),a.Qb(1,"app-travel-medical-insurance",30),a.Sb()),2&e&&(a.Bb(1),a.tc("type","1"))}function vt(e,t){1&e&&(a.Vb(0,"div",14),a.Vb(1,"div",15),a.Qb(2,"i",16),a.Qb(3,"div",43),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.tc("translate","dashboard.messages.resendConfirmationLetter.message1"))}function yt(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"span",33),a.hc("click",(function(){a.Fc(e);const t=a.lc(4);return t.cancelAppointment(t.applicationDetail.urn,t.applicationDetail)})),a.Qb(2,"i",55),a.Vb(3,"span",56),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Ub()}2&e&&(a.Bb(4),a.Pc(a.nc(5,1,"dashboard.headerLabel.label9")))}function St(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",51),a.Vb(1,"span",33),a.hc("click",(function(){a.Fc(e);const t=a.lc(4);return t.rescheduleAppointment(t.applicationDetail)})),a.Qb(2,"i",57),a.Vb(3,"span",53),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Ub()}2&e&&(a.Bb(4),a.Pc(a.nc(5,1,"dashboard.headerLabel.label10")))}function Ct(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",49),a.Mc(1,yt,6,3,"div",50),a.Mc(2,St,6,3,"div",50),a.Vb(3,"div",51),a.Vb(4,"span",33),a.hc("click",(function(){a.Fc(e);const t=a.lc(3);return t.resendConfirmationLetter(t.applicationDetail.urn)})),a.Qb(5,"i",52),a.Vb(6,"span",53),a.Oc(7),a.mc(8,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(9,"div",51),a.Vb(10,"span",33),a.hc("click",(function(){a.Fc(e);const t=a.lc(3);return t.printAppointmentLetter(t.applicationDetail.urn)})),a.Qb(11,"i",54),a.Vb(12,"span",53),a.Oc(13),a.mc(14,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.lc(3);a.Bb(1),a.tc("ngIf",e.applicationDetail.cancellationAllowed),a.Bb(1),a.tc("ngIf",e.applicationDetail.rescheduleAllowed),a.Bb(5),a.Pc(a.nc(8,4,"dashboard.headerLabel.label11")),a.Bb(6),a.Pc(a.nc(14,6,"dashboard.headerLabel.label12"))}}function Ot(e,t){if(1&e&&(a.Vb(0,"mat-expansion-panel"),a.Vb(1,"mat-expansion-panel-header",40),a.Vb(2,"div",41),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Ub(),a.Vb(5,"div",44),a.Oc(6),a.mc(7,"date"),a.Ub(),a.Vb(8,"div",45),a.Oc(9),a.Ub(),a.Vb(10,"div",46),a.Oc(11),a.Ub(),a.Qb(12,"hr",47),a.Mc(13,Ct,15,8,"div",48),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("@.disabled",!0),a.Bb(2),a.Qc("",a.nc(4,6,"dashboard.headerLabel.label8"),":"),a.Bb(3),a.Qc(" ",a.oc(7,8,e.formatDateDMY(e.applicationDetail.applicants[0].appointment.appoinmentDate),"dd/MM/yyyy")," "),a.Bb(3),a.Qc(" ",e.applicationDetail.vacAddress," "),a.Bb(2),a.Qc(" ",e.applicationDetail.applicants[0].appointment.appointmentTime," "),a.Bb(2),a.tc("ngIf",e.applicationDetail.isAppointment)}}function It(e,t){if(1&e&&(a.Vb(0,"tr"),a.Vb(1,"td",60),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"td",60),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc().$implicit;a.Bb(2),a.Qc("",a.nc(3,2,"postalInformation.formLabel.label8")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)}}function Lt(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"tr"),a.Vb(2,"td",60),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"td",60),a.Oc(6),a.Ub(),a.Ub(),a.Vb(7,"tr"),a.Vb(8,"td",60),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Vb(11,"td",60),a.Oc(12),a.Ub(),a.Ub(),a.Vb(13,"tr"),a.Vb(14,"td",60),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Vb(17,"td",60),a.Oc(18),a.Ub(),a.Ub(),a.Vb(19,"tr"),a.Vb(20,"td",60),a.Oc(21),a.mc(22,"translate"),a.Ub(),a.Vb(23,"td",60),a.Oc(24),a.Ub(),a.Ub(),a.Vb(25,"tr"),a.Vb(26,"td",60),a.Oc(27),a.mc(28,"translate"),a.Ub(),a.Vb(29,"td",60),a.Oc(30),a.Ub(),a.Ub(),a.Vb(31,"tr"),a.Vb(32,"td",60),a.Oc(33),a.mc(34,"translate"),a.Ub(),a.Vb(35,"td",60),a.Oc(36),a.Ub(),a.Ub(),a.Vb(37,"tr"),a.Vb(38,"td",62),a.Vb(39,"div",49),a.Vb(40,"div",51),a.Vb(41,"span",33),a.hc("click",(function(){a.Fc(e);const t=a.lc().$implicit,i=a.lc(2);return i.downloadCourierDetails(t.arn,i.applicationDetail.vacCode,i.courierLabels.inLabel)})),a.Qb(42,"i",54),a.Vb(43,"span",53),a.Oc(44),a.mc(45,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(46,"div",51),a.Vb(47,"span",33),a.hc("click",(function(){a.Fc(e);const t=a.lc().$implicit,i=a.lc(2);return i.downloadCourierDetails(t.arn,i.applicationDetail.vacCode,i.courierLabels.outLabel)})),a.Qb(48,"i",54),a.Vb(49,"span",53),a.Oc(50),a.mc(51,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc().$implicit;a.Bb(3),a.Qc("",a.nc(4,14,"postalInformation.formLabel.label1")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].pincode),a.Bb(3),a.Qc("",a.nc(10,16,"postalInformation.formLabel.label2")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline1),a.Bb(3),a.Qc("",a.nc(16,18,"postalInformation.formLabel.label3")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].addressline2),a.Bb(3),a.Qc("",a.nc(22,20,"postalInformation.formLabel.label4")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].state),a.Bb(3),a.Qc("",a.nc(28,22,"postalInformation.formLabel.label5")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].city),a.Bb(3),a.Qc("",a.nc(34,24,"postalInformation.formLabel.label6")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].country),a.Bb(8),a.Pc(a.nc(45,26,"postalInformation.headerLabel.label2")),a.Bb(6),a.Pc(a.nc(51,28,"postalInformation.headerLabel.label3"))}}function Tt(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"tr"),a.Vb(2,"td",60),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"td",60),a.Oc(6),a.Ub(),a.Ub(),a.Vb(7,"tr"),a.Vb(8,"td",60),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Vb(11,"td",60),a.Oc(12),a.Ub(),a.Ub(),a.Vb(13,"tr"),a.Vb(14,"td",60),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Vb(17,"td",60),a.Oc(18),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(3),a.Qc("",a.nc(4,6,"postalInformation.formLabel.label11")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].courierServiceProvider),a.Bb(3),a.Qc("",a.nc(10,8,"postalInformation.formLabel.label12")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].incomingAWBNumber),a.Bb(3),a.Qc("",a.nc(16,10,"postalInformation.formLabel.label13")," :"),a.Bb(3),a.Pc(null==e||null==e.postalList[0]?null:e.postalList[0].outgoingAWBNumber)}}function Vt(e,t){if(1&e&&(a.Vb(0,"table",58),a.Vb(1,"tr"),a.Vb(2,"td",59),a.Oc(3),a.Ub(),a.Ub(),a.Vb(4,"tr"),a.Vb(5,"td",60),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Vb(8,"td",60),a.Oc(9),a.Ub(),a.Ub(),a.Vb(10,"tr"),a.Vb(11,"td",60),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Vb(14,"td",60),a.Oc(15),a.Ub(),a.Ub(),a.Vb(16,"tr"),a.Vb(17,"td",60),a.Oc(18),a.mc(19,"translate"),a.Ub(),a.Vb(20,"td",61),a.Oc(21),a.Ub(),a.Ub(),a.Vb(22,"tr"),a.Vb(23,"td",60),a.Oc(24),a.mc(25,"translate"),a.Ub(),a.Vb(26,"td",60),a.Oc(27),a.Ub(),a.Ub(),a.Vb(28,"tr"),a.Vb(29,"td",60),a.Oc(30),a.mc(31,"translate"),a.Ub(),a.Vb(32,"td",60),a.Oc(33),a.Ub(),a.Ub(),a.Mc(34,It,6,4,"tr",12),a.Mc(35,Lt,52,30,"ng-container",12),a.Mc(36,Tt,19,12,"ng-container",12),a.Ub()),2&e){const e=t.$implicit,i=a.lc(2);a.Bb(3),a.Rc("",e.firstName," ",e.lastName,""),a.Bb(3),a.Qc("",a.nc(7,16,"dashboard.headerLabel.label14"),":"),a.Bb(3),a.Pc(e.passportNumber),a.Bb(3),a.Qc("",a.nc(13,18,"dashboard.headerLabel.label15"),":"),a.Bb(3),a.Pc(e.dateOfBirth),a.Bb(3),a.Qc("",a.nc(19,20,"dashboard.headerLabel.label16"),":"),a.Bb(3),a.Pc(e.emailId),a.Bb(3),a.Qc("",a.nc(25,22,"dashboard.headerLabel.label17"),":"),a.Bb(3),a.Rc("",e.dialCode," ",e.contactNumber,""),a.Bb(3),a.Qc("",a.nc(31,24,"dashboard.headerLabel.label18"),":"),a.Bb(3),a.Pc(i.getnationalityName(e.nationalityCode)),a.Bb(1),a.tc("ngIf",!i.applicationDetail.isAppointment),a.Bb(1),a.tc("ngIf",!i.applicationDetail.isAppointment&&!i.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)),a.Bb(1),a.tc("ngIf",!i.applicationDetail.isAppointment&&i.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType))}}function At(e,t){if(1&e&&(a.Vb(0,"tr"),a.Vb(1,"td",59),a.Oc(2),a.Ub(),a.Ub()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.name)}}function Nt(e,t){if(1&e&&(a.Tb(0),a.Mc(1,At,3,1,"tr",27),a.Vb(2,"tr"),a.Vb(3,"td",63),a.Oc(4),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc().$implicit,t=a.lc(3);a.Bb(1),a.tc("ngForOf",e.vas)("ngForTrackBy",t.trackByFn),a.Bb(3),a.Rc("",e.firstName," ",e.lastName,"")}}function Dt(e,t){if(1&e&&(a.Vb(0,"table",58),a.Mc(1,Nt,5,4,"ng-container",12),a.Ub()),2&e){const e=t.$implicit;a.Bb(1),a.tc("ngIf",e.vas&&(null==e.vas?null:e.vas.length)>0)}}function Et(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"mat-expansion-panel"),a.Vb(2,"mat-expansion-panel-header",40),a.Vb(3,"div",41),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Mc(6,Dt,2,1,"table",42),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(2),a.tc("@.disabled",!0),a.Bb(2),a.Pc(a.nc(5,4,"dashboard.headerLabel.label21")),a.Bb(2),a.tc("ngForOf",e.applicationDetail.applicants)("ngForTrackBy",e.trackByFn)}}function Pt(e,t){1&e&&(a.Tb(0),a.Qb(1,"app-travel-medical-insurance",64),a.Sb()),2&e&&(a.Bb(1),a.tc("type","2"))}const wt=function(e){return{applicantLength:e}};function Ut(e,t){if(1&e){const e=a.Wb();a.Vb(0,"section",31),a.Vb(1,"div",32),a.Vb(2,"span",33),a.hc("click",(function(){return a.Fc(e),a.lc().back()})),a.Qb(3,"i",34),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Mc(6,vt,4,1,"div",4),a.Vb(7,"div",35),a.Vb(8,"div",36),a.Vb(9,"h2",37),a.Oc(10),a.Ub(),a.Vb(11,"p",38),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Vb(14,"mat-accordion",39),a.Mc(15,Ot,14,11,"mat-expansion-panel",12),a.Vb(16,"mat-expansion-panel"),a.Vb(17,"mat-expansion-panel-header",40),a.Vb(18,"div",41),a.Oc(19),a.mc(20,"translate"),a.Ub(),a.Ub(),a.Mc(21,Vt,37,26,"table",42),a.Ub(),a.Mc(22,Et,7,6,"ng-container",12),a.Ub(),a.Ub(),a.Mc(23,Pt,2,1,"ng-container",12),a.Ub(),a.Ub()}if(2&e){const e=a.lc();a.Bb(4),a.Qc(" ",a.nc(5,12,"commonSections.buttons.button31"),""),a.Bb(2),a.tc("ngIf",e.resendConfirmationLetterMsg),a.Bb(4),a.Pc(e.applicationDetail.visaCategoryName),a.Bb(2),a.Rc("",a.nc(13,14,"dashboard.headerLabel.label7"),": ",e.applicationDetail.urn,""),a.Bb(3),a.tc("ngIf",e.applicationDetail.isAppointment),a.Bb(2),a.tc("@.disabled",!0),a.Bb(2),a.Qc(" ",a.oc(20,16,"dashboard.headerLabel.label24",a.xc(19,wt,e.applicationDetail.applicants.length))," "),a.Bb(2),a.tc("ngForOf",e.applicationDetail.applicants)("ngForTrackBy",e.trackByFn),a.Bb(1),a.tc("ngIf",(null==e.applicationDetail.applicants[0]||null==e.applicationDetail.applicants[0].vas?null:e.applicationDetail.applicants[0].vas.length)>0),a.Bb(1),a.tc("ngIf",e.insuranceBox)}}let Bt=(()=>{class e extends d.a{constructor(e,t,i){super(),this.dialog=e,this.datePipe=t,this.contentfulService=i,this.statusOnTabChnaged="InProgress",this.CONSTANTS=c.a,this.rescheduledDetails={rescheduledTime:"-",rescheduledDate:""},this.viewRescheduledMsgFlag=!1,this.walkinCode=c.n,this.primeLongueCode=c.g,this.applicationDetail=[],this.subVisaCategoryCode=[],this.applicationList=[],this.vacList=[],this.nationalityList=[],this.allConfiguration=[],this.inprogressApplications={},this.detailMode=!1,this.resendConfirmationLetterMsg=!1,this.cancelAppointmentMsg=null,this.checkAndLoadTravelInsurance()}checkAndLoadTravelInsurance(){return Object(r.a)(this,void 0,void 0,(function*(){this.insuranceBox=yield this.contentfulService.getTravelInsurance()}))}ngOnInit(){var e,t;const i={dl_category:"pageview",dl_action:"pageview- dashboard",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:0};if(this.utilityService.fireCustomEvent(i),this.viewRescheduledMsgFlag=!1,this.dataShareService.totalFees.next("0"),this.sessionService.isRescheduleAptmntMode&&this.dataShareService.rescheduledData){this.selectedIdx=1;const i=this.dataShareService.rescheduledData.appointmentTime?null===(t=null===(e=this.dataShareService.rescheduledData)||void 0===e?void 0:e.appointmentTime.split("-"))||void 0===t?void 0:t.shift():"-",a=this.dataShareService.rescheduledData.appointmentDate?this.datePipe.transform(this.dataShareService.rescheduledData.appointmentDate,"EEEE d, MMMM y"):"-";this.rescheduledDetails.rescheduledTime=i,this.rescheduledDetails.rescheduledDate=a,this.viewRescheduledMsgFlag=!0,setTimeout(()=>{this.viewRescheduledMsgFlag=!1,this.dataShareService.clearrescheduledData()},5e3)}else this.selectedIdx=this.dataShareService.dashboardTab;this.sessionService.isRescheduleAptmntMode&&this.sessionService.clearApplicationDetails(),this.sessionService.setIsRescheduleAptmntMode(!1),this.sessionService.tempAppSchema&&this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.getAllApplications(this.statusOnTabChnaged),1===this.selectedIdx&&(this.getAllApplications("Active"),setTimeout(()=>{this.dataShareService.dashboardTab=0}))}getApplicationData(){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.commonService.getVacCenters();e&&(this.vacList=e,this.sessionService.appCenterCode=e)}))}redirect(e,t,i,a,n,o,s){return Object(r.a)(this,void 0,void 0,(function*(){const l=this.sessionService.getApplicationSchema();try{const r=l.hasOwnProperty("filter")?l.filter:void 0;let d;if(r&&r.hasOwnProperty("module")&&r.module.hasOwnProperty("key")){const t=e.hasOwnProperty(r.module.key)?e[r.module.key]:void 0;if(!t)throw new Error(c.b.FILTER_KEY_NOT_FOUND_IN_RESPONSE);d=this.commonService.filterModulesOnSelectedValue(this.sessionService.getAllModulesSchema(),l,t)}if(r&&r.hasOwnProperty("field")&&r.field.hasOwnProperty("key")){const t=e.hasOwnProperty(r.field.key)?e[r.field.key]:void 0;t&&(d=this.commonService.filterControlsOnSelectedValues(d,t))}this.sessionService.saveApplicationSchemaInBrowser(d),this.commonService.redirect(t,i,a,n,o,s)}catch(r){console.log(r)}}))}openDialog(e){try{const t=new Re.e;t.data={dialogDisplay:"small",body:"dashboard.pageDetails.para6",translateBody:!0,rightButton:"dashboard.buttons.button1",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const i=this.dialog.open(Ge.a,t);this.subs.sink=i.afterClosed().subscribe(t=>{t&&this.deleteApplication({applicationAlphId:e.applicationAlphId,applicantGroupAlphId:e.applicantGroupAlphId})})}catch(t){console.log(t)}}deleteApplication(e){return Object(r.a)(this,void 0,void 0,(function*(){try{yield this.httpService.doPost(c.a.api.deleteApplication,e).toPromise().then(e=>e).catch(e=>{throw new Error(e)}),this.getAllApplications(this.statusOnTabChnaged)}catch(t){throw new Error(t)}}))}applyNow(){this.utilityService.clearInProgressApplication(),this.sessionService.clearSessionOnDashboardRoute(),this.dataShareService.cartAmount.next("0"),this.commonService.routeToPostLoginModuleByIndex(0)}getInprogressApplication(){return Object(r.a)(this,void 0,void 0,(function*(){try{this.sessionService.applicationDetailCopy&&(this.sessionService.applicationDetailValue=this.sessionService.applicationDetailCopy);const e=this.sessionService.applicationDetailValue;if(e){yield this.getSubvisaCategoryCode([e.centerCode]);const t=yield this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode);this.inprogressApplications.visaCategoryName=t}this.utilityService.stopNgxUiSpinner()}catch(e){console.log(e)}}))}modifyResponse(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=Array.from(e);for(const e of t){const t=this.cancelAllowed(e.vacCode),i=this.isRescheduleAllowed(e.vacCode),a=this.utilityService.getnationalityName(this.nationalityList,e.countryCode),n=this.utilityService.getnationalityName(this.nationalityList,e.missionCode),o=this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode),s=this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"centerName"),l=this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"address"),r=!this.commonService.checkIfPostal(e.applicationType),c=yield Promise.all([t,i,a,n,o,s,l,r]);e.rescheduleAllowed=c[1],e.cancellationAllowed=c[0],e.countryName=c[2],e.missionName=c[3],e.visaCategoryName=c[4],e.vacAddress=c[6],e.vacCodeName=c[5],e.isAppointment=c[7]}return t}catch(t){console.log(t)}}))}cancelAllowed(e){let t=!0;const i=[...this.allConfiguration].filter(t=>t.vacCode===e);return 0===i.length||i[0].hasOwnProperty("cancellationEnabled")&&!1===i[0].cancellationEnabled?t=!1:i[0].hasOwnProperty("cancellationEnabled")&&!0===i[0].cancellationEnabled&&(t=!0),t}preloadData(e){return Object(r.a)(this,void 0,void 0,(function*(){return new Promise((t,i)=>Object(r.a)(this,void 0,void 0,(function*(){const i=[...new Set(e.map(e=>e.vacCode))];yield this.getSubvisaCategoryCode(i),yield this.loadConfiguration(i),yield this.getApplicationData(),yield this.loadNationality(),t(!0)})))}))}filterVacFromCode(e,t){if(this.vacList.length<0)return!1;const i=this.vacList.filter(t=>t.isoCode===e);return i.length>0?i[0][t]:""}continueApplications(){try{const e=this.sessionService.getAllModulesSchema(),t=e.findIndex(e=>e.logicalName===this.sessionService.completedModuleName);if(t>-1){let i;t<e.length-1?i=e[t+1]:t===e.length-1&&(i=e[t]),i&&this.commonService.routeToPostLoginModule(i.routeUrl)}}catch(e){console.log(e)}}get existInprogress(){return Object.keys(this.inprogressApplications).length}getSubvisaCategoryCode(e){return Object(r.a)(this,void 0,void 0,(function*(){try{return new Promise((t,i)=>Object(r.a)(this,void 0,void 0,(function*(){const i=[];e.forEach(e=>{i.push(this.commonService.getSubVisaCategories(e,null))}),this.subs.sink=Object(Ye.a)(i).subscribe(e=>{const i=[].concat(...e);this.subVisaCategoryCode=i,t(i)})})))}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message} : ${t.error.data}`)}}))}isRescheduleAllowed(e){return Object(r.a)(this,void 0,void 0,(function*(){try{let t=!0;const i=[...this.allConfiguration].filter(t=>t.vacCode===e);return(0===i.length||i[0].hasOwnProperty("rescheduleEnabled")&&!1===i[0].rescheduleEnabled||i[0].hasOwnProperty("noOfRescheduleEligible")&&"0"===String(i[0].noOfRescheduleEligible))&&(t=!1),t}catch(t){console.log(t)}}))}loadConfiguration(e){return Object(r.a)(this,void 0,void 0,(function*(){try{return new Promise((t,i)=>Object(r.a)(this,void 0,void 0,(function*(){const i=[];e.forEach(e=>{i.push(this.commonService.loadVacConfiguration(e))}),this.subs.sink=Object(Ye.a)(i).pipe(Object(We.a)((t,i)=>(t[i].vacCode=e[i],t))).subscribe(e=>{const i=[].concat(...e);this.allConfiguration=i,t(i)})})))}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message} : ${t.error.data}`)}}))}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}getnationalityName(e){return this.utilityService.getnationalityName(this.nationalityList,e)}loadNationality(){return Object(r.a)(this,void 0,void 0,(function*(){this.nationalityList=yield this.commonService.loadNationality()}))}formatDateDMY(e){const t=e.match(/\d+/g);return t[1]+"/"+t[0]+"/"+t[2]}getAllApplications(e){try{"Active"===e?this.utilityService.executeCapctha(c.a.captcha_action.ACTIVEAPPLICATION).then(e=>{this.getActiveApplicationList(e)}):this.getInprogressApplication()}catch(t){console.log(t)}}getActiveApplicationList(e){return Object(r.a)(this,void 0,void 0,(function*(){this.utilityService.startNgxUiSpinner();const t=yield this.httpService.payloadPost(c.a.api.getActiveApplication,{captcha_api_key:e,countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail()}).toPromise().then(e=>e).catch(e=>e);if(t.data){this.allConfiguration=[];const e=[...new Set(t.data.map(e=>e.vacCode))],i=this.getSubvisaCategoryCode(e),a=this.loadConfiguration(e),n=this.getApplicationData(),o=this.loadNationality();yield Promise.all([i,a,n,o]),this.applicationList=yield this.modifyResponse(t.data),this.utilityService.fireCustomEvent({dl_category:"navigate",dl_action:"dashboard pageview",dl_label:(this.applicationList.length>0?this.applicationList.length:"no")+" appointments",value:0}),this.utilityService.stopNgxUiSpinner()}else this.applicationList=[],this.utilityService.stopNgxUiSpinner()}))}displayDetail(e){this.detailMode=!0,this.applicationDetail=e,this.fetchAddress()}fetchAddress(){var e,t;return Object(r.a)(this,void 0,void 0,(function*(){if(!this.applicationDetail.isAppointment)for(const i of this.applicationDetail.applicants){i.postalList=[];const a=yield this.httpService.payloadPost(c.a.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==i?void 0:i.arn}).toPromise().then(e=>e).catch(e=>e);if(a&&(i.postalList.push(a),!this.commonService.checkIfPrepaidCourier(null===(e=null==i?void 0:i.postalList[0])||void 0===e?void 0:e.courierType))){const e=yield this.httpService.slashParamsDoGet(c.a.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();i.postalList[0].state=this.utilityService.getStateNameFromISOcode(e,null===(t=null==i?void 0:i.postalList[0])||void 0===t?void 0:t.state)}}}))}printAppointmentLetter(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.httpService.payloadPost(c.a.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e}).toPromise().then(e=>e).catch(e=>e);this.utilityService.showFile(t)}))}resendConfirmationLetter(e){return Object(r.a)(this,void 0,void 0,(function*(){(yield this.httpService.payloadPost(c.a.api.emailPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e}).toPromise().then(e=>e).catch(e=>e)).IsAppointmentLetterEmailSend&&(document.body.scrollTop=document.documentElement.scrollTop=0,this.resendConfirmationLetterMsg=!0,setTimeout(()=>{this.resendConfirmationLetterMsg=!1},5e3))}))}cancelAppointment(e,t){return Object(r.a)(this,void 0,void 0,(function*(){const i=new Re.e;i.data={urnvalue:e,isReschedulingAllowed:this.applicationDetail.rescheduleAllowed};const a=this.dialog.open(Qe,i);this.subs.sink=a.afterClosed().subscribe(i=>Object(r.a)(this,void 0,void 0,(function*(){var a;if(i)if("cancel"===i.data){const i={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e},n=yield this.httpService.payloadPost(c.a.api.cancelAppointment,i).toPromise().then(e=>e).catch(e=>e);if(n){const e=[...this.allConfiguration].filter(e=>e.vacCode===(null==t?void 0:t.vacCode));n.IsAppointmentCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message1").then(e=>{this.cancelAppointmentMsg=e}):this.cancelAppointmentMsg=n.error.description.replace(" X ",` ${null===(a=e[0])||void 0===a?void 0:a.allowRescheduleXDaysPriorToAppointment} `),this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=null},1e4)}}else"reschedule"===i.data&&this.rescheduleAppointment(t)})))}))}rescheduleAppointment(e){try{const t=[...this.allConfiguration].filter(t=>t.vacCode===(null==e?void 0:e.vacCode));this.sessionService.applicationConfiguration=t[0],this.saveAppointmentDetails(e.applicants[0].appointment),this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const i=this.getApplicationDetails(e);this.sessionService.applicationDetailValue=i;const a=this.commonService.getSchemaByModuleName(c.a.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(i,a);const n=this.sessionService.getApplicationSchema(),o=[c.a.modules.BOOK_APPOINTMENT,c.a.modules.REVIEW_PAYMENT],s=n.modules.filter(e=>o.indexOf(e.logicalName)>-1);n.modules=s,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(n),this.sessionService.setIsRescheduleAptmntMode(!0),this.sessionService.urn=e.urn,this.route(c.a.modules.BOOK_APPOINTMENT)}catch(t){console.log(t)}}saveAppointmentDetails(e){try{let t;t=e.categoryCode.indexOf(this.primeLongueCode)>-1?"Premium Longue":e.categoryCode.indexOf(this.walkinCode)>-1?"Walk-in Anytime":"Standard";const i={appointmentSlotType:parseFloat(e.slotType),slotTypeName:t,slotType:e.categoryCode,date:String(e.appoinmentDate).split("/").reverse().join("-"),time:String(e.appointmentTime).split("-").shift(),allocationId:e.allocationId};return this.sessionService.saveAppointmentDetails(i),!0}catch(t){throw t}}getApplicationDetails(e){const t=this.initApplicationDetails();for(const i of Object.keys(e))t.hasOwnProperty(i)&&(t[i]=e[i]);return t.centerCode=e.vacCode,t.applicantList=e.applicants,t}initApplicationDetails(){var e,t,i,a;const n=(null===(t=null===(e=this.sessionService)||void 0===e?void 0:e.applicationConfiguration)||void 0===t?void 0:t.enableApplicationType)?"":null,o=(null===(a=null===(i=this.sessionService)||void 0===i?void 0:i.applicationConfiguration)||void 0===a?void 0:a.enableServiceType)?"":null;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail(),visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:n,serviceType:o}}saveEligibilityToSession(e,t){try{const i={};for(const a of t.controls)for(const t of a.fields)-1===c.a.BUTTON_CONTROLS_LIST.indexOf(t.fieldType)&&-1===c.a.NON_INTERACTIVE_CONTROLS.indexOf(t.fieldType)&&(i[t.displayName]=e[t.logicalName]);return this.sessionService.eligibilityDetails=i,this.sessionService.centerCode=e.centerCode,this.sessionService.visaSubCategory=e.visaCategoryCode,this.sessionService.visaCategory="-",!0}catch(i){throw i}}route(e){try{const t=this.commonService.getSchemaByModuleName(e);this.commonService.routeToPostLoginModule(t.routeUrl)}catch(t){console.log(t)}}tabChanged(e){this.statusOnTabChnaged=0===e.index?"InProgress":"Active",this.getAllApplications(this.statusOnTabChnaged)}back(){this.detailMode=!1,this.applicationDetail=[],this.statusOnTabChnaged="Active"}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b),a.Pb(p.e),a.Pb(He.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-dashboard"]],features:[a.yb],decls:25,vars:22,consts:[[1,"container","py-15","py-md-30",3,"ngClass"],[1,"card-accordion","mx-auto","d-flex","flex-column",2,"min-height","calc(100vh - 190px)"],[1,"row","mb-10","mb-md-25"],[1,"col-12"],["class","border-info mt-20","style","border-left: 5px solid",4,"ngIf"],[1,"col-12","col-sm-auto","d-lg-none"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"position-relative"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange","d-none","d-lg-inline-block","position-absolute","top-n3","right-0","z-index-999",3,"click"],["animationDuration","0ms",1,"mat-tab-group-brand",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label"],["class","card mb-20",4,"ngIf"],[4,"ngIf"],["class","container py-15 py-md-30",4,"ngIf"],[1,"border-info","mt-20",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"card","mb-20"],[1,"card-header","bg-brand-footer","px-15","px-lg-30"],[1,"mt-10","mb-25"],[1,"fs-18","fs-sm-24","mb-15"],[1,"row","fs-md-18"],[1,"col-12","col-md-auto","mb-15"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"col-12","col-md","mb-15","c-brand-grey-para"],[1,"my-5","mx-n30"],[1,"pt-15","fs-md-18","ff-700","mb-5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-brand-grey-para"],["class","card mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mt-auto",3,"type"],[1,"container","py-15","py-md-30"],[1,"c-brand-orange","fs-18","mb-20"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-arrow-left"],[1,"row"],[1,"col-12","col-lg-8","col-xl-8"],[1,"fs-18","fs-sm-24","mb-25"],[1,"c-brand-grey-para","fs-18","fs-md-22","mb-15"],[1,"dashboard-accordion","card"],[1,"card-header","bg-brand-footer"],[1,"fs-18","fs-md-22"],["class","c-brand-grey-para w-100 fs-16 fs-md-18 mt-15",4,"ngFor","ngForOf","ngForTrackBy"],[3,"translate"],[1,"ff-700","fs-18","mt-25"],[1,"my-20","c-brand-grey-para","fs-16","fs-md-18","lh-md-26"],[1,"fs-16","fs-md-18"],[1,"my-20"],["class","row no-gutters fs-16",4,"ngIf"],[1,"row","no-gutters","fs-16"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"fa","fa-arrow-circle-o-right","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"fa","fa-times-circle-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline"],[1,"fa","fa-clock-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","w-100","fs-16","fs-md-18","mt-15"],["colspan","2",1,"ff-500","py-8","c-brand-blue-light"],[1,"py-8"],[1,"py-8","w-wrap-break-all"],["colspan","2"],["colspan","2",1,"py-8"],[1,"col-12","col-lg-4","col-xl-4","mt-35","mt-lg-0",3,"type"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Mc(4,ot,5,1,"div",4),a.Mc(5,lt,6,7,"div",4),a.Ub(),a.Vb(6,"div",5),a.Vb(7,"button",6),a.hc("click",(function(){return t.applyNow()})),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"div",7),a.Vb(11,"button",8),a.hc("click",(function(){return t.applyNow()})),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Vb(14,"mat-tab-group",9),a.hc("selectedIndexChange",(function(e){return null==t.selected?null:t.selected.setValue(e)}))("selectedTabChange",(function(e){return t.tabChanged(e)})),a.Vb(15,"mat-tab",10),a.mc(16,"translate"),a.Mc(17,ut,15,11,"div",11),a.Mc(18,pt,3,3,"div",12),a.Ub(),a.Vb(19,"mat-tab",10),a.mc(20,"translate"),a.Mc(21,ht,2,2,"ng-container",12),a.Mc(22,gt,3,3,"div",12),a.Ub(),a.Ub(),a.Ub(),a.Mc(23,ft,2,1,"ng-container",12),a.Ub(),a.Ub(),a.Mc(24,Ut,24,21,"section",13)),2&e&&(a.tc("ngClass",t.detailMode?"d-none":"d-block"),a.Bb(4),a.tc("ngIf",t.cancelAppointmentMsg),a.Bb(1),a.tc("ngIf",t.viewRescheduledMsgFlag),a.Bb(3),a.Qc(" ",a.nc(9,14,"dashboard.buttons.button2")," "),a.Bb(4),a.Qc(" ",a.nc(13,16,"dashboard.buttons.button2")," "),a.Bb(2),a.tc("selectedIndex",t.selectedIdx),a.Bb(1),a.uc("label",a.nc(16,18,"dashboard.headerLabel.label2")),a.Bb(2),a.tc("ngIf",t.existInprogress>0),a.Bb(1),a.tc("ngIf",0===t.existInprogress),a.Bb(1),a.uc("label",a.nc(20,20,"dashboard.headerLabel.label3")),a.Bb(2),a.tc("ngIf",(null==t.applicationList?null:t.applicationList.length)>0),a.Bb(1),a.tc("ngIf",0===(null==t.applicationList?null:t.applicationList.length)),a.Bb(1),a.tc("ngIf",t.insuranceBox),a.Bb(1),a.tc("ngIf",t.applicationDetail&&(null==t.applicationDetail.applicants?null:t.applicationDetail.applicants.length)>0&&t.detailMode))},directives:[p.m,p.o,f.a,ze.b,ze.a,p.n,at,nt.a,nt.c,nt.d,m.a],pipes:[m.d,p.e],encapsulation:2}),e})();var Mt=i("wd/R"),kt=i.n(Mt);let Ft=(()=>{class e extends d.a{constructor(e,t,i){super(),this.dialog=e,this.data=t,this.dialogRef=i}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b),a.Pb(Re.a),a.Pb(Re.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-same-passport-modal"]],features:[a.yb],decls:16,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.close()})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h4",4),a.Qb(5,"i",5),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Qb(8,"hr",6),a.Vb(9,"p",7),a.Oc(10),a.Ub(),a.Vb(11,"div",8),a.Vb(12,"div",9),a.Vb(13,"button",10),a.hc("click",(function(){return t.close()})),a.Oc(14),a.mc(15,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(3),a.Qc(" ",a.nc(7,4,"commonSections.headerLabel.label3")," "),a.Bb(4),a.Pc(t.data),a.Bb(4),a.Qc(" ",a.nc(15,6,"commonSections.buttons.button19")," "))},directives:[f.a],pipes:[m.d],encapsulation:2}),e})();var _t=i("z6cu"),xt=i("tk/3"),Rt=i("QrD/"),Gt=i("XjvO");let jt=(()=>{class e{constructor(e,t){this.sessionService=e,this.utilityService=t}maxCurrentDate(e){return t=>{try{const i=t.get(e),a=this.utilityService.momentInstance().endOf("day").diff(this.utilityService.momentInstance(i.value).endOf("day"),"millisecond");return a<0?i.setErrors({invalidMaxDate:!0}):this.removeError(i,"invalidMaxDate"),a<0?{invalidMaxDate:!0}:null}catch(i){return console.log(c.b.MAX_CURR_DATE_VALIDATOR_FAILED,i),null}}}minCurrentDate(e){return t=>{try{const i=t.get(e),a=this.utilityService.momentInstance().endOf("day").diff(this.utilityService.momentInstance(i.value).endOf("day"),"millisecond");if(isNaN(a))return;return a<0?this.removeError(i,"invalidMinDate"):i.setErrors({invalidMinDate:!0}),a<0?null:{invalidMinDate:!0}}catch(i){return console.log(c.b.MIN_CURR_DATE_VALIDATOR_FAILED,i),null}}}dateTimeValidator(e,t){return i=>{try{const a=i.get(e.logicalName),n=this.utilityService.momentInstance(i.get(t.compareDateWith).value),o=this.utilityService.momentInstance(i.get(t.compareTimeWith).value,"HH:mm"),s=n.set({hour:o.get("hour"),minute:o.get("minute")}),l=this.utilityService.momentInstance(i.get(t.parentField).value),r=this.utilityService.momentInstance(a.value,"HH:mm"),c=l.set({hour:o.get("hour"),minute:r.get("minute")}),d=this.utilityService.momentInstance(s).diff(c,"millisecond");if("POST-TIME"===t.comparisonType)return d<=0?this.removeError(a,"invalidMinDateTime"):a.setErrors({invalidMinDateTime:!0}),d>0?{invalidMinDateTime:!0}:null}catch(a){return console.log(c.b.DATETIME_VALIDATOR_FAILED,a),null}}}latestAmong(e,t){return i=>{try{const i=e.get(t.logicalName),a=i.value;if(!a)return;const n=(t.validations.minValue.params||[]).map(i=>this.getValue(i,e,t)),o=this.getLatestDate(n),s=this.convertDateToInputMoment(a),l=this.utilityService.momentInstance(s).add(30,"days"),r=this.utilityService.momentInstance(l).endOf("day").diff(this.utilityService.momentInstance(o).endOf("day"),"millisecond");let c=null;return r<0?(i.markAsTouched({onlySelf:!0}),c={invalidMinDate:!0},i.setErrors(c)):this.removeError(i,"invalidMinDate"),c}catch(a){return console.log(c.b.MIN_DATE_VALIDATOR_FAILED,a),null}}}latestAmongMax(e,t){return i=>{try{const i=e.get(t.logicalName),a=i.value;if(!a)return;const n=(t.validations.maxValue.params||[]).map(i=>this.getValue(i,e,t)),o=this.getLatestDate(n),s=this.convertDateToInputMoment(a),l=this.utilityService.momentInstance(s).add(30,"days"),r=this.utilityService.momentInstance(l).endOf("day").diff(this.utilityService.momentInstance(o).endOf("day"),"millisecond");let c=null;return r>0?(i.markAsTouched({onlySelf:!0}),c={invalidMaxDate:!0},i.setErrors(c)):this.removeError(i,"invalidMaxDate"),c}catch(a){return console.log(c.b.MAX_DATE_VALIDATOR_FAILED,a),null}}}maxDateFromSession(e,t){return e=>{try{const i=e.value;if(!i)return;const a=this.convertDateToInputMoment(i),n=t.validations.maxValue,o=this.sessionService.getValue(null==n?void 0:n.value),s=this.convertDateToInputMoment(JSON.parse(o)),l=this.utilityService.momentInstance(s).add(30,"days"),r=this.utilityService.momentInstance(a).endOf("day").diff(this.utilityService.momentInstance(l).endOf("day"),"millisecond");let c=null;return r>0?(e.markAsTouched({onlySelf:!0}),c={invalidMaxDate:!0},e.setErrors(c)):this.removeError(e,"invalidMaxDate"),c}catch(i){return console.log(c.b.MAX_DATE_VALIDATOR_FAILED,i),null}}}convertToMomentMonth(e){try{const t=Object.assign({},e);return 1===t.month?(t.year=this.utilityService.momentInstance(t).subtract(1,"year").toObject().years,t.month=11):t.month=t.month-1,t}catch(t){console.log(t)}}removeError(e,t){const i=e.errors;return i&&delete i[t],i&&!Object.keys(i).length?e.setErrors(null):e.setErrors(i),!0}getValue(e,t,i){let a;switch(e.type){case Rt.g.CURRENT:a=this.getCurrentDate();break;case Rt.g.FORM_VALUE:a=this.extractValueFromForm(e,t);break;case Rt.g.SESSION:a=JSON.parse(this.sessionService.getValue(e.key));break;case Rt.g.FUNCTION:a=this.constructDate(e,t)}return a}constructDate(e,t){const i=JSON.parse(this.sessionService.getValue(e.key)),a=this.convertDateToInputMoment(i);return this.utilityService.momentInstance(a).subtract(Number(e.value)-30,"days").toObject()}convertDateToInputMoment(e){const t=this.format(e).split("/");return{year:parseInt(t[2]),month:parseInt(t[1])-1,day:parseInt(t[0])}}format(e){return e?`${this.isNumber(e.day)?this.padNumber(e.day):""}/${this.isNumber(e.month)?this.padNumber(e.month):""}/${e.year}`:""}isNumber(e){return!isNaN(this.toInteger(e))}toInteger(e){return parseInt(""+e,10)}padNumber(e){return this.isNumber(e)?("0"+e).slice(-2):""}extractValueFromForm(e,t){try{return t.get(e.key).value}catch(i){Object(_t.a)(i)}}getCurrentDate(){return this.utilityService.momentInstance(new Date).format("YYYY-MM-DD")}getLatestDate(e){try{return e.reduce((e,t)=>this.utilityService.momentInstance(e).endOf("day").diff(this.utilityService.momentInstance(t).endOf("day"),"millisecond")>0?e:t)}catch(t){Object(_t.a)(t)}}maxDate(e,t){return e=>{try{if(null===e.value)return;const i=this.utilityService.momentInstance().add(t.startDate,"days").endOf("day").diff(this.utilityService.momentInstance(e.value).subtract(1,"months").endOf("day"),"millisecond");return i<0?e.setErrors({invalidMaxDate:!0}):this.removeError(e,"invalidMaxDate"),i<0?{invalidMaxDate:!0}:null}catch(i){return console.log(c.b.MAX_CURR_DATE_VALIDATOR_FAILED,i),null}}}minDate(e,t){return e=>{try{if(null===e.value)return;e.setErrors(null);const i=this.utilityService.momentInstance().add(t.startDate,"days").endOf("day").diff(this.utilityService.momentInstance(e.value).subtract(1,"months").endOf("day"),"millisecond");if(isNaN(i))return;return i<=0?this.removeError(e,"invalidMinDate"):e.setErrors({invalidMinDate:!0}),i<=0?null:{invalidMinDate:!0}}catch(i){return console.log(c.b.MIN_CURR_DATE_VALIDATOR_FAILED,i),null}}}lessThanTargetDate(e,t){return i=>{try{if(null===i.value)return;const a=e.get(t.value),n=this.convertDateToInputMoment(a.value),o=this.utilityService.momentInstance(n).add(30,"days"),s=this.utilityService.momentInstance(o).endOf("day").diff(this.utilityService.momentInstance(i.value).endOf("day"),"millisecond");return s>0?(i.setErrors({invalidMinDate:!0}),a.setErrors({invalidMaxDate:!0})):(this.removeError(i,"invalidMinDate"),this.removeError(a,"invalidMaxDate")),s>0?{invalidMinDate:!0}:null}catch(a){return console.log(c.b.MIN_DATE_VALIDATOR_FAILED,a),null}}}greaterThanTargetDate(e,t){return i=>{try{if(null===i.value)return;const a=e.get(t);if(!i||!a)return;const n=this.convertDateToInputMoment(a.value),o=this.utilityService.momentInstance(n).add(30,"days"),s=this.utilityService.momentInstance(o).endOf("day").diff(this.utilityService.momentInstance(i.value).endOf("day"),"millisecond");return s<0?(i.setErrors({invalidMaxDate:!0}),a.setErrors({invalidMinDate:!0})):(this.removeError(i,"invalidMaxDate"),this.removeError(a,"invalidMinDate")),s<0?{invalidMaxDate:!0}:null}catch(a){return console.log(c.b.MAX_DATE_VALIDATOR_FAILED,a),null}}}}return e.\u0275fac=function(t){return new(t||e)(a.dc(K.a),a.dc(Gt.a))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$t=(()=>{class e{constructor(e,t){this.customValidator=e,this.commonService=t}toFormGroup(e=[],...t){return Object(r.a)(this,void 0,void 0,(function*(){const i=new s.f({});for(const a of e)for(const e of a.fields){if(e.fieldType===c.a.controls.Button||e.fieldType===c.a.controls.Horizontal_Rule)continue;const a=(yield this.getValidatorsList(e,void 0,...t))||[];if(e.hasOwnProperty("isNested")&&e.isNested){const a=new s.f({});for(const i of e.subForm.fields){const e=(yield this.getValidatorsList(i,void 0,...t))||[],n=yield this.commonService.fetchDefaultValue(i.defaultValueLookup,a);a.addControl(i.logicalName,new s.d({value:n||null,disabled:i.readOnly},e))}i.addControl(e.logicalName,a),this.addFormLevelValidators(i,e)}else{const n=yield this.commonService.fetchDefaultValue(e.defaultValueLookup,i,...t),o=new s.d({value:n||null,disabled:e.readOnly},a);i.addControl(e.logicalName,o),this.addFormLevelValidators(i,e,o)}}return i}))}getValidatorsList(e,t,...i){return Object(r.a)(this,void 0,void 0,(function*(){const a=[],n=yield this.regexCheck(e,t,i),o=this.mandatoryCheck(e),l=this.minLengthCheck(e),r=this.maxLengthCheck(e),c=this.minValueCheck(e),d=this.maxValueCheck(e);return a.push(...n,...o,...l,...r,...c,...d),a.length>1?s.s.compose(a):a}))}regexCheck(e,t,i){var a;return Object(r.a)(this,void 0,void 0,(function*(){try{const n=[],o=e.validations;if(!e||!o||!o.regex)return n;let l;return l=o.regex.hasOwnProperty("type")?yield this.commonService.fetchDefaultValue(Array.of(o.regex),t,...i):null===(a=o.regex)||void 0===a?void 0:a.value,l&&n.push(s.s.pattern(l)),n}catch(n){throw n}}))}mandatoryCheck(e){const t=[];return e&&e.validations&&e.validations.hasOwnProperty("mandatory")?(e.validations.mandatory&&e.validations.mandatory.value&&t.push("checkbox"===e.fieldType?s.s.requiredTrue:s.s.required),t):t}minLengthCheck(e){const t=[];return e&&e.validations&&e.validations.hasOwnProperty("minLength")?(e.validations.minLength&&t.push(s.s.minLength(e.validations.minLength.value)),t):t}maxLengthCheck(e){const t=[];return e&&e.validations&&e.validations.hasOwnProperty("maxLength")?(e.validations.maxLength&&t.push(s.s.maxLength(e.validations.maxLength.value)),t):t}minValueCheck(e){const t=[];return e&&e.validations&&e.validations.hasOwnProperty("minValue")?("datepicker"!==e.fieldType&&e.validations.minValue&&t.push(s.s.min(e.validations.minValue.value)),t):t}maxValueCheck(e){const t=[];return e&&e.validations&&e.validations.hasOwnProperty("maxValue")?(e.fieldType!==c.a.controls.Datepicker&&e.validations.maxValue&&t.push(s.s.max(e.validations.maxValue.value)),t):t}addFormLevelValidators(e,t,i){t.fieldType===c.a.controls.Datepicker?(this.setMinDateValidator(e,t,i),this.setMaxDateValidator(e,t,i)):t.fieldType===c.a.controls.Timepicker&&this.dateTimeValidator(e,t)}dateTimeValidator(e,t){try{this.setDateTimePickerValidator(e,t,t.validations.validateDateTime)}catch(i){console.log(c.b.DATETIME_VALIDATOR_FAILED)}return!0}setDateTimePickerValidator(e,t,i){try{"POST-TIME"===i.comparisonType&&e.setValidators(s.s.compose([e.validator,this.customValidator.dateTimeValidator(t,i)]))}catch(a){Object(_t.a)(a)}}setMinDateValidator(e,t,i){try{const a=t.validations.minValue;if(!a||!a.isActive)return;const n=i.validator;switch(a.type){case Rt.b.CURRENT:i.setValidators(s.s.compose([n,this.customValidator.minDate(t.logicalName,a)]));break;case Rt.b.COMPARE:i.setValidators(s.s.compose([n,this.customValidator.lessThanTargetDate(e,a)]));break;case Rt.b.LATEST_AMONG:i.setValidators(s.s.compose([n,this.customValidator.latestAmong(e,t)]))}}catch(a){console.log(c.b.MIN_DATE_VALIDATOR_FAILED)}return!0}setMaxDateValidator(e,t,i){try{const a=t.validations.maxValue;if(!a||!a.isActive)return;const n=i.validator;switch(a.type){case Rt.b.CURRENT:i.setValidators(s.s.compose([n,this.customValidator.maxDate(t.logicalName,a)]));break;case Rt.b.COMPARE:i.setValidators(s.s.compose([n,this.customValidator.greaterThanTargetDate(e,a.value)]));break;case Rt.b.LATEST_AMONG:i.setValidators(s.s.compose([n,this.customValidator.latestAmongMax(e,t)]));break;case Rt.b.SESSION:i.setValidators(s.s.compose([n,this.customValidator.maxDateFromSession(e,t)]))}i.updateValueAndValidity()}catch(a){Object(_t.a)(a)}}}return e.\u0275fac=function(t){return new(t||e)(a.dc(jt),a.dc(J.a))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Qt=i("3N+h"),Yt=i("LRne"),Wt=i("/uUt"),Ht=i("Kj3r"),zt=i("iq5f"),Kt=i("mS5l");function Jt(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.mandatory?null:e.controlSchema.validations.mandatory.message)||""," ")}}function qt(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.regex?null:e.controlSchema.validations.regex.message)||""," ")}}function Zt(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.maxLength?null:e.controlSchema.validations.maxLength.message)||""," ")}}function Xt(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.minLength?null:e.controlSchema.validations.minLength.message)||""," ")}}function ei(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.minValue?null:e.controlSchema.validations.minValue.message)||""," ")}}function ti(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.maxValue?null:e.controlSchema.validations.maxValue.message)||""," ")}}function ii(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.minValue?null:e.controlSchema.validations.minValue.message)||""," ")}}function ai(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.validateDateTime?null:e.controlSchema.validations.validateDateTime.message)||""," ")}}function ni(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.emailExists?null:e.controlSchema.validations.emailExists.message)||""," ")}}function oi(e,t){1&e&&(a.Vb(0,"div",3),a.Oc(1),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ","Entered passport number does not match with any of the parent's passport details."," "))}function si(e,t){1&e&&(a.Vb(0,"div",3),a.Oc(1),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ","Entered passport expiry date does not match with any of the parent's passport details."," "))}function li(e,t){1&e&&(a.Vb(0,"div",3),a.Oc(1),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ","Password and confirm-password does not match"," "))}function ri(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(3);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations?null:e.controlSchema.validations.invalid)||""," ")}}function ci(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(3);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.minValue?null:e.controlSchema.validations.minValue.message)||""," ")}}function di(e,t){if(1&e&&(a.Vb(0,"div",3),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e){const e=a.lc(3);a.Bb(1),a.Qc(" ",a.nc(2,1,null==e.controlSchema||null==e.controlSchema.validations||null==e.controlSchema.validations.maxValue?null:e.controlSchema.validations.maxValue.message)||""," ")}}function ui(e,t){if(1&e&&(a.Vb(0,"div",3),a.Mc(1,ri,3,3,"div",2),a.Mc(2,ci,3,3,"div",2),a.Mc(3,di,3,3,"div",2),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",null==e.control.errors||null==e.control.errors.ngbDate?null:e.control.errors.ngbDate.invalid),a.Bb(1),a.tc("ngIf",(null==e.control.errors||null==e.control.errors.ngbDate?null:e.control.errors.ngbDate.requiredBefore)&&!(null!=e.control.errors&&e.control.errors.invalidMinDate)),a.Bb(1),a.tc("ngIf",(null==e.control.errors||null==e.control.errors.ngbDate?null:e.control.errors.ngbDate.requiredAfter)&&!(null!=e.control.errors&&e.control.errors.invalidMaxDate))}}function pi(e,t){if(1&e&&(a.Vb(0,"div",1),a.Mc(1,Jt,3,3,"div",2),a.Mc(2,qt,3,3,"div",2),a.Mc(3,Zt,3,3,"div",2),a.Mc(4,Xt,3,3,"div",2),a.Mc(5,ei,3,3,"div",2),a.Mc(6,ti,3,3,"div",2),a.Mc(7,ii,3,3,"div",2),a.Mc(8,ai,3,3,"div",2),a.Mc(9,ni,3,3,"div",2),a.Mc(10,oi,2,1,"div",2),a.Mc(11,si,2,1,"div",2),a.Mc(12,li,2,1,"div",2),a.Mc(13,ui,4,3,"div",2),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",(null==e.control?null:e.control.hasError("required"))||(null==e.control?null:e.control.hasError("invalid"))),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("pattern")),a.Bb(1),a.tc("ngIf",(null==e.control?null:e.control.hasError("maxlength"))&&!(null!=e.control&&e.control.hasError("pattern"))&&!(null!=e.control&&e.control.hasError("minlength"))),a.Bb(1),a.tc("ngIf",(null==e.control?null:e.control.hasError("minlength"))&&!(null!=e.control&&e.control.hasError("pattern"))),a.Bb(1),a.tc("ngIf",(null==e.control?null:e.control.hasError("min"))&&!(null!=e.control&&e.control.hasError("maxlength"))&&!(null!=e.control&&e.control.hasError("pattern"))&&!(null!=e.control&&e.control.hasError("minlength"))),a.Bb(1),a.tc("ngIf",(null==e.control?null:e.control.hasError("invalidMaxDate"))&&!(null!=e.control.errors&&null!=e.control.errors.ngbDate&&e.control.errors.ngbDate.invalid)&&!(null!=e.control&&e.control.hasError("invalidMinDate"))||(null==e.control?null:e.control.hasError("invalidLengthOfStay"))),a.Bb(1),a.tc("ngIf",(null==e.control?null:e.control.hasError("invalidMinDate"))&&!(null!=e.control.errors&&null!=e.control.errors.ngbDate&&e.control.errors.ngbDate.invalid)),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("invalidMinDateTime")),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("emailExists")),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("passportNoMissmatch")),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("passportExpiryMissmatch")),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("passwordMissMatch")),a.Bb(1),a.tc("ngIf",null==e.control?null:e.control.hasError("ngbDate"))}}let mi=(()=>{class e{constructor(){}get control(){return this.appFormControl}get viewErrors(){var e,t,i;try{return(null===(e=this.control)||void 0===e?void 0:e.touched)&&(null===(t=this.control)||void 0===t?void 0:t.invalid)&&!0!==(null===(i=this.controlSchema)||void 0===i?void 0:i.readOnly)}catch(a){return!1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-error-message"]],inputs:{appFormControl:"appFormControl",controlSchema:"controlSchema"},decls:1,vars:1,consts:[["class","errorMessage",4,"ngIf"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&a.Mc(0,pi,14,13,"div",0),2&e&&a.tc("ngIf",t.viewErrors)},directives:[p.o],pipes:[m.d],styles:[""]}),e})();var bi=i("Qu3c");function hi(e,t){1&e&&(a.Vb(0,"span",7),a.Oc(1,"*"),a.Ub())}function gi(e,t){if(1&e&&(a.Qb(0,"i",8),a.mc(1,"translate")),2&e){const e=a.lc(2);a.uc("matTooltip",a.nc(1,1,null==e.fieldControl?null:e.fieldControl.displayInfo.value))}}function fi(e,t){if(1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Mc(3,hi,2,0,"span",5),a.Mc(4,gi,2,3,"i",6),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Qc(" ",a.nc(2,3,null==e.fieldControl?null:e.fieldControl.displayName),""),a.Bb(2),a.tc("ngIf",e.isMandatory),a.Bb(1),a.tc("ngIf",null==e.fieldControl||null==e.fieldControl.displayInfo?null:e.fieldControl.displayInfo.visible)}}const vi=function(e){return{"mat-form-field-disabled-grayed":e}};let yi=(()=>{class e{constructor(e){this.commonService=e,this.controlReady=new a.n}ngOnChanges(){this.loadInfoIconDetails(this.fieldControl,this.form),this.notifyControlLoadComplete()}notifyControlLoadComplete(){this.controlReady.emit(!0)}get isMandatory(){try{return this.fieldControl.validations.mandatory.value}catch(e){return!1}}trimValue(){const e=this.form.get(this.fieldControl.logicalName).errors,t=this.form.get(this.fieldControl.logicalName).value.replace(/^\s+|\s+$/g,"");this.form.get(this.fieldControl.logicalName).setValue(t),this.form.get(this.fieldControl.logicalName).setErrors(e)}loadInfoIconDetails(e,t){try{if(e.displayInfo&&e.displayInfo.visible){const i=this.commonService.extractAndConstructParams(Array.of(e.displayInfo),t,null,this,this.dynamicControlScope,this.parentScope),a=Object.values(i);i&&a.length>0&&Promise.resolve(a[0]).then(t=>e.displayInfo.value=t)}}catch(i){console.log(i)}}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(J.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-input-control"]],inputs:{fieldControl:"fieldControl",form:"form",type:"type",isBundle:"isBundle",dynamicControlScope:"dynamicControlScope",parentScope:"parentScope"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:6,vars:13,consts:[[3,"formGroup"],[4,"ngIf"],[3,"appFormControl","controlSchema"],["appearance","outline",1,"mat-form-field-outline-brand",3,"ngClass"],["matInput","","autocomplete","off",3,"formControlName","placeholder","type","readonly"],["class","c-brand-error",4,"ngIf"],["class","brand-tooltip fa fa-info",3,"matTooltip",4,"ngIf"],[1,"c-brand-error"],[1,"brand-tooltip","fa","fa-info",3,"matTooltip"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Mc(1,fi,5,5,"div",1),a.Qb(2,"app-error-message",2),a.Vb(3,"mat-form-field",3),a.Qb(4,"input",4),a.mc(5,"translate"),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("ngIf",!t.isBundle),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.fieldControl?null:t.fieldControl.logicalName))("controlSchema",t.fieldControl),a.Bb(1),a.tc("ngClass",a.xc(11,vi,(null==t.fieldControl?null:t.fieldControl.readOnly)||(null==t.fieldControl?null:t.fieldControl.isInputDisabled))),a.Bb(1),a.uc("placeholder",a.nc(5,9,null==t.fieldControl?null:t.fieldControl.placeholder)||""),a.tc("formControlName",null==t.fieldControl?null:t.fieldControl.logicalName)("type",t.type)("readonly",null==t.fieldControl?null:t.fieldControl.isInputDisabled))},directives:[s.n,s.g,p.o,mi,b.b,p.m,h.b,s.b,s.m,s.e,bi.a],pipes:[m.d],styles:[""]}),e})();function Si(e,t){1&e&&(a.Vb(0,"span",6),a.Oc(1,"*"),a.Ub())}function Ci(e,t){if(1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Mc(3,Si,2,0,"span",5),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Pc(a.nc(2,2,null==e.fieldControl?null:e.fieldControl.displayName)),a.Bb(2),a.tc("ngIf",e.isMandatory)}}let Oi=(()=>{class e{constructor(e,t,i){this.commonService=e,this.httpService=t,this.utilityService=i,this.controlReady=new a.n}ngOnChanges(){this.eventSubscriptionsList=new zt.SubSink,this.handleControlLoad()}handleControlLoad(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.registerEvents(),this.notifyControlLoadComplete()}))}notifyControlLoadComplete(){this.controlReady.emit(!0)}get isMandatory(){try{return this.fieldControl.validations.mandatory.value}catch(e){return!1}}registerEvents(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.registerEmitterValueChange(this.fieldControl,this.form),t=this.registerChangeEvent(this.fieldControl,this.form);return yield Promise.all([e,t]),!0}catch(e){console.log(e)}}))}registerEmitterValueChange(e,t){try{const i=e.changeEmitterFields||[];for(const a of i)this.eventSubscriptionsList.sink=t.get(a.targetFieldLogicalName).valueChanges.subscribe(i=>{this.callFunctionByName(a.functionName,e,i,t,a.params)});return!0}catch(i){Object(_t.a)(i)}}registerChangeEvent(e,t){try{if(!e.hasOwnProperty("onChangeEvent")||0===e.onChangeEvent.length)return;for(const i of e.onChangeEvent)this.eventSubscriptionsList.sink=t.get(e.logicalName).valueChanges.subscribe(a=>{this.callFunctionByName(i.functionName,e,a,t,i.params)});return!0}catch(i){throw i}}callFunctionByName(e,...t){return Object(r.a)(this,void 0,void 0,(function*(){try{let i;if(this[e])i=this;else if(this.dynamicControlScope[e])i=this.dynamicControlScope;else{if(!this.parentScope[e])throw new Error(`${c.b.FUNCTION_NOT_FOUND}: ${e}`);i=this.parentScope}t?i[e](...t):i[e]()}catch(i){Object(_t.a)(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}return!0}))}updateListenerDateField(e,t,i,a){var n,o,s,l;return Object(r.a)(this,void 0,void 0,(function*(){try{let t;if(e.defaultValueOptionSet&&0!==e.defaultValueOptionSet.length)t=e.defaultValueOptionSet;else{const a=this.commonService.extractApiAsPerDomain(e.optionsListApi),n=this.commonService.extractAndConstructParams(null==a?void 0:a.params,i);t=yield this.httpService.doCheck(a,n).toPromise().then(e=>e).catch(e=>Object(_t.a)(e))}(null==t?void 0:t.ExpectedDate)&&"object"==typeof(null==t?void 0:t.ExpectedDate)&&(null===(n=null==t?void 0:t.ExpectedDate)||void 0===n?void 0:n.year)?this.form.get(null===(o=this.fieldControl)||void 0===o?void 0:o.logicalName).setValue(this.utilityService.convertJSONInDate(null==t?void 0:t.ExpectedDate)):(null==t?void 0:t.total)?this.form.get(null===(s=this.fieldControl)||void 0===s?void 0:s.logicalName).setValue(null==t?void 0:t.total):(this.form.get(null===(l=this.fieldControl)||void 0===l?void 0:l.logicalName).setValue(null),this.fieldControl.validations.mandatory.message=null==t?void 0:t.ExpectedDate,this.form.get(this.fieldControl.logicalName).markAsTouched({onlySelf:!0}),this.form.get(this.fieldControl.logicalName).setErrors({required:!0}),this.form.get(this.fieldControl.logicalName).setErrors({invalid:!0}))}catch(t){console.log(c.b.ERROR_OCCURED," : ",t)}return!0}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(J.a),a.Pb(Qt.a),a.Pb(Gt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-input-control-read-only"]],inputs:{fieldControl:"fieldControl",form:"form",type:"type",isBundle:"isBundle",dynamicControlScope:"dynamicControlScope",parentScope:"parentScope"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:6,vars:10,consts:[[3,"formGroup"],[4,"ngIf"],[3,"appFormControl","controlSchema"],["appearance","outline",1,"mat-form-field-outline-brand","mat-outline-none"],["matInput","",3,"formControlName","placeholder","type","readonly"],["class","c-brand-error",4,"ngIf"],[1,"c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Mc(1,Ci,4,4,"div",1),a.Qb(2,"app-error-message",2),a.Vb(3,"mat-form-field",3),a.Qb(4,"input",4),a.mc(5,"translate"),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("ngIf",!t.isBundle),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.fieldControl?null:t.fieldControl.logicalName))("controlSchema",t.fieldControl),a.Bb(2),a.uc("placeholder",a.nc(5,8,null==t.fieldControl?null:t.fieldControl.placeholder)||""),a.tc("formControlName",null==t.fieldControl?null:t.fieldControl.logicalName)("type",t.type)("readonly",!0))},directives:[s.n,s.g,p.o,mi,b.b,h.b,s.b,s.m,s.e],pipes:[m.d],styles:[""]}),e})();var Ii=i("NFeN");function Li(e,t){1&e&&(a.Vb(0,"span",7),a.Oc(1,"*"),a.Ub())}function Ti(e,t){if(1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Mc(3,Li,2,0,"span",6),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Pc(a.nc(2,2,null==e.fieldControl?null:e.fieldControl.displayName)),a.Bb(2),a.tc("ngIf",e.isMandatory)}}let Vi=(()=>{class e{constructor(){this.controlReady=new a.n}ngOnChanges(){this.eventSubscriptionsList=new zt.SubSink,this.registerEvents()}ngOnDestroy(){this.eventSubscriptionsList&&this.eventSubscriptionsList.unsubscribe()}registerEvents(){return Object(r.a)(this,void 0,void 0,(function*(){try{yield this.registerChangeEmitterEvent(this.fieldControl,this.form),this.notifyControlLoadComplete()}catch(e){console.log(e)}}))}notifyControlLoadComplete(){this.controlReady.emit(!0)}get isMandatory(){try{return this.fieldControl.validations.mandatory.value}catch(e){return!1}}registerChangeEmitterEvent(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{if(!e.hasOwnProperty("onChangeEvent")||0===e.onChangeEvent.length)return;for(const i of e.onChangeEvent)this.eventSubscriptionsList.sink=t.get(e.logicalName).valueChanges.subscribe(a=>{this.callFunctionByName(i.functionName,e,a,t,i.params).catch(e=>console.log(e)).then(e=>console.log(e))});return!0}catch(i){throw i}}))}callFunctionByName(e,...t){return Object(r.a)(this,void 0,void 0,(function*(){try{let i;if(this[e])i=this;else if(this.dynamicControlScope[e])i=this.dynamicControlScope;else{if(!this.parentScope[e])throw new Error(c.b.FUNCTION_NOT_FOUND);i=this.parentScope}t?i[e](...t):i[e]()}catch(i){throw new Error(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}return!0}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-password-toggle-control"]],inputs:{fieldControl:"fieldControl",form:"form",type:"type",isBundle:"isBundle",parentScope:"parentScope",dynamicControlScope:"dynamicControlScope"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:8,vars:10,consts:[[3,"formGroup"],[4,"ngIf"],[3,"appFormControl","controlSchema"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","autocomplete","off",3,"type","formControlName","placeholder"],["tabindex","0","matSuffix","",1,"cursor-pointer","icon-toggle",3,"keypress","mouseenter","mouseleave","click"],["class","c-brand-error",4,"ngIf"],[1,"c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Mc(1,Ti,4,4,"div",1),a.Qb(2,"app-error-message",2),a.Vb(3,"mat-form-field",3),a.Qb(4,"input",4),a.mc(5,"translate"),a.Vb(6,"mat-icon",5),a.hc("keypress",(function(){return t.passwordToogle=!t.passwordToogle}))("mouseenter",(function(){return t.passwordToogle=!0}))("mouseleave",(function(){return t.passwordToogle=!1}))("click",(function(){return t.passwordToogle=!0})),a.Oc(7),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("ngIf",!t.isBundle),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.fieldControl?null:t.fieldControl.logicalName))("controlSchema",t.fieldControl),a.Bb(2),a.uc("placeholder",a.nc(5,8,null==t.fieldControl?null:t.fieldControl.placeholder)||""),a.tc("type",t.passwordToogle?"text":"password")("formControlName",null==t.fieldControl?null:t.fieldControl.logicalName),a.Bb(3),a.Qc(" ",t.passwordToogle?"visibility_off":"visibility"," "))},directives:[s.n,s.g,p.o,mi,b.b,h.b,s.b,s.m,s.e,Ii.a,b.e],pipes:[m.d],styles:[""]}),e})(),Ai=(()=>{class e{constructor(){this.controlReady=new a.n}ngOnInit(){this.notifyControlLoadComplete()}notifyControlLoadComplete(){this.controlReady.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-horizontal-rule"]],outputs:{controlReady:"controlReady"},decls:1,vars:0,consts:[[1,"my-25"]],template:function(e,t){1&e&&a.Qb(0,"hr",0)},styles:[""]}),e})();function Ni(e,t){1&e&&(a.Vb(0,"span",9),a.Oc(1,"*"),a.Ub())}function Di(e,t){if(1&e&&a.Qb(0,"i",10),2&e){const e=a.lc(2);a.uc("matTooltip",null==e.fieldControl?null:e.fieldControl.displayInfo.value)}}function Ei(e,t){if(1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Mc(3,Ni,2,0,"span",7),a.Mc(4,Di,1,1,"i",8),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Qc(" ",a.nc(2,3,null==e.fieldControl?null:e.fieldControl.displayName),""),a.Bb(2),a.tc("ngIf",e.isMandatory),a.Bb(1),a.tc("ngIf",null==e.fieldControl||null==e.fieldControl.displayInfo?null:e.fieldControl.displayInfo.visible)}}let Pi=(()=>{class e extends ee.b{constructor(e,t){super(),this.commonService=e,this.httpService=t,this.controlReady=new a.n,this.minDate={},this.maxDate={}}ngOnChanges(){var e,t,i,a,n,o;this.eventSubscriptionsList=new zt.SubSink,this.handleControlLoad(),this.minDate=(null===(i=null===(t=null===(e=this.fieldControl)||void 0===e?void 0:e.validations)||void 0===t?void 0:t.minValue)||void 0===i?void 0:i.hasOwnProperty("boundaryValue"))&&""!==this.fieldControl.validations.minValue.boundaryValue&&void 0!==this.fieldControl.validations.minValue.boundaryValue?this.parse(kt()().add(this.fieldControl.validations.minValue.boundaryValue,"days").format("DD/MM/YYYY")):{year:1900,month:1,day:1},this.maxDate=(null===(o=null===(n=null===(a=this.fieldControl)||void 0===a?void 0:a.validations)||void 0===n?void 0:n.maxValue)||void 0===o?void 0:o.hasOwnProperty("boundaryValue"))&&""!==this.fieldControl.validations.maxValue.boundaryValue&&void 0!==this.fieldControl.validations.maxValue.boundaryValue?this.parse(kt()().add(this.fieldControl.validations.maxValue.boundaryValue,"days").format("DD/MM/YYYY")):{year:kt()().year()+50,month:1,day:1},this.handleValidations()}handleValidations(){try{this.setMaxDate(this.fieldControl.validations.maxValue),this.setMinDate(this.fieldControl.validations.minValue)}catch(e){console.log(e)}}handleControlLoad(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.registerEvents(),this.loadInfoIconDetails(this.fieldControl,this.form),this.notifyControlLoadComplete()}))}loadInfoIconDetails(e,t){try{if(e.displayInfo&&e.displayInfo.visible){const i=this.commonService.extractAndConstructParams(Array.of(e.displayInfo),t,null,this,this.dynamicControlScope,this.parentScope);i&&Object.values(i).length>0&&(e.displayInfo.value=Object.values(i)[0])}}catch(i){console.log(i)}}registerEvents(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.registerDateValueChange(this.fieldControl,this.form),t=this.registerChangeEvent(this.fieldControl,this.form);return yield Promise.all([e,t]),!0}catch(e){console.log(e)}}))}registerDateValueChange(e,t){try{const i=e.changeEmitterFields||[];for(const a of i)this.eventSubscriptionsList.sink=t.get(a.targetFieldLogicalName).valueChanges.subscribe(i=>{this.callFunctionByName(a.functionName,e,i,t,a.params)});return!0}catch(i){Object(_t.a)(i)}}registerChangeEvent(e,t){try{if(!e.hasOwnProperty("onChangeEvent")||0===e.onChangeEvent.length)return;for(const i of e.onChangeEvent)this.eventSubscriptionsList.sink=t.get(e.logicalName).valueChanges.subscribe(a=>{this.callFunctionByName(i.functionName,e,a,t,i.params)});return!0}catch(i){throw i}}callFunctionByName(e,...t){return Object(r.a)(this,void 0,void 0,(function*(){try{let i;if(this[e])i=this;else if(this.dynamicControlScope[e])i=this.dynamicControlScope;else{if(!this.parentScope[e])throw new Error(`${c.b.FUNCTION_NOT_FOUND}: ${e}`);i=this.parentScope}t?i[e](...t):i[e]()}catch(i){Object(_t.a)(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}return!0}))}updateListenerDateField(e,t,i,a){var n;return Object(r.a)(this,void 0,void 0,(function*(){try{let t;if(e.defaultValueOptionSet&&0!==e.defaultValueOptionSet.length)t=e.defaultValueOptionSet;else{const a=this.commonService.extractApiAsPerDomain(e.optionsListApi),n=this.commonService.extractAndConstructParams(null==a?void 0:a.params,i);t=yield this.httpService.doCheck(a,n).toPromise().then(e=>e).catch(e=>Object(_t.a)(e))}(null==t?void 0:t.ExpectedDate)&&this.form.get(null===(n=this.fieldControl)||void 0===n?void 0:n.logicalName).setValue(null==t?void 0:t.ExpectedDate)}catch(t){console.log(c.b.ERROR_OCCURED," : ",t)}return!0}))}notifyControlLoadComplete(){this.controlReady.emit(!0)}closeOtherDatePicker(e,t){e.toggle()}onSelect(e,t){}addSlash(e){const t=e.target.value.length;8!==e.keyCode&&(2!==t&&5!==t||(e.target.value+="/"))}parse(e){try{if(e){const t=e.trim().split("/");if(1===t.length&&this.isNumber(t[0]))return{year:this.toInteger(t[0]),month:null,day:null};if(2===t.length&&this.isNumber(t[0])&&this.isNumber(t[1]))return{year:this.toInteger(t[0]),month:this.toInteger(t[1]),day:null};if(3===t.length&&this.isNumber(t[0])&&this.isNumber(t[1])&&this.isNumber(t[2]))return{day:this.toInteger(t[0]),month:this.toInteger(t[1]),year:this.toInteger(t[2])}}return null}catch(t){console.log(t)}}format(e){return e?`${this.isNumber(e.day)?this.padNumber(e.day):""}/${this.isNumber(e.month)?this.padNumber(e.month):""}/${e.year}`:""}isNumber(e){return!isNaN(this.toInteger(e))}toInteger(e){return parseInt(""+e,10)}padNumber(e){return this.isNumber(e)?("0"+e).slice(-2):""}get isMandatory(){try{return this.fieldControl.validations.mandatory.value}catch(e){return!1}}change(e,t){t.open(),setTimeout(()=>{e.focus()},500)}setMaxDate(e){try{if(!e)return;const t=this.commonService.extractAndConstructParams(Array.of(e)),i=Object.values(t);i.length>0&&i[0]&&(this.maxDate="string"==typeof i[0]?JSON.parse(i[0]):i[0])}catch(t){console.log(t)}}setMinDate(e){try{if(!e)return;const t=this.commonService.extractAndConstructParams(Array.of(e)),i=Object.values(t);i.length>0&&i[0]&&(this.minDate="string"==typeof i[0]?JSON.parse(i[0]):i[0])}catch(t){console.log(t)}}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(J.a),a.Pb(Qt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-ngb-datepicker"]],inputs:{fieldControl:"fieldControl",form:"form",dynamicControlScope:"dynamicControlScope",parentScope:"parentScope",isBundle:"isBundle"},outputs:{controlReady:"controlReady"},features:[a.yb,a.zb],decls:8,vars:11,consts:[[3,"formGroup"],[4,"ngIf"],[3,"appFormControl","controlSchema"],[1,"datepicker-div","form-group"],["ngbDatepicker","",1,"form-control","input-lg","mt-5",3,"formControlName","id","placeholder","minDate","maxDate","click","keyup","keyup.Tab","keydown.Tab","ngModelChange"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],["class","c-brand-error",4,"ngIf"],["class","brand-tooltip fa fa-info",3,"matTooltip",4,"ngIf"],[1,"c-brand-error"],[1,"brand-tooltip","fa","fa-info",3,"matTooltip"]],template:function(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",0),a.Mc(1,Ei,5,5,"div",1),a.Qb(2,"app-error-message",2),a.Vb(3,"div",3),a.Vb(4,"input",4,5),a.hc("click",(function(){return a.Fc(e),a.Bc(5).toggle()}))("keyup",(function(e){return t.addSlash(e)}))("keyup.Tab",(function(i){a.Fc(e);const n=a.Bc(5);return t.change(i.target,n)}))("keydown.Tab",(function(){return a.Fc(e),a.Bc(5).close()}))("ngModelChange",(function(e){return t.onSelect(e,null==t.fieldControl?null:t.fieldControl.logicalName)})),a.mc(6,"translate"),a.Ub(),a.Vb(7,"div",6),a.hc("click",(function(){return a.Fc(e),a.Bc(5).toggle()})),a.Ub(),a.Ub(),a.Ub()}2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("ngIf",!t.isBundle),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.fieldControl?null:t.fieldControl.logicalName))("controlSchema",t.fieldControl),a.Bb(2),a.uc("placeholder",a.nc(6,9,null==t.fieldControl?null:t.fieldControl.placeholder)||""),a.tc("formControlName",null==t.fieldControl?null:t.fieldControl.logicalName)("id",null==t.fieldControl?null:t.fieldControl.logicalName)("minDate",t.minDate)("maxDate",t.maxDate))},directives:[s.n,s.g,p.o,mi,ee.c,s.b,s.m,s.e,bi.a],pipes:[m.d],encapsulation:2}),e})();var wi=i("r3oX");function Ui(e,t){1&e&&(a.Vb(0,"span",4),a.Oc(1,"*"),a.Ub())}let Bi=(()=>{class e{constructor(){this.controlReady=new a.n}ngOnChanges(){this.notifyControlLoadComplete()}notifyControlLoadComplete(){this.controlReady.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-timepicker"]],inputs:{field:"field",form:"form",type:"type"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:7,vars:9,consts:[[3,"formGroup"],["class","c-brand-error",4,"ngIf"],[3,"appFormControl","controlSchema"],[3,"formControlName","controlOnly"],[1,"c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div"),a.Oc(2),a.mc(3,"translate"),a.Mc(4,Ui,2,0,"span",1),a.Ub(),a.Qb(5,"app-error-message",2),a.Qb(6,"ngx-timepicker-field",3),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(2),a.Pc(a.nc(3,7,null==t.field?null:t.field.displayName)),a.Bb(2),a.tc("ngIf","true"==(null==t.field||null==t.field.validations?null:t.field.validations.mandatory)),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.field?null:t.field.logicalName))("controlSchema",t.field),a.Bb(1),a.tc("formControlName",null==t.field?null:t.field.logicalName)("controlOnly",!0))},directives:[s.n,s.g,p.o,mi,wi.b,s.m,s.e],pipes:[m.d],styles:[""]}),e})();function Mi(e,t){1&e&&(a.Vb(0,"span",7),a.Oc(1,"*"),a.Ub())}function ki(e,t){if(1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Mc(3,Mi,2,0,"span",6),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Qc(" ",a.nc(2,2,null==e.field?null:e.field.displayName),""),a.Bb(2),a.tc("ngIf",!0===(null==e.field||null==e.field.validations||null==e.field.validations.mandatory?null:e.field.validations.mandatory.value))}}function Fi(e,t){if(1&e&&(a.Vb(0,"mat-option",8),a.Oc(1),a.Ub()),2&e){const e=t.$implicit,i=a.lc();a.tc("value",e[null==i.field||null==i.field.optionsListApi[i.subdomain]?null:i.field.optionsListApi[i.subdomain].valueKey]),a.Bb(1),a.Qc(" ",e[null==i.field||null==i.field.optionsListApi[i.subdomain]?null:i.field.optionsListApi[i.subdomain].displayKey]," ")}}const _i=function(e){return{"mat-form-field-disabled":e}};let xi=(()=>{class e{constructor(e,t,i){this.commonService=e,this.httpService=t,this.utilityService=i,this.subdomain=n.a.applicationType,this.controlReady=new a.n}ngOnChanges(){this.metadata.dropdownDetails[this.field.logicalName]={options:[],displayKey:null,valueKey:null},this.eventSubscriptionsList=new zt.SubSink,this.handleControlLoad()}handleControlLoad(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.loadDropdownOptionsList(this.form,this.field),yield this.registerEvents(),this.notifyControlLoadComplete()}))}registerEvents(){return Object(r.a)(this,void 0,void 0,(function*(){return this.registerDropdownValueChange(this.field,this.form),this.registerChangeEmitterEvent(this.field,this.form),!0}))}get isMandatory(){try{return this.field.validations.mandatory.value}catch(e){return!1}}notifyControlLoadComplete(){this.controlReady.emit(!0)}registerChangeEmitterEvent(e,t){try{if(!e.hasOwnProperty("onChangeEvent")||0===e.onChangeEvent.length)return;for(const i of e.onChangeEvent)this.eventSubscriptionsList.sink=t.get(e.logicalName).valueChanges.subscribe(a=>{this.callFunctionByName(i.functionName,e,a,t,i.params)});return!0}catch(i){throw i}}registerDropdownValueChange(e,t){try{if(!e.hasOwnProperty("changeEmitterFields")||0===e.changeEmitterFields.length)return;const i=e.changeEmitterFields||[];for(const a of i)this.eventSubscriptionsList.sink=t.get(a.targetFieldLogicalName).valueChanges.subscribe(i=>{this.callFunctionByName(a.functionName,e,i,t,a.params)});return!0}catch(i){Object(_t.a)(i)}}callFunctionByName(e,...t){return Object(r.a)(this,void 0,void 0,(function*(){try{let i;this[e]?i=this:this.dynamicControlScope[e]?i=this.dynamicControlScope:this.parentScope&&(i=this.parentScope),t?i[e](...t):i[e]()}catch(i){console.log(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}return!0}))}loadDropdownOptionsList(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{const i=e.get(t.logicalName),a=this.commonService.extractApiAsPerDomain(t.optionsListApi),n=this.commonService.extractAndConstructParams(null==a?void 0:a.params,e);if(!t.changeEmitterFields||0===t.changeEmitterFields.length){let o;o=t.defaultValueOptionSet&&0!==t.defaultValueOptionSet.length?t.defaultValueOptionSet:yield this.httpService.doCheck(a,n).toPromise().then(e=>e).catch(e=>{throw e}),this.metadata.dropdownDetails[t.logicalName].options=o;const s=t.optionsListApi[this.subdomain].valueKey;this.metadata.dropdownDetails[t.logicalName].valueKey=s,this.metadata.dropdownDetails[t.logicalName].displayKey=t.optionsListApi[this.subdomain].displayKey;const l=i.value?i.value:this.utilityService.strictCompare(o.length,1)?o[0][s]:yield this.commonService.fetchDefaultValue(t.defaultValueLookup,e);i.setValue(l||null)}return i.updateValueAndValidity(),!0}catch(i){console.log(`${c.b.FORM_DATA_LOAD_FAILED}: ${i}`)}}))}updateListenerDropdownField(e,t,i,a){return Object(r.a)(this,void 0,void 0,(function*(){try{let t;if(e.defaultValueOptionSet&&0!==e.defaultValueOptionSet.length)t=e.defaultValueOptionSet;else{const a=this.commonService.extractApiAsPerDomain(e.optionsListApi),n=this.commonService.extractAndConstructParams(null==a?void 0:a.params,i);t=yield this.httpService.doCheck(a,n).toPromise().then(e=>e).catch(e=>Object(_t.a)(e))}if(this.metadata.dropdownDetails[e.logicalName].options=t,this.metadata.dropdownDetails[e.logicalName].valueKey=this.field.optionsListApi[this.subdomain].valueKey,e.displayInfo&&e.displayInfo.visible){let i=[...new Set(t.map(e=>e.toolTip))];i=i.toString().replace(/[,]/g,"\n\n"),e.displayInfo.message=i}if(e.logicalName===this.field.logicalName){const i=this.field.optionsListApi[this.subdomain].valueKey;if(t.filter(t=>t[i]===this.form.get(e.logicalName).value).length>0)this.form.get(e.logicalName).setValue(this.form.get(e.logicalName).value);else{const a=this.utilityService.strictCompare(t.length,1)?t[0][i]:null;this.form.get(e.logicalName).setValue(a)}}this.form.get(e.logicalName).updateValueAndValidity()}catch(t){console.log(c.b.ERROR_OCCURED," : ",t)}return!0}))}trackByFn(e,t){return t?e:null}get options(){var e;return(null===(e=this.metadata)||void 0===e?void 0:e.dropdownDetails[this.field.logicalName].options)||[]}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(J.a),a.Pb(Qt.a),a.Pb(Gt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-dropdown"]],inputs:{field:"field",form:"form",type:"type",parentScope:"parentScope",dynamicControlScope:"dynamicControlScope",isBundle:"isBundle",metadata:"metadata"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:8,vars:16,consts:[[3,"formGroup"],[4,"ngIf"],[3,"appFormControl","controlSchema"],["appearance","outline",1,"mat-form-field-outline-brand",3,"ngClass"],[3,"placeholder","formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","c-brand-error",4,"ngIf"],[1,"c-brand-error"],[3,"value"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Mc(1,ki,4,4,"div",1),a.Qb(2,"app-error-message",2),a.Vb(3,"mat-form-field",3),a.Vb(4,"mat-select",4),a.mc(5,"translate"),a.Mc(6,Fi,2,2,"mat-option",5),a.mc(7,"sortBy"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("ngIf",!t.isBundle),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.field?null:t.field.logicalName))("controlSchema",t.field),a.Bb(1),a.tc("ngClass",a.xc(14,_i,null==t.field?null:t.field.readOnly)),a.Bb(1),a.uc("placeholder",a.nc(5,9,null==t.field?null:t.field.placeholder)||""),a.tc("formControlName",null==t.field?null:t.field.logicalName),a.Bb(2),a.tc("ngForOf",a.oc(7,11,t.options,null==t.field||null==t.field.optionsListApi[t.subdomain]?null:t.field.optionsListApi[t.subdomain].displayKey))("ngForTrackBy",t.trackByFn))},directives:[s.n,s.g,p.o,mi,b.b,p.m,te.a,s.m,s.e,p.n,ae.k],pipes:[m.d,ne],styles:[""]}),e})();var Ri=i("WJ5W");function Gi(e,t){1&e&&(a.Vb(0,"span",10),a.Oc(1,"*"),a.Ub())}function ji(e,t){if(1&e&&a.Qb(0,"i",11),2&e){const e=a.lc(2);a.uc("matTooltip",null==e.field?null:e.field.displayInfo.message)}}function $i(e,t){if(1&e&&(a.Vb(0,"div"),a.Oc(1),a.mc(2,"translate"),a.Mc(3,Gi,2,0,"span",8),a.Mc(4,ji,1,1,"i",9),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Qc(" ",a.nc(2,3,null==e.field?null:e.field.displayName),""),a.Bb(2),a.tc("ngIf",!0===(null==e.field||null==e.field.validations||null==e.field.validations.mandatory?null:e.field.validations.mandatory.value)),a.Bb(1),a.tc("ngIf",null==e.field||null==e.field.displayInfo?null:e.field.displayInfo.visible)}}function Qi(e,t){if(1&e&&(a.Vb(0,"mat-option",12),a.Oc(1),a.Ub()),2&e){const e=t.$implicit,i=a.lc();a.tc("value",e[null==i.field||null==i.field.optionsListApi[i.subdomain]?null:i.field.optionsListApi[i.subdomain].valueKey]),a.Bb(1),a.Qc(" ",e[null==i.field||null==i.field.optionsListApi[i.subdomain]?null:i.field.optionsListApi[i.subdomain].displayKey]," ")}}const Yi=function(e){return{"mat-form-field-disabled":e}};let Wi=(()=>{class e{constructor(e,t,i){this.commonService=e,this.httpService=t,this.utilityService=i,this.subdomain=n.a.applicationType,this.options=[],this.optionscopy=[],this.controlReady=new a.n}ngOnChanges(){this.eventSubscriptionsList=new zt.SubSink,this.handleControlLoad()}handleControlLoad(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.registerEvents(),yield this.loadDropdownOptionsList(this.form,this.field),this.notifyControlLoadComplete()}))}registerEvents(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.registerDropdownValueChange(this.field,this.form),t=this.registerChangeEmitterEvent(this.field,this.form);return yield Promise.all([e,t]),!0}catch(e){console.log(e)}}))}get isMandatory(){try{return this.field.validations.mandatory.value}catch(e){return!1}}notifyControlLoadComplete(){this.controlReady.emit(!0)}registerChangeEmitterEvent(e,t){try{if(!e.hasOwnProperty("onChangeEvent")||0===e.onChangeEvent.length)return;for(const i of e.onChangeEvent)this.eventSubscriptionsList.sink=t.get(e.logicalName).valueChanges.pipe(Object(Wt.a)()).subscribe(a=>{this.callFunctionByName(i.functionName,e,a,t,i.params)});return!0}catch(i){throw i}}registerDropdownValueChange(e,t){try{if(-1===c.a.DROPDOWNS_LIST.indexOf(e.fieldType)||!e.hasOwnProperty("changeEmitterFields")||0===e.changeEmitterFields.length)return;const i=e.changeEmitterFields||[];for(const a of i)this.eventSubscriptionsList.sink=t.get(a.targetFieldLogicalName).valueChanges.pipe(Object(Wt.a)()).subscribe(i=>{this.callFunctionByName(a.functionName,e,i,t,a.params)});return!0}catch(i){Object(_t.a)(i)}}optionsArray(e){const t=this.options[e];return Array.isArray(t)?t:[]}callFunctionByName(e,...t){return Object(r.a)(this,void 0,void 0,(function*(){try{let i;if(this[e])i=this;else if(this.dynamicControlScope[e])i=this.dynamicControlScope;else{if(!this.parentScope[e])throw new Error(c.b.FUNCTION_NOT_FOUND);i=this.parentScope}t?i[e](...t):i[e]()}catch(i){Object(_t.a)(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}return!0}))}loadDropdownOptionsList(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{const i=e.get(t.logicalName),a=this.commonService.extractApiAsPerDomain(t.optionsListApi);if(!t.changeEmitterFields||0===t.changeEmitterFields.length){let n;if(t.defaultValueOptionSet&&0!==t.defaultValueOptionSet.length)n=t.defaultValueOptionSet;else if(a.params&&Array.isArray(a.params)&&a.params.length>0){const t=new xt.g({fromObject:this.commonService.extractAndConstructParams(a.params,e)});n=yield this.httpService.doGet(a.url,t).toPromise().then(e=>e).catch(e=>{throw e})}else n=yield this.httpService.doGet(a.url).toPromise().then(e=>e).catch(e=>{throw e});this.options=n||[],this.optionscopy=n||[];const o=t.optionsListApi[this.subdomain].valueKey,s=i.value?i.value:this.utilityService.strictCompare(n.length,1)?n[0][o]:yield this.commonService.fetchDefaultValue(t.defaultValueLookup,e);i.setValue(s||null)}return i.updateValueAndValidity(),!0}catch(i){console.log(`${c.b.FORM_DATA_LOAD_FAILED}: ${i}`)}}))}updateListenerDropdownField(e,t,i,a){return Object(r.a)(this,void 0,void 0,(function*(){try{let t;if(e.defaultValueOptionSet&&0!==e.defaultValueOptionSet.length)t=e.defaultValueOptionSet;else{const a=this.commonService.extractApiAsPerDomain(e.optionsListApi),n=this.commonService.extractAndConstructParams(null==a?void 0:a.params,i);t=yield this.httpService.doCheck(a,n).toPromise().then(e=>e).catch(e=>Object(_t.a)(e))}if(this.options=t||[],e.displayInfo&&e.displayInfo.visible){let i=[...new Set(t.map(e=>e.toolTip))];i=i.toString().replace(/[,]/g,"\n\n"),e.displayInfo.message=i}if(this.optionscopy=t||[],e.logicalName===this.field.logicalName){const i=this.field.optionsListApi[this.subdomain].valueKey;if(this.optionscopy.filter(t=>t[i]===this.form.get(e.logicalName).value).length>0)this.form.get(e.logicalName).setValue(this.form.get(e.logicalName).value);else{const a=this.utilityService.strictCompare(t.length,1)?t[0][i]:null;this.form.get(e.logicalName).setValue(a)}}this.form.get(e.logicalName).updateValueAndValidity()}catch(t){console.log(c.b.ERROR_OCCURED," : ",t)}return!0}))}changeDrpodownValues(e,t){try{const i=this.field.optionsListApi[this.subdomain].displayKey;this.options=e.target.value?this.optionscopy.filter(t=>t[i].toLowerCase().includes(e.target.value.toLowerCase())):(!e.target.value&&this.form.get(t),this.optionscopy)}catch(i){console.log(i)}}onValueChanged(e,t){if(e&&e.target&&e.target.value){const i=this.field.optionsListApi[this.subdomain].displayKey,a=this.field.optionsListApi[this.subdomain].valueKey,n=this.optionscopy.filter(t=>t[i].toLowerCase()===e.target.value.toLowerCase());n.length>0?this.form.get(t).setValue(n[0][a]):this.form.get(t).setValue(null)}}setOptionList(e,t){e&&(this.options=this.optionscopy,document.querySelector("#"+t+">div>input").value="")}trackByFn(e,t){return t?e:null}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(J.a),a.Pb(Qt.a),a.Pb(Gt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-searchable-dropdown"]],inputs:{field:"field",form:"form",type:"type",parentScope:"parentScope",dynamicControlScope:"dynamicControlScope",isBundle:"isBundle"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:12,vars:20,consts:[[3,"formGroup"],[4,"ngIf"],[3,"appFormControl","controlSchema"],["appearance","outline",1,"mat-form-field-outline-brand",3,"ngClass"],[3,"formControlName","placeholder","openedChange"],["noEntriesFoundLabel","No entries found",3,"placeholderLabel","id","keyup"],[1,"fa","fa-close"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","c-brand-error",4,"ngIf"],["class","brand-tooltip fa fa-info",3,"matTooltip",4,"ngIf"],[1,"c-brand-error"],[1,"brand-tooltip","fa","fa-info",3,"matTooltip"],[3,"value"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Mc(1,$i,5,5,"div",1),a.Qb(2,"app-error-message",2),a.Vb(3,"mat-form-field",3),a.Vb(4,"mat-select",4),a.hc("openedChange",(function(e){return t.setOptionList(e,null==t.field?null:t.field.logicalName)})),a.mc(5,"translate"),a.Vb(6,"mat-option"),a.Vb(7,"ngx-mat-select-search",5),a.hc("keyup",(function(e){return t.changeDrpodownValues(e,null==t.field?null:t.field.logicalName),t.onValueChanged(e,null==t.field?null:t.field.logicalName)})),a.mc(8,"translate"),a.Qb(9,"i",6),a.Ub(),a.Ub(),a.Mc(10,Qi,2,2,"mat-option",7),a.mc(11,"sortBy"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("ngIf",!t.isBundle),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.field?null:t.field.logicalName))("controlSchema",t.field),a.Bb(1),a.tc("ngClass",a.xc(18,Yi,null==t.field?null:t.field.readOnly)),a.Bb(1),a.uc("placeholder",a.nc(5,11,null==t.field?null:t.field.placeholder)||""),a.tc("formControlName",null==t.field?null:t.field.logicalName),a.Bb(3),a.uc("placeholderLabel",a.nc(8,13,null==t.field?null:t.field.placeholder)||""),a.tc("id",null==t.field?null:t.field.logicalName),a.Bb(3),a.tc("ngForOf",a.oc(11,15,t.options,null==t.field||null==t.field.optionsListApi[t.subdomain]?null:t.field.optionsListApi[t.subdomain].displayKey))("ngForTrackBy",t.trackByFn))},directives:[s.n,s.g,p.o,mi,b.b,p.m,te.a,s.m,s.e,ae.k,Ri.a,p.n,bi.a],pipes:[m.d,ne],encapsulation:2}),e})();var Hi=i("QibW");function zi(e,t){1&e&&(a.Vb(0,"span",6),a.Oc(1,"*"),a.Ub())}function Ki(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",7),a.Vb(2,"div"),a.Vb(3,"mat-radio-button",8),a.Oc(4),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&e){const e=t.$implicit;a.Bb(2),a.Db(null==e?null:e.cssClass),a.Bb(1),a.uc("title",null==e?null:e.displayName),a.tc("value",null==e?null:e.value),a.Bb(1),a.Qc(" ",null==e?null:e.displayName,"")}}let Ji=(()=>{class e{constructor(e){this.commonService=e,this.controlReady=new a.n}ngOnChanges(){this.handleControlLoad(),this.notifyControlLoadComplete()}handleControlLoad(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.form.get(this.field.logicalName).value?this.form.get(this.field.logicalName).value:yield this.commonService.fetchDefaultValue(this.form.get(this.field.logicalName).defaultValueLookup,this.form);this.form.get(this.field.logicalName).setValue(e||null)}))}notifyControlLoadComplete(){this.controlReady.emit(!0)}get isMandatory(){try{return this.field.validations.mandatory.value}catch(e){return!1}}trackByFn(e,t){return t?e:null}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(J.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-radio"]],inputs:{field:"field",form:"form",type:"type"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:8,vars:10,consts:[[3,"formGroup"],["aria-label","Select an option",1,"row","mat-radio-group-brand",3,"formControlName"],[1,"col-12","mb-5"],["class","c-brand-error",4,"ngIf"],[1,"col-12",3,"appFormControl","controlSchema"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-brand-error"],[1,"col-12","col-sm","mb-15","mb-sm-0"],[1,"mat-block",3,"value","title"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"mat-radio-group",1),a.Vb(2,"div",2),a.Oc(3),a.mc(4,"translate"),a.Mc(5,zi,2,0,"span",3),a.Ub(),a.Qb(6,"app-error-message",4),a.Mc(7,Ki,5,6,"ng-container",5),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("formControlName",null==t.field?null:t.field.logicalName),a.Bb(2),a.Pc(a.nc(4,8,null==t.field?null:t.field.displayName)),a.Bb(2),a.tc("ngIf",t.isMandatory),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.field?null:t.field.logicalName))("controlSchema",t.field),a.Bb(1),a.tc("ngForOf",null==t.field?null:t.field.defaultValueOptionSet)("ngForTrackBy",t.trackByFn))},directives:[s.n,s.g,Hi.b,s.m,s.e,p.o,mi,p.n,Hi.a],pipes:[m.d],styles:[""]}),e})(),qi=(()=>{class e{constructor(){this.controlReady=new a.n}ngOnChanges(){this.registerValueChange(this.field,this.form),this.notifyControlLoadComplete()}notifyControlLoadComplete(){this.controlReady.emit(!0)}get isMandatory(){try{return this.field.validations.mandatory.value}catch(e){return!1}}callFunctionByName(e,...t){return Object(r.a)(this,void 0,void 0,(function*(){try{let i;this[e]?i=this:this.dynamicControlScope[e]?i=this.dynamicControlScope:this.parentScope&&(i=this.parentScope),t?i[e](...t):i[e]()}catch(i){console.log(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}return!0}))}registerValueChange(e,t){var i;try{const a=t.get(e.logicalName),n=e.onChangeEvent||[];return a&&e.hasOwnProperty("onChangeEvent")&&(null===(i=e.onChangeEvent)||void 0===i?void 0:i.length)>0&&(this.subscription=a.valueChanges.pipe(Object(Wt.a)()).subscribe(i=>{for(const a of n)this.callFunctionByName(a.functionName,e,i,t,a.params)})),!0}catch(a){Object(_t.a)(a)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-checkbox"]],inputs:{field:"field",form:"form",type:"type",parentScope:"parentScope",dynamicControlScope:"dynamicControlScope"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:8,vars:7,consts:[[3,"formGroup"],[3,"appFormControl","controlSchema"],[1,"row","no-gutters"],[1,"col-auto"],[1,"mat-checkbox-brand",3,"formControlName"],[1,"col"],[3,"innerHTML"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Qb(1,"app-error-message",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Qb(4,"mat-checkbox",4),a.Ub(),a.Vb(5,"div",5),a.Qb(6,"span",6),a.mc(7,"translate"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.tc("formGroup",t.form),a.Bb(1),a.tc("appFormControl",null==t.form?null:t.form.get(null==t.field?null:t.field.logicalName))("controlSchema",t.field),a.Bb(3),a.tc("formControlName",null==t.field?null:t.field.logicalName),a.Bb(2),a.tc("innerHTML",a.nc(7,5,null==t.field?null:t.field.displayName),a.Gc))},directives:[s.n,s.g,mi,g.a,s.m,s.e],pipes:[m.d],styles:[""]}),e})();const Zi=function(e){return{"form-error":e}};function Xi(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-input-control",12),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(8,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("type",t.CONSTANTS.controls.Textbox)("isBundle",!1)("dynamicControlScope",t.thisScope)("parentScope",t.scope)}}function ea(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-input-control-read-only",12),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(8,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("type",t.CONSTANTS.controls.Textbox)("isBundle",!1)("dynamicControlScope",t.thisScope)("parentScope",t.scope)}}function ta(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-input-control",13),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(6,Zi,t.isInvalid(null==e?null:e.logicalName)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("type",t.CONSTANTS.controls.Password)("isBundle",!1)}}function ia(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-password-toggle-control",14),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(8,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("type",t.CONSTANTS.controls.Password_toggle)("parentScope",t.scope)("dynamicControlScope",t.thisScope)("isBundle",!1)}}function aa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",15),a.Vb(1,"app-horizontal-rule",16),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("hidden",1==t.hideShowList[null==e?null:e.logicalName])}}function na(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-input-control",13),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(6,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("type",t.CONSTANTS.controls.Email)("isBundle",!1)}}function oa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-input-control",13),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(6,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("type",t.CONSTANTS.controls.Number)("isBundle",!1)}}function sa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div"),a.Vb(1,"button",17),a.hc("click",(function(){a.Fc(e);const t=a.lc(2).$implicit;return a.lc(2).handleOnClickEvent(t)})),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit;a.Bb(2),a.Qc(" ",a.nc(3,1,null==e?null:e.displayName)," ")}}function la(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-ngb-datepicker",18),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(6,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("fieldControl",e)("form",t.form)("dynamicControlScope",t.thisScope)("parentScope",t.scope)}}function ra(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",19),a.Vb(1,"app-timepicker",20),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("field",e)("form",t.form)("type",t.CONSTANTS.controls.Datepicker)}}function ca(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-dropdown",21),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(9,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("field",e)("form",t.form)("type",t.CONSTANTS.controls.Dropdown)("parentScope",t.scope)("isBundle",!1)("dynamicControlScope",t.thisScope)("metadata",t.metadata)}}function da(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-searchable-dropdown",22),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(7,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("field",e)("form",t.form)("type",t.CONSTANTS.controls.SearchableDropdown)("parentScope",t.scope)("dynamicControlScope",t.thisScope)}}function ua(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"app-radio",20),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(5,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("field",e)("form",t.form)("type",t.CONSTANTS.controls.Radio)}}function pa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",23),a.Vb(1,"app-checkbox",22),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub()}if(2&e){const e=a.lc(2).$implicit,t=a.lc(2);a.tc("ngClass",a.xc(7,Zi,t.isInvalid(null==e?null:e.logicalName)&&!0!==(null==e?null:e.readOnly)))("hidden",1==t.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.tc("field",e)("form",t.form)("type",t.CONSTANTS.controls.Checkbox)("parentScope",t.scope)("dynamicControlScope",t.thisScope)}}const ma=function(){return{"col-sm":!0}};function ba(e,t){if(1&e&&(a.Vb(0,"div",4),a.Tb(1,5),a.Mc(2,Xi,2,10,"div",6),a.Mc(3,ea,2,10,"div",6),a.Mc(4,ta,2,8,"div",6),a.Mc(5,ia,2,10,"div",6),a.Mc(6,aa,2,1,"div",7),a.Mc(7,na,2,8,"div",6),a.Mc(8,oa,2,8,"div",6),a.Mc(9,sa,4,3,"div",8),a.Mc(10,la,2,8,"div",6),a.Mc(11,ra,2,4,"div",9),a.Mc(12,ca,2,11,"div",6),a.Mc(13,da,2,9,"div",6),a.Mc(14,ua,2,7,"div",6),a.Mc(15,pa,2,9,"div",10),a.Sb(),a.Ub()),2&e){const e=a.lc().$implicit,t=a.lc(2);a.Db(null==e?null:e.cssClass),a.tc("ngClass",a.wc(20,ma))("formGroup",t.form),a.Bb(1),a.tc("ngSwitch",null==e?null:e.fieldType),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Textbox),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.ReadOnlyTextbox),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Password),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Password_toggle),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Horizontal_Rule),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Email),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Number),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Button),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Datepicker),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Timepicker),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Dropdown),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.SearchableDropdown),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Radio),a.Bb(1),a.tc("ngSwitchCase",t.CONSTANTS.controls.Checkbox)}}function ha(e,t){if(1&e&&(a.Tb(0),a.Mc(1,ba,16,21,"div",3),a.Sb()),2&e){const e=t.$implicit,i=a.lc(2);a.Bb(1),a.tc("ngIf",!i.hideShowList[null==e?null:e.logicalName])}}function ga(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",1),a.Mc(2,ha,2,1,"ng-container",2),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.tc("ngForOf",null==e.fieldRow?null:e.fieldRow.fields)("ngForTrackBy",e.trackByFn)}}function fa(e,t){1&e&&(a.Vb(0,"span",34),a.Oc(1,"*"),a.Ub())}function va(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",29),a.Vb(1,"div"),a.Oc(2),a.mc(3,"translate"),a.Mc(4,fa,2,0,"span",30),a.Ub(),a.Vb(5,"div",1),a.Vb(6,"div",31),a.Vb(7,"app-searchable-dropdown",32),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub(),a.Vb(8,"div",33),a.Vb(9,"app-input-control",12),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.lc(4);a.tc("ngClass",a.xc(17,Zi,e.isInvalid(null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].logicalName)&&!0!==(null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].readOnly)||e.isInvalid(null==e.fieldRow||null==e.fieldRow.fields[1]?null:e.fieldRow.fields[1].logicalName)&&!0!==(null==e.fieldRow||null==e.fieldRow.fields[1]?null:e.fieldRow.fields[1].readOnly))),a.Bb(2),a.Qc(" ",a.nc(3,15,null==e.fieldRow?null:e.fieldRow.bundleLabel)," "),a.Bb(2),a.tc("ngIf",null==e.fieldRow?null:e.fieldRow.mandatory),a.Bb(3),a.tc("field",null==e.fieldRow?null:e.fieldRow.fields[0])("form",e.form)("isBundle",!0)("type",e.CONSTANTS.controls.Dropdown)("parentScope",e.scope)("dynamicControlScope",e.thisScope),a.Bb(2),a.tc("fieldControl",null==e.fieldRow?null:e.fieldRow.fields[1])("form",e.form)("type",e.CONSTANTS.controls.Textbox)("isBundle",!0)("dynamicControlScope",e.thisScope)("parentScope",e.scope)}}function ya(e,t){1&e&&(a.Vb(0,"span",34),a.Oc(1,"*"),a.Ub())}function Sa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",29),a.Vb(1,"div"),a.Oc(2),a.mc(3,"translate"),a.Mc(4,ya,2,0,"span",30),a.Ub(),a.Vb(5,"div",1),a.Vb(6,"div",31),a.Vb(7,"app-input-control",12),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub(),a.Vb(8,"div",33),a.Vb(9,"app-input-control",12),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).notifyControlReady()})),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.lc(4);a.tc("ngClass",a.xc(17,Zi,e.isInvalid(null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].logicalName)&&!0!==(null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].readOnly)||e.isInvalid(null==e.fieldRow||null==e.fieldRow.fields[1]?null:e.fieldRow.fields[1].logicalName)&&!0!==(null==e.fieldRow||null==e.fieldRow.fields[1]?null:e.fieldRow.fields[1].readOnly))),a.Bb(2),a.Qc(" ",a.nc(3,15,null==e.fieldRow?null:e.fieldRow.bundleLabel)," "),a.Bb(2),a.tc("ngIf",null==e.fieldRow?null:e.fieldRow.mandatory),a.Bb(3),a.tc("fieldControl",null==e.fieldRow?null:e.fieldRow.fields[0])("form",e.form)("type",e.CONSTANTS.controls.Textbox)("isBundle",!0)("dynamicControlScope",e.thisScope)("parentScope",e.scope),a.Bb(2),a.tc("fieldControl",null==e.fieldRow?null:e.fieldRow.fields[1])("form",e.form)("type",e.CONSTANTS.controls.Textbox)("isBundle",!0)("dynamicControlScope",e.thisScope)("parentScope",e.scope)}}function Ca(e,t){if(1&e&&(a.Vb(0,"div",27),a.Mc(1,va,10,19,"div",28),a.Mc(2,Sa,10,19,"div",28),a.Ub()),2&e){const e=a.lc(3);a.tc("formGroup",e.form)("hidden",1==e.hideShowList[null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].logicalName]),a.Bb(1),a.tc("ngIf",(null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].fieldType)===e.CONSTANTS.controls.Dropdown),a.Bb(1),a.tc("ngIf",(null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].fieldType)===e.CONSTANTS.controls.Textbox)}}function Oa(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",37),a.Vb(2,"button",38),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(4).handleOnClickEvent(i)})),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=a.lc(4);a.Bb(1),a.tc("hidden",1==i.hideShowList[null==e?null:e.logicalName]),a.Bb(1),a.Db(null==e?null:e.cssClass),a.Bb(1),a.Qc(" ",a.nc(4,5,e.displayName)," ")}}function Ia(e,t){if(1&e&&(a.Vb(0,"div",35),a.Vb(1,"div",36),a.Mc(2,Oa,5,7,"ng-container",2),a.Ub(),a.Ub()),2&e){const e=a.lc(3);a.tc("formGroup",e.form),a.Bb(2),a.tc("ngForOf",null==e.fieldRow?null:e.fieldRow.fields)("ngForTrackBy",e.trackByFn)}}function La(e,t){if(1&e&&(a.Tb(0,5),a.Mc(1,Ca,3,4,"div",25),a.Mc(2,Ia,3,3,"div",26),a.Sb()),2&e){const e=a.lc(2);a.tc("ngSwitch",null==e.fieldRow?null:e.fieldRow.bundleName),a.Bb(1),a.tc("ngSwitchCase",e.CONSTANTS.controls.Contact),a.Bb(1),a.tc("ngSwitchCase",e.CONSTANTS.controls.Multi_button)}}function Ta(e,t){if(1&e&&(a.Tb(0),a.Mc(1,La,3,3,"ng-container",24),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",!e.hideShowList[null==e.fieldRow||null==e.fieldRow.fields[0]?null:e.fieldRow.fields[0].logicalName])}}let Va=(()=>{class e{constructor(e,t,i){this.dialog=e,this.commonService=t,this.dataShareService=i,this.controlReady=new a.n,this.files=[],this.isApplicantListDropdownDisabled=!0,this.objectKeys=Object.keys,this.CONSTANTS=c.a,this.hideShowList={},this.thisScope=this,this.fieldRowCounter=0}ngOnChanges(e){var t,i;if((null==e?void 0:e.fieldRow)&&(null===(t=e.fieldRow)||void 0===t?void 0:t.currentValue))try{(null===(i=this.fieldRow)||void 0===i?void 0:i.fields)&&this.fieldRow.fields[0].fieldType===c.a.controls.Image&&this.controlReady.emit(!0)}catch(a){Object(_t.a)(`${c.b.ERROR_OCCURED}: ${a}`)}this.eventSubscriptionsList=new zt.SubSink,this.handlePageLoad()}ngOnDestroy(){this.eventSubscriptionsList.unsubscribe()}handlePageLoad(){return Object(r.a)(this,void 0,void 0,(function*(){this.initVariables(),yield this.handleEvents(this.fieldRow,this.form)}))}initVariables(){this.fieldRowCounter=0}isInvalid(e){return this.form.get(e).enabled&&!(this.form.get(e).untouched||this.form.get(e).valid)}callFunctionByName(e,...t){try{let i;this[e]?i=this:this.scope[e]&&(i=this.scope);const a=t?i[e](...t):i[e]();return Object(Yt.a)(a)}catch(i){Object(_t.a)(`${c.b.FUNCTION_CALL_FAILED}: ${i}`)}}registerEnableDisableEvents(e,t){var i;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!e.toggleDisableField||0===(null===(i=e.toggleDisableField)||void 0===i?void 0:i.length))return!1;for(const i of e.toggleDisableField)this.hideShowList[e.logicalName]=!1,this.checkAndSetEnableDisableEvents(i,t,e);return!0}catch(a){console.log(a)}}))}checkAndSetEnableDisableEvents(e,t,i){try{switch(e.type){case Rt.e.FORM_VALUE:const a=t.get(e.key);this.eventSubscriptionsList.sink=a.valueChanges.pipe(Object(Wt.a)()).subscribe(a=>{null==a||e.value.includes(a)?(this.disableAndResetControl(t.get(i.logicalName)),t.get(i.logicalName).reset(),this.controlReady.emit(!0)):this.enableControl(t.get(i.logicalName))});break;case Rt.e.FUNCTION:this.handleDisableFunctionCall(t,i,e);break;default:this.enableControl(t.get(i.logicalName))}}catch(a){console.log(a)}}handleDisableFunctionCall(e,t,i){return Object(r.a)(this,void 0,void 0,(function*(){try{const a=this.commonService.extractAndConstructParams(i.params,e),n=this.callFunctionByName(i.key,e,t,i,a);if(!n)throw new Error("error: function_not_defined, "+i.key);this.eventSubscriptionsList.sink=n.pipe(Object(Wt.a)()).subscribe(a=>{a===i.value?(this.disableAndResetControl(e.get(t.logicalName)),this.controlReady.emit(!0)):this.enableControl(e.get(t.logicalName))},e=>console.log("error :",e))}catch(a){console.log(a)}}))}registerHideShowEvent(e,t){var i;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!(e.hasOwnProperty("toggleHideShow")&&0!==e.toggleHideShow.length||e.toggleDisableField&&0!==(null===(i=e.toggleDisableField)||void 0===i?void 0:i.length)))return this.showAndEnableField(this.hideShowList,t,e),!1;for(const i of e.toggleHideShow)this.checkAndSetHideShowEvent(i,t,e)}catch(a){console.log(a)}}))}checkAndSetHideShowEvent(e,t,i){return Object(r.a)(this,void 0,void 0,(function*(){try{switch(e.type){case Rt.e.FORM_VALUE:const a=t.get(e.key);this.eventSubscriptionsList.sink=a.valueChanges.pipe(Object(Wt.a)()).subscribe(a=>{null==a||e.value.includes(a)?this.hideAndDisableField(this.hideShowList,t,i):this.showAndEnableField(this.hideShowList,t,i)});break;case Rt.e.FUNCTION:this.handleHideFunctionCall(this.hideShowList,t,i,e);break;case Rt.e.STATIC:this.hideShowList[i.logicalName]=e.value,this.controlReady.emit(!0);break;default:this.showAndEnableField(this.hideShowList,t,i)}}catch(a){console.log(a)}}))}handleHideFunctionCall(e,t,i,a){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.commonService.extractAndConstructParams(a.params,t),n=this.callFunctionByName(a.key,t,i,a,e);if(!n)throw new Error("error: function_not_defined, "+a.key);this.eventSubscriptionsList.sink=n.pipe(Object(Wt.a)()).subscribe(e=>{e===a.value?this.hideAndDisableField(this.hideShowList,t,i):this.showAndEnableField(this.hideShowList,t,i)},e=>console.log("error :",e))}catch(e){console.log(e)}}))}hideIfAgeGreaterThan(e,t,i,a){try{kt()().diff(a.dob,"year")>a.age?this.hideAndDisableField(this.hideShowList,e,t):this.showAndEnableField(this.hideShowList,e,t)}catch(n){console.log(n)}}hideAndDisableField(e,t,i){return Object(r.a)(this,void 0,void 0,(function*(){try{return e.hasOwnProperty(i.logicalName)&&(this.hideShowList[i.logicalName]=!0,i.hidden=this.hideShowList[i.logicalName],this.disableAndResetControl(t.get(i.logicalName)),this.controlReady.emit(!0)),!0}catch(a){Object(_t.a)(a)}}))}disableAndResetControl(e){try{return e.disable(),e.updateValueAndValidity(),!0}catch(t){Object(_t.a)(t)}}enableControl(e){try{e.enable(),e.updateValueAndValidity()}catch(t){Object(_t.a)(t)}}showAndEnableField(e,t,i){return Object(r.a)(this,void 0,void 0,(function*(){try{e.hasOwnProperty(i.logicalName)&&(this.hideShowList[i.logicalName]=!1,i.hidden=this.hideShowList[i.logicalName],i.readOnly?(this.disableAndResetControl(t.get(i.logicalName)),t.get(i.logicalName).reset()):this.enableControl(t.get(i.logicalName)))}catch(a){Object(_t.a)(a)}}))}handleEvents(e,t){for(const i of e.fields)this.hideShowList[i.logicalName]=!0,this.registerEvents(i,t);return!0}registerEvents(e,t,i){return Object(r.a)(this,void 0,void 0,(function*(){try{const i=this.registerEnableDisableEvents(e,t),a=this.registerTextValueChange(e,t),n=this.registerHideShowEvent(e,t);return yield Promise.all([i,a,n])}catch(i){console.log(`${c.b.EVENT_REGISTRATION_FAILED}: ${i}`)}}))}notifyControlReady(){var e;this.fieldRowCounter++,(null===(e=this.fieldRow)||void 0===e?void 0:e.fields.length)===this.fieldRowCounter&&this.controlReady.emit(!0)}registerTextValueChange(e,t){var i;try{if(-1===[c.a.controls.Textbox,c.a.controls.Email].indexOf(e.fieldType))return;const a=t.get(e.logicalName);a&&e.hasOwnProperty("onChangeEvent")&&(null===(i=e.onChangeEvent)||void 0===i?void 0:i.length)>0&&(this.eventSubscriptionsList[e.logicalName]=a.valueChanges.pipe(Object(Wt.a)(),Object(Ht.a)(500)).subscribe(i=>{for(const n of e.onChangeEvent)t.get(e.logicalName).valid&&this.callFunctionByName(n.functionName,e,i,a)}))}catch(a){Object(_t.a)(`${c.b.TEXT_VAL_CHANGE_EVENT_REG_FAILED}: ${a}`)}}handleOnClickEvent(e){try{const t=e.onClickEvent;for(const e of t)this.callFunctionByName(e.functionName,e.url,e.params||[],this.dataShareService.currentFormGroup)}catch(t){console.log(`${c.b.ONCLICK_EVENT_FAILED}: ${t}`)}}trackByFn(e,t){return t?e:null}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b),a.Pb(J.a),a.Pb(Kt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-dynamic-control"]],inputs:{fieldRow:"fieldRow",form:"form",scope:"scope",metadata:"metadata"},outputs:{controlReady:"controlReady"},features:[a.zb],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row","align-items-end"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","ngClass","formGroup",4,"ngIf"],[3,"ngClass","formGroup"],[3,"ngSwitch"],["class","form-group",3,"ngClass","hidden",4,"ngSwitchCase"],["class","form-group",3,"hidden",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","form-group mt-30",3,"hidden",4,"ngSwitchCase"],["class","form-group mt-30",3,"ngClass","hidden",4,"ngSwitchCase"],[1,"form-group",3,"ngClass","hidden"],[3,"fieldControl","form","type","isBundle","dynamicControlScope","parentScope","controlReady"],[3,"fieldControl","form","type","isBundle","controlReady"],[3,"fieldControl","form","type","parentScope","dynamicControlScope","isBundle","controlReady"],[1,"form-group",3,"hidden"],[3,"controlReady"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[3,"fieldControl","form","dynamicControlScope","parentScope","controlReady"],[1,"form-group","mt-30",3,"hidden"],[3,"field","form","type","controlReady"],[3,"field","form","type","parentScope","isBundle","dynamicControlScope","metadata","controlReady"],[3,"field","form","type","parentScope","dynamicControlScope","controlReady"],[1,"form-group","mt-30",3,"ngClass","hidden"],[3,"ngSwitch",4,"ngIf"],["class","d-none d-block",3,"formGroup","hidden",4,"ngSwitchCase"],[3,"formGroup",4,"ngSwitchCase"],[1,"d-none","d-block",3,"formGroup","hidden"],["class","form-group",3,"ngClass",4,"ngIf"],[1,"form-group",3,"ngClass"],["class","c-brand-error",4,"ngIf"],[1,"col-12","col-sm-4","col-md-5","col-lg-4","pr-sm-7"],[3,"field","form","isBundle","type","parentScope","dynamicControlScope","controlReady"],[1,"col-12","col-sm-8","col-md-7","col-lg-8","pl-sm-7"],[1,"c-brand-error"],[3,"formGroup"],[1,"row"],[1,"col-sm","mt-20",3,"hidden"],["mat-stroked-button","",3,"click"]],template:function(e,t){1&e&&(a.Mc(0,ga,3,2,"ng-container",0),a.Mc(1,Ta,2,1,"ng-container",0)),2&e&&(a.tc("ngIf",null==(null==t.fieldRow?null:t.fieldRow.bundleName)),a.Bb(1),a.tc("ngIf",null!=(null==t.fieldRow?null:t.fieldRow.bundleName)))},directives:[p.o,p.n,p.m,s.n,s.g,p.q,p.r,yi,Oi,Vi,Ai,f.a,Pi,Bi,xi,Wi,Ji,qi],pipes:[m.d],styles:[""]}),e})();function Aa(e,t){if(1&e){const e=a.Wb();a.Tb(0,6),a.Vb(1,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(3).onControlReady()})),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=a.lc(3);a.Bb(1),a.tc("fieldRow",e)("scope",i.scope)("form",i.formGroup)("metadata",i.metadata)}}function Na(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",3),a.Vb(2,"div",4),a.Mc(3,Aa,2,4,"ng-container",5),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(3),a.tc("ngForOf",e.fields)("ngForTrackBy",e.trackByFn)}}function Da(e,t){if(1&e){const e=a.Wb();a.Tb(0,6),a.Vb(1,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).onControlReady()})),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=a.lc(4);a.Bb(1),a.tc("fieldRow",e)("scope",i.scope)("form",i.formGroup)("metadata",i.metadata)}}function Ea(e,t){if(1&e&&(a.Vb(0,"div",3),a.Vb(1,"div",9),a.Vb(2,"div",10),a.Vb(3,"div",11),a.Qb(4,"ngx-extended-pdf-viewer",12),a.Ub(),a.Ub(),a.Ub(),a.Vb(5,"div",13),a.Vb(6,"div",14),a.Mc(7,Da,2,4,"ng-container",5),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc(3);a.Bb(4),a.tc("src",e.pdfData)("showSidebarButton",!1)("showOpenFileButton",!1)("showPrintButton",!1)("showBookmarkButton",!1)("handTool",!1)("zoom","auto")("ignoreKeyboard",!0),a.Bb(3),a.tc("ngForOf",e.fields)("ngForTrackBy",e.trackByFn)}}function Pa(e,t){if(1&e){const e=a.Wb();a.Tb(0,6),a.Vb(1,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).onControlReady()})),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=a.lc(4);a.Bb(1),a.tc("fieldRow",e)("scope",i.scope)("form",i.formGroup)("metadata",i.metadata)}}function wa(e,t){if(1&e&&(a.Vb(0,"div",3),a.Vb(1,"div",4),a.Mc(2,Pa,2,4,"ng-container",5),a.Ub(),a.Ub()),2&e){const e=a.lc(3);a.Bb(2),a.tc("ngForOf",e.fields)("ngForTrackBy",e.trackByFn)}}function Ua(e,t){if(1&e&&(a.Tb(0),a.Mc(1,Ea,8,10,"div",8),a.Mc(2,wa,3,2,"div",8),a.Sb()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",!e.isButtonField),a.Bb(1),a.tc("ngIf",e.isButtonField)}}const Ba=function(e){return{"col-sm-6":e}};function Ma(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",16),a.Vb(2,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).onControlReady()})),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc().$implicit,t=a.lc(3);a.Bb(1),a.tc("ngClass",a.xc(5,Ba,!e.fields[0].hidden)),a.Bb(1),a.tc("fieldRow",e)("scope",t.scope)("form",t.formGroup)("metadata",t.metadata)}}function ka(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",4),a.Vb(2,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(4).onControlReady()})),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc().$implicit,t=a.lc(3);a.Bb(2),a.tc("fieldRow",e)("scope",t.scope)("form",t.formGroup)("metadata",t.metadata)}}function Fa(e,t){if(1&e&&(a.Tb(0,6),a.Mc(1,Ma,3,7,"ng-container",0),a.Mc(2,ka,3,4,"ng-container",0),a.Sb()),2&e){const e=a.lc(3);a.Bb(1),a.tc("ngIf",!e.isButtonField),a.Bb(1),a.tc("ngIf",e.isButtonField)}}function _a(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",15),a.Mc(2,Fa,3,2,"ng-container",5),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(2),a.tc("ngForOf",e.fields)("ngForTrackBy",e.trackByFn)}}function xa(e,t){if(1&e){const e=a.Wb();a.Tb(0,6),a.Vb(1,"div",16),a.Vb(2,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(3).onControlReady()})),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=a.lc(3);a.Bb(1),a.tc("ngClass",a.xc(5,Ba,!e.fields[0].hidden)),a.Bb(1),a.tc("fieldRow",e)("scope",i.scope)("form",i.formGroup)("metadata",i.metadata)}}function Ra(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",17),a.Vb(2,"div",18),a.Vb(3,"h5",19),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Vb(6,"div",20),a.Vb(7,"div",21),a.Mc(8,xa,3,7,"ng-container",5),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(4),a.Pc(a.nc(5,3,null==e.schema?null:e.schema.displayName)),a.Bb(4),a.tc("ngForOf",e.fields)("ngForTrackBy",e.trackByFn)}}const Ga=function(e){return{"col-sm-4":e}};function ja(e,t){if(1&e){const e=a.Wb();a.Tb(0,6),a.Vb(1,"div",16),a.Vb(2,"app-dynamic-control",7),a.hc("controlReady",(function(){return a.Fc(e),a.lc(3).onControlReady()})),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=a.lc(3);a.Bb(1),a.tc("ngClass",a.xc(5,Ga,!e.fields[0].hidden)),a.Bb(1),a.tc("fieldRow",e)("scope",i.scope)("form",i.formGroup)("metadata",i.metadata)}}function $a(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",15),a.Mc(2,ja,3,7,"ng-container",5),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(2),a.tc("ngForOf",e.fields)("ngForTrackBy",e.trackByFn)}}function Qa(e,t){if(1&e&&(a.Tb(0),a.Tb(1,1),a.Mc(2,Na,4,2,"ng-container",2),a.Mc(3,Ua,3,2,"ng-container",2),a.Mc(4,_a,3,2,"ng-container",2),a.Mc(5,Ra,9,5,"ng-container",2),a.Mc(6,$a,3,2,"ng-container",2),a.Sb(),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngSwitch",e.layoutType),a.Bb(1),a.tc("ngSwitchCase","type-1"),a.Bb(1),a.tc("ngSwitchCase","type-2"),a.Bb(1),a.tc("ngSwitchCase","type-3"),a.Bb(1),a.tc("ngSwitchCase","type-4"),a.Bb(1),a.tc("ngSwitchCase","type-5")}}let Ya=(()=>{class e{constructor(e,t,i){this.dynamicFormService=e,this.commonService=t,this.httpService=i,this.formGroupCopy=new a.n,this.fields=[],this.fieldCounter=0}ngOnChanges(e){var t;(null==e?void 0:e.schema)&&(null===(t=e.schema)||void 0===t?void 0:t.currentValue)&&this.initForm()}initForm(){return Object(r.a)(this,void 0,void 0,(function*(){try{this.resetVariables(),this.fields=this.extractControlsFromSchema(this.schema),this.fields.length>0&&this.generateForm(this.fields),this.schema.formLayoutType.online===c.a.formSchemaType.doubleColumnSchema&&(this.pdfData=yield this.extractImageFromSchema(this.schema))}catch(e){console.log(`${c.b.FORM_INIT_FAILED} : ${e}`)}}))}generateForm(e){return Object(r.a)(this,void 0,void 0,(function*(){return this.formGroup=yield this.dynamicFormService.toFormGroup(this.fields,this,this.scope),this.formGroup}))}get isFormNotEmpty(){return void 0!==this.formGroup}onControlReady(){this.fieldCounter++,this.fieldCounter===this.fields.length&&this.formGroupCopy.emit({form:this.formGroup,metadata:this.metadata})}get layoutType(){var e;return null===(e=this.schema)||void 0===e?void 0:e.formLayoutType[n.a.applicationType]}extractControlsFromSchema(e){return e&&e.hasOwnProperty("controls")?e.controls:[]}get isButtonField(){var e;return this.schema.hasOwnProperty("controls")&&c.a.BUTTON_CONTROLS_LIST.indexOf(null===(e=this.schema.controls[0])||void 0===e?void 0:e.bundleName)>-1}resetVariables(){return this.fields=[],this.fieldCounter=0,this.pdfData=null,this.metadata={dropdownDetails:{}},!0}extractImageFromSchema(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const i=e.hasOwnProperty("controls")?e.controls:[],a=yield this.commonService.extractFieldOfType(c.a.controls.Image,i),n=a.hasOwnProperty("fields")?a.fields[0]:null;if(n)try{const e=this.commonService.extractApiAsPerDomain(n.optionsListApi);let t;if(e.params&&Array.isArray(e.params)&&e.params.length>0){const i=new xt.g({fromObject:this.commonService.extractAndConstructParams(e.params)});t=yield this.httpService.doGet(e.url,i).toPromise().then(e=>e).catch(e=>{throw e})}else t=yield this.httpService.doGet(e.url).toPromise().then(e=>e).catch(e=>{throw e});return t}catch(t){console.log(t)}}catch(t){Object(_t.a)(t)}}))}trackByFn(e,t){return t?e:null}}return e.\u0275fac=function(t){return new(t||e)(a.Pb($t),a.Pb(J.a),a.Pb(Qt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-dynamic-form"]],inputs:{schema:"schema",scope:"scope"},outputs:{formGroupCopy:"formGroupCopy"},features:[a.zb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"row"],[1,"col-lg-12"],["class","form-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-row"],[3,"fieldRow","scope","form","metadata","controlReady"],["class","row",4,"ngIf"],[1,"col-lg-7","pr-lg-0"],[1,"passport-box","mb-20","mb-lg-0"],[1,"passport-preview","p-10"],["useBrowserLocale","false","height","500px",3,"src","showSidebarButton","showOpenFileButton","showPrintButton","showBookmarkButton","handTool","zoom","ignoreKeyboard"],[1,"col-lg-5"],[1,"passport-form"],[1,"row","align-items-end"],[3,"ngClass"],[1,"border","m-n1"],[1,"card-header","rounded-0"],[1,"card-title","ff-700","my-7","lh-26","mb-0"],[1,"card-body"],[1,"row","align-items-end","mb-20"]],template:function(e,t){1&e&&a.Mc(0,Qa,7,6,"ng-container",0),2&e&&a.tc("ngIf",t.isFormNotEmpty)},directives:[p.o,p.q,p.r,p.n,Va,p.m],pipes:[m.d],styles:[""]}),e})();function Wa(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"h5",6),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.Rc(" ",a.nc(3,2,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," ")}}function Ha(e,t){if(1&e&&(a.Vb(0,"h5",7),a.Oc(1),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Rc(" ",null==e.currentFormGroup||null==e.currentFormGroup.value?null:e.currentFormGroup.value.firstName," ",null==e.currentFormGroup||null==e.currentFormGroup.value?null:e.currentFormGroup.value.lastName," ")}}function za(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",11),a.Vb(1,"div",12),a.Vb(2,"div",13),a.Vb(3,"div",14),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Vb(6,"div",15),a.Oc(7),a.Ub(),a.Ub(),a.Vb(8,"div",16),a.Vb(9,"i",17),a.hc("click",(function(){a.Fc(e);const i=t.index;return a.lc(2).openDialog(i)})),a.Ub(),a.Vb(10,"i",18),a.hc("click",(function(){a.Fc(e);const i=t.index;return a.lc(2).editApplicantDetails(i)})),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=t.index;a.Bb(4),a.Rc("",a.nc(5,4,"applicantInformation.pageDetails.para1")," ",i+1,""),a.Bb(3),a.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,"")}}function Ka(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Mc(1,za,11,6,"div",8),a.Vb(2,"div",9),a.Vb(3,"button",10),a.hc("click",(function(){return a.Fc(e),a.lc().addApplicant()})),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngForOf",null==e.applicationDetails?null:e.applicationDetails.applicantList)("ngForTrackBy",e.trackByFn),a.Bb(3),a.Qc(" ",a.nc(5,3,"commonSections.buttons.button32")," ")}}function Ja(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"h2",21),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",22),a.Vb(5,"div",23),a.Vb(6,"mat-checkbox",24),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc(2).isChild=t}))("ngModelChange",(function(t){return a.Fc(e),a.lc(2).onIsChildSelection(t)})),a.Vb(7,"span",25),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(10,"p",26),a.Oc(11),a.mc(12,"translate"),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2);a.Bb(2),a.Rc(" ",a.nc(3,5,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," "),a.Bb(4),a.tc("ngModel",e.isChild),a.Bb(2),a.Pc(a.nc(9,7,"applicantInformation.pageDetails.para2")),a.Bb(3),a.Pc(a.nc(12,9,"applicantInformation.para.label2"))}}function qa(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Mc(1,Ja,13,11,"ng-container",4),a.Vb(2,"form",19),a.Vb(3,"app-dynamic-form",20),a.hc("formGroupCopy",(function(t){return a.Fc(e),a.lc().postPageLoadActivities(t,!0)})),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.viewIsChildFlag),a.Bb(1),a.tc("formGroup",e.currentFormGroup),a.Bb(1),a.tc("scope",e.scope)("schema",e.currentModule)}}function Za(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"mat-card",27),a.Qb(2,"app-dynamic-form",28),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.tc("scope",e.scope)("schema",e.currentModuleButtons)}}function Xa(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",40),a.Vb(1,"div",38),a.Vb(2,"mat-checkbox",41),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc(3).payServiceFeeOnline=t})),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.lc(3);a.Bb(2),a.tc("ngModel",e.payServiceFeeOnline),a.Bb(1),a.Qc(" ",a.nc(4,2,"applicantInformation.formLabel.label20")," ")}}const en=function(e){return{amount:e}};function tn(e,t){if(1&e&&(a.Vb(0,"div"),a.Vb(1,"div",33),a.Vb(2,"div",34),a.Vb(3,"div",35),a.Vb(4,"div",36),a.Qb(5,"i",37),a.Ub(),a.Vb(6,"div",38),a.Oc(7),a.mc(8,"translate"),a.Ub(),a.Qb(9,"br"),a.Ub(),a.Mc(10,Xa,5,4,"div",39),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc(2);a.Bb(7),a.Qc(" ",a.oc(8,2,"commonSections.messages.infoMessages.message2",a.xc(5,en,e.serviceFees))," "),a.Bb(3),a.tc("ngIf",e.isOnlineFeesPaymentOptional)}}function an(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"mat-card",27),a.Mc(2,tn,11,7,"div",4),a.Vb(3,"div",29),a.Vb(4,"div",30),a.Vb(5,"button",31),a.hc("click",(function(){return a.Fc(e),a.lc().goBack()})),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Ub(),a.Vb(8,"div",30),a.Vb(9,"button",32),a.hc("click",(function(){return a.Fc(e),a.lc().continue()})),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(2),a.tc("ngIf",e.isBannerDisplayed),a.Bb(4),a.Qc(" ",a.nc(7,3,"commonSections.buttons.button8")," "),a.Bb(4),a.Qc(" ",a.nc(11,5,"commonSections.buttons.button19")," ")}}let nn=(()=>{class e extends X.a{constructor(e,t){super(),this.dialog=e,this.translateService=t,this.scope=this,this.viewApplicantsListFlag=!1,this.isEditModeFlag=!1,this.isChild=!1,this.initBaseForm(c.a.modules.APPLICANT_DETAILS),this.isEditingFromSamePage=!1,this.feesAmount=0}ngOnInit(){this.utilityService.fireCustomEvent({dl_category:"applicants details",dl_action:"applicant details pageview",dl_label:1,value:0});const e=this.sessionService.onlineFeePaymentModeOpted;this.payServiceFeeOnline=null===e||e,this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.setEditModeFlag(this.checkIsEditMode()),this.handleFeesCalls(),this.registerOnPageLoadCompleteListener()}setGovtRefNoValidation(e){try{if(this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"usa")&&this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"ind")){const t=this.sessionService.eligibilityDetails,i=(null==t?void 0:t.hasOwnProperty(e.value))?t[e.value]:void 0;if(void 0===i)throw new Error(c.b.INVALID_GOVT_REF_NMBR);return String(i).toLowerCase(),String(i).toUpperCase(),`^([0-9A-Za-z]{0,6})(${kt()().year().toString().substr(-2)}|${kt()().add(1,"year").year().toString().substr(-2)})$`}}catch(t){throw this.logger.error(t),t}}handleFeesCalls(){return Object(r.a)(this,void 0,void 0,(function*(){try{let e=null;this.applicationDetails.applicantList.length>0&&(!0===this.isOnlineFeesPaymentOptional&&(e=yield this.getVfsServiceFees()),this.loadServiceFees(e),this.dataShareService.editYourDetail||this.setViewApplicantsList(!0))}catch(e){this.logger.error(e)}}))}registerOnPageLoadCompleteListener(){try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(e=>{null==this.sessionService.editApplicantDetailsIdx||this.isEditingFromSamePage||(this.editApplicantIndex=this.sessionService.editApplicantDetailsIdx),this.isEditModeFlag&&this.updateFormForEdit(),e&&this.onEditMode()})}catch(e){console.log(e)}}get isEditingFromSamePage(){return this.currentPageEditFlag}set isEditingFromSamePage(e){this.currentPageEditFlag=e}checkIsEditMode(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(e){return console.log(e),!1}}onEditMode(){try{const e=this.sessionService.editApplicantDetailsIdx,t=this.sessionService.applicationDetailValue;null!=e&&t&&t.applicantList.length>e&&this.editApplicantDetails(e)}catch(e){console.log(e)}}appendReferenceNumber(e){return Object(r.a)(this,void 0,void 0,(function*(){try{return this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&e.contains("centreCodeForRefenceNumber")&&e.contains("referenceNumber")&&e.get("referenceNumber").setValue(this.sessionService.centerCode+e.get("referenceNumber").value),e}catch(t){this.logger.log(t)}}))}saveAndContinue(e,t){var i;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"});yield this.appendReferenceNumber(this.currentFormGroup),this.sessionService.updateFees=!0,this.tempurl=e;const t={dl_category:"Applicants Details",dl_action:"Form Submission - Applicant Details",dl_label:(null===(i=this.applicationDetails)||void 0===i?void 0:i.applicantList.length)+1,value:void 0};this.utilityService.fireCustomEvent(t),this.submitCaptcha("save")}catch(t){console.log(t)}}))}submitCaptcha(e){this.utilityService.executeCapctha(c.a.captcha_action.APPLICANT).then(t=>{"save"===e?this.saveApplicant(t):this.updateApplicants(t)})}saveApplicant(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=this.currentFormGroup.value;this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&delete t.centreCodeForRefenceNumber;const i=this.constructApplicantDetails(t),a=this.constructSingleApplicantApplicationDetails(this.applicationDetails,i);this.utilityService.startNgxUiSpinner();const n=JSON.parse(JSON.stringify(a));n.captcha_key_applicant=e;const o=yield this.saveApplicantToDB(this.tempurl,n);if(this.tempurl=null,!o.hasOwnProperty("error")||null!==o.error){if(o.hasOwnProperty("error")&&o.error.code){let e=o.error.description;1037===o.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(t=>e=t)),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e,o.error.code)}const e=this.splitReferenceNumber(this.currentFormGroup.value);throw this.currentFormGroup.patchValue(e),new Error(o.error.description)}{this.applicationDetails.applicantList.push(i);const e=this.updateUrnAndArn(this.applicationDetails,o);this.updateApplicationDetailsLocally(e);let t=null;yield this.viewApplicationSummary(),!0===this.isOnlineFeesPaymentOptional&&(t=yield this.getVfsServiceFees()),yield this.loadServiceFees(t),this.utilityService.stopNgxUiSpinner()}}catch(t){console.log(t)}}))}addApplicant(){var e;this.sessionService.clearEditApplicationIdx(),this.setEditModeFlag(!1),this.setViewApplicantsList(!1);const t={dl_category:"Applicants Details",dl_action:"Add Applicant from Your Details Page",dl_label:(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList.length)+1,value:void 0};this.utilityService.fireCustomEvent(t)}get isAddApplicantAllowed(){var e,t;return(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)<this.config.allowMaxGroupSize}updateApplicant(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return void this.commonService.touchAllFields(this.currentFormGroup);if(this.editApplicantIndex>=this.applicationDetails.applicantList.length)throw new Error("error: invalid_data_index_passed");yield this.appendReferenceNumber(this.currentFormGroup),this.tempurl=e,this.submitCaptcha("update")}catch(t){console.log(t)}}))}updateApplicants(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=this.currentFormGroup.value;this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&delete t.centreCodeForRefenceNumber;const i=this.constructApplicantDetails(t,this.applicationDetails.applicantList[this.editApplicantIndex]),a=this.constructSingleApplicantApplicationDetails(this.applicationDetails,i,!0);this.utilityService.startNgxUiSpinner();const n=JSON.parse(JSON.stringify(a));n.captcha_key_applicant=e;const o=yield this.saveApplicantToDB(this.tempurl,n);if(this.tempurl=null,!o.hasOwnProperty("error")||null!==o.error){if(o.hasOwnProperty("error")&&o.error.code){let e=o.error.description;1037===o.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(t=>e=t)),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e)}const e=this.splitReferenceNumber(this.currentFormGroup.value);throw this.currentFormGroup.patchValue(e),new Error(o)}{this.applicationDetails.applicantList[this.editApplicantIndex]=i,this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.sessionService.updateFees=!0;let e=null;!0===this.isOnlineFeesPaymentOptional&&(e=yield this.getVfsServiceFees()),yield this.loadServiceFees(e),this.utilityService.stopNgxUiSpinner()}}catch(t){console.log(t)}}))}showErrorMsgPopup(e,t){try{const i=this.dialog.open(Ft,{data:e});this.subs.sink=i.afterClosed().subscribe(e=>Object(r.a)(this,void 0,void 0,(function*(){1069===t&&(this.utilityService.startNgxUiSpinner(),yield this.viewApplicationSummary(),yield this.loadServiceFees(),this.utilityService.stopNgxUiSpinner())}))),this.subs.sink=this.router.events.subscribe(()=>{i.close()})}catch(i){console.log(i)}}saveApplicantToDB(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{return yield this.httpService.payloadPost(e,t).toPromise().then(e=>e).catch(e=>{throw e})}catch(i){throw i}}))}updateFeeAmount(e){this.utilityService.updateTotalFees(e),this.sessionService.feeAmount=e}getVfsServiceFees(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn};return yield this.httpService.payloadPost(c.a.api.serviceFee,e).toPromise()}catch(e){this.logger.error(e)}}))}loadServiceFees(e){var t,i,a,n,o,s;return Object(r.a)(this,void 0,void 0,(function*(){try{let l=0;const r=yield this.utilityService.loadFees();r&&r.feeDetails&&(null===(t=r.feeDetails)||void 0===t?void 0:t.length)>0&&(this.sessionService.setCurrencyCode=(null==r?void 0:r.feeDetails[0].currency)||null,r.feeDetails&&0!==r.feeDetails.length&&(l=r.feeDetails.reduce((e,t)=>e+t.feeAmount,0)));const d=null===(i=null==r?void 0:r.feeDetails)||void 0===i?void 0:i.filter(e=>e.feeTypeCode===c.a.FEE_TYPE_CODES.VFSFEE);(null==d?void 0:d.length)>0?(this.sessionService.setCurrencyCode=(null===(a=d[0])||void 0===a?void 0:a.currency)||null,this.serviceFees=(null===(n=d[0])||void 0===n?void 0:n.currency)+" "+this.addZeroes(null===(o=d[0])||void 0===o?void 0:o.feeAmount),this.feesAmount=null===(s=d[0])||void 0===s?void 0:s.feeAmount):this.isOnlineFeesPaymentOptional&&e&&!e.hasOwnProperty("error")&&(this.sessionService.setCurrencyCode=(null==e?void 0:e.currency)||null,this.feesAmount=null==e?void 0:e.amount,this.serviceFees=(null==e?void 0:e.currency)+" "+this.addZeroes(null==e?void 0:e.amount),l=!0===this.payServiceFeeOnline?l+Number(null==e?void 0:e.amount):l),this.updateFeeAmount(l)}catch(l){throw l}}))}filterFees(e){return e.filter(e=>this.utilityService.strictCompare(e.feeTypeCode,c.a.FEE_TYPE_CODES.VISAFEE)||this.utilityService.strictCompare(e.feeTypeCode,c.a.FEE_TYPE_CODES.VFSFEE))}addZeroes(e){const t=String(e).split(".").length>0?String(e).split(".")[1]:e,i=t&&t.length>2?t.length:2;return Number(e).toFixed(i)}updatePayFeeOnlineFlag(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,feeTypeCode:e?[c.a.FEE_TYPE_CODES.VFSFEE]:[]};return yield this.httpService.payloadPost(c.a.api.mapFee,t).toPromise()}catch(t){this.logger.error(t)}}))}continue(){return Object(r.a)(this,void 0,void 0,(function*(){try{let e=!0;if(this.isOnlineFeesPaymentOptional&&this.payServiceFeeOnline!==this.sessionService.onlineFeePaymentModeOpted)if(null!==(yield this.updatePayFeeOnlineFlag(this.payServiceFeeOnline)).error)e=!1;else{this.sessionService.updateFees=!0;const e=yield this.utilityService.loadFees();if(e&&e.feeDetails){if(e.feeDetails&&e.feeDetails.length>0){const t=e.feeDetails.reduce((e,t)=>e+t.feeAmount,0);this.updateFeeAmount(t)}}else this.updateFeeAmount(0);this.sessionService.onlineFeePaymentModeOpted=this.payServiceFeeOnline}e&&this.routeNext()}catch(e){this.logger.error(e)}}))}get isOnlineFeesPaymentOptional(){return this.config.isMapFeeScreenRequired&&this.config.payOnlineEnabled}goBack(){super.routePrevious()}editApplicantDetails(e){try{this.isEditingFromSamePage=!0,this.editApplicantIndex=e,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),this.utilityService.fireCustomEvent({dl_category:"Applicants Details",dl_action:"edit Applicant from Your Details Page",dl_label:e,value:void 0})}catch(t){this.logger.error(t)}}updateFormForEdit(){try{const e=this.applicationDetails.applicantList[this.editApplicantIndex],t=this.splitReferenceNumber(e);this.currentFormGroup.patchValue(t),this.isChild=e.isEndorsedChild}catch(e){console.log(e)}}splitReferenceNumber(e){try{const t=JSON.parse(JSON.stringify(e));if(this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&this.currentFormGroup.contains("centreCodeForRefenceNumber")&&this.currentFormGroup.contains("referenceNumber")){const i=e.referenceNumber;t.centreCodeForRefenceNumber=i.substr(0,4),t.referenceNumber=i.substr(4,i.length)}return t}catch(t){this.logger.log(t)}}deleteApplicantDetails(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=yield this.commonService.deleteApplicantDetails(e);this.applicationDetails=t,0===t.applicantList.length&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard()),this.sessionService.updateFees=!0;let i=null;!0===this.isOnlineFeesPaymentOptional&&(i=yield this.getVfsServiceFees()),this.loadServiceFees(i)}catch(t){console.log(t)}}))}isEditMode(){return this.isEditModeFlag}viewApplicationSummary(){return Object(r.a)(this,void 0,void 0,(function*(){this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=null,this.isEditingFromSamePage=!1}))}updateApplicationDetailsLocally(e){this.applicationDetails=e,this.updateApplicationDetailsToSession(this.applicationDetails)}onIsChildSelection(e){try{this.isChildValidation(this.getFieldSchema("passportNumber")),this.isChildValidation(this.getFieldSchema("passportExpirtyDate"))}catch(t){console.log(t)}}getFieldSchema(e){try{let t;for(const i of this.currentModule.controls)for(const a of i.fields)this.utilityService.strictCompare(a.logicalName,e)&&(t=a);return t}catch(t){throw t}}isChildValidation(e){try{const t=this.currentFormGroup.get(e.logicalName);if(!t.value)return;let i;if(!this.applicationDetails.applicantList.find(a=>this.utilityService.strictCompare(e.fieldType,c.a.controls.Textbox)?(i="passportNoMissmatch",String(a.passportNumber).toLowerCase()===String(t.value).toLowerCase()):this.utilityService.strictCompare(e.fieldType,c.a.controls.Datepicker)?(i="passportExpiryMissmatch",0===this.utilityService.momentInstance(this.commonService.convertToMomentDate(a.passportExpirtyDate)).diff(this.commonService.convertToMomentDate(t.value),"day")):void 0)&&this.isChild){const e={};e[i]=!0,t.setErrors(e)}else this.commonService.removeError(t,i)}catch(t){console.log(t)}}get viewIsChildFlag(){var e,t;try{const i=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length;return!0===this.config.enableEndorsedchild&&(!this.isEditModeFlag&&i>=1||this.isEditModeFlag&&this.editApplicantIndex>0)}catch(i){console.log(i)}}openDialog(e){try{const t=new Re.e;t.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const i=this.dialog.open(Ge.a,t);this.subs.sink=i.afterClosed().subscribe(t=>{t&&this.deleteApplicantDetails(Number(e))})}catch(t){console.log(t)}}hideShowAsPerConfig(e,t,i,a){try{let e=!0;const t=Object.values(a).pop();return t&&this.config.hasOwnProperty(t)&&(e=!this.config[t]),e}catch(n){return console.log(n),!0}}routePrevious(){try{this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():super.routePrevious()}catch(e){console.log(e)}}getDisplayInfo(){try{const e=this.sessionService.applicationConfiguration,t=null==e?void 0:e.xTravelDaysToBeAllowed;return`Your Date of Departure must be between ${this.utilityService.momentInstance().format("DD/MM/YYYY")} and ${this.utilityService.momentInstance().add(t-1,"days").format("DD/MM/YYYY")}.`}catch(e){return console.log(e),"-"}}constructApplicantDetails(e,t){try{const i=t||this.getApplicantDetailsBase();for(const t of Object.keys(e))i.hasOwnProperty(t)&&(i[t]=e[t]);return i.ipAddress=this.sessionService.clientIpAddress,i.isEndorsedChild=this.isChild||!1,this.isChild&&(i.parentPassportNumber=e.passportNumber,i.parentPassportExpiry=e.passportExpirtyDate),i}catch(i){throw i}}getApplicantDetailsBase(){const e=this.sessionService.eligibilityDetails;return{urn:"",arn:"",loginUser:this.sessionService.getLoggedEmail(),firstName:"",middleName:"",lastName:"",salutation:"",gender:0,contactNumber:"",dialCode:"",passportNumber:"",passportExpirtyDate:"",dateOfBirth:"",emailId:"",nationalityCode:"",stateCode:"0",cityCode:"0",isEndorsedChild:!1,applicantType:0,addressline1:"",addressline2:"",pincode:"",referenceNumber:"",applicantGroupId:0,parentPassportNumber:"",parentPassportExpiry:"",dateOfDeparture:"",gwfNumber:"",entryType:e.entryType?e.entryType:"",eoiVisaType:e.visaType?e.visaType:"",passportType:""}}updateApplicationDetailsToSession(e){this.sessionService.applicationDetailValue=e}setViewApplicantsList(e){this.viewApplicantsListFlag=e,e&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=null)}setEditModeFlag(e){this.isEditModeFlag=e}constructSingleApplicantApplicationDetails(e,t,i=!1){try{const a=Object.assign({},e);a.applicantList=[],this.applicationDetails.applicantList.length>0&&(t.urn=this.applicationDetails.applicantList[0].urn),a.applicantList.push(t),a.isEdit=i,a.languageCode=this.sessionService.appCultureCode;const n=this.sessionService.eligibilityDetails;for(const e of a.applicantList)e.nationalityCode&&""!==e.nationalityCode||(e.nationalityCode=null==n?void 0:n.nationalityCode);return a}catch(a){throw a}}updateUrnAndArn(e,t){try{const i=Object.assign({},e);if(!t.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");for(const e of t.applicantList){const a=i.applicantList.find(t=>this.utilityService.strictCompare(t.passportNumber,e.passportNumber)&&this.utilityService.strictCompare(t.firstName,e.firstName)&&this.utilityService.strictCompare(t.lastName,e.lastName));a.arn=e.arn,a.urn=t.urn,this.sessionService.urn=t.urn}return i}catch(i){throw i}}get isBannerDisplayed(){var e,t;return this.viewApplicantsListFlag&&(null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length)>0&&this.feesAmount>0}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b),a.Pb(m.e))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-applicant-details"]],features:[a.yb],decls:14,vars:12,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],[1,"fs-24","fs-sm-42","mb-30"],[4,"ngIf"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"click"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col","fs-18"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-auto"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mr-25",3,"click"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"c-brand-grey-para"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"border-info","mt-40",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col"],["class","row no-gutters align-items-center","style","margin-top: 20px",4,"ngIf"],[1,"row","no-gutters","align-items-center",2,"margin-top","20px"],[1,"mat-checkbox-brand",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"mat-card",1),a.Vb(2,"p",2),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"h1",3),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Mc(8,Wa,4,4,"ng-container",4),a.Mc(9,Ha,2,2,"h5",5),a.Mc(10,Ka,6,5,"ng-container",4),a.Mc(11,qa,4,4,"ng-container",4),a.Ub(),a.Mc(12,Za,3,2,"ng-container",4),a.Mc(13,an,12,7,"ng-container",4),a.Ub()),2&e&&(a.Bb(3),a.Pc(a.nc(4,8,"applicantInformation.para.label1")),a.Bb(3),a.Pc(a.nc(7,10,t.currentModule.displayName)),a.Bb(2),a.tc("ngIf",!t.viewApplicantsListFlag&&!t.viewIsChildFlag),a.Bb(1),a.tc("ngIf",t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),a.Bb(1),a.tc("ngIf",t.viewApplicantsListFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),a.Bb(1),a.tc("ngIf",!t.viewApplicantsListFlag),a.Bb(1),a.tc("ngIf",!t.viewApplicantsListFlag),a.Bb(1),a.tc("ngIf",t.viewApplicantsListFlag))},directives:[u.a,p.o,p.n,f.a,s.u,s.n,s.g,Ya,g.a,s.m,s.p],pipes:[m.d],encapsulation:2}),e})();function on(e,t){if(1&e){const e=a.Wb();a.Vb(0,"mat-card",4),a.Vb(1,"p",5),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"button",6),a.hc("click",(function(){return a.Fc(e),a.lc(3).navigate()})),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Ub()}2&e&&(a.Bb(2),a.Pc(a.nc(3,2,"paymentConfirmation.messages.infoMessages.message1")),a.Bb(3),a.Qc(" ",a.nc(6,4,"paymentConfirmation.buttons.button1")," "))}function sn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"mat-card",4),a.Vb(1,"p",5),a.Oc(2),a.Ub(),a.Vb(3,"button",6),a.hc("click",(function(){return a.Fc(e),a.lc(3).clearInProgressApplication()})),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub()}if(2&e){const e=a.lc(3);a.Bb(2),a.Pc(e.alreadyConfirm),a.Bb(2),a.Qc(" ",a.nc(5,2,"paymentConfirmation.formLabel.label5")," ")}}function ln(e,t){if(1&e&&(a.Tb(0),a.Mc(1,on,7,6,"mat-card",3),a.Mc(2,sn,6,4,"mat-card",3),a.Sb()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",!e.alreadyConfirm),a.Bb(1),a.tc("ngIf",e.alreadyConfirm)}}function rn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"span",34),a.hc("click",(function(){a.Fc(e);const t=a.lc(3);return t.printAppointmentLetter(t.applicationDetailAfterConfirmation.urn)})),a.Oc(1),a.mc(2,"translate"),a.Ub()}2&e&&(a.Bb(1),a.Qc("",a.nc(2,1,"paymentConfirmation.pageDetails.para4")," "))}function cn(e,t){1&e&&(a.Vb(0,"span"),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"paymentConfirmation.pageDetails.para4")," "))}function dn(e,t){if(1&e&&(a.Vb(0,"div",35),a.Vb(1,"div",36),a.Vb(2,"div",37),a.Vb(3,"div"),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Vb(6,"div",38),a.Oc(7),a.Ub(),a.Ub(),a.Vb(8,"div",39),a.Vb(9,"div"),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Vb(12,"div",38),a.Oc(13),a.mc(14,"date"),a.Ub(),a.Ub(),a.Vb(15,"div",37),a.Vb(16,"div"),a.Oc(17),a.mc(18,"translate"),a.Ub(),a.Vb(19,"div",38),a.Oc(20),a.mc(21,"number"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc(3);a.Bb(4),a.Pc(a.nc(5,7,"paymentConfirmation.formLabel.label1")),a.Bb(3),a.Pc(e.successPaymentData.TransactionId),a.Bb(3),a.Pc(a.nc(11,9,"paymentConfirmation.formLabel.label2")),a.Bb(3),a.Pc(a.oc(14,11,e.currentDate,"dd/MM/yyyy")),a.Bb(4),a.Pc(a.nc(18,14,"paymentConfirmation.formLabel.label4")),a.Bb(3),a.Rc("",e.currencyCode," ",a.oc(21,16,null==e.paymentConfirmationData?null:e.paymentConfirmationData.overallTotal,"1.2-2"),"")}}function un(e,t){1&e&&(a.Tb(0),a.Vb(1,"mat-card",40),a.Qb(2,"app-travel-medical-insurance",41),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.tc("type","1"))}function pn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Pc(a.nc(3,2,"eligibilityCriteria.formLabel.label15")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.nationalityName)}}function mn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Pc(a.nc(3,2,"reviewAndPayment.formLabel.label24")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceType)}}function bn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Pc(a.nc(3,2,"eligibilityCriteria.formLabel.label14")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.entryType)}}function hn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Pc(a.nc(3,2,"eligibilityCriteria.formLabel.label13")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaType)}}function gn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Pc(a.nc(3,2,"eligibilityCriteria.formLabel.label12")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicationType)}}function fn(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"li",18),a.Vb(2,"div",19),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"div",20),a.Oc(6),a.Ub(),a.Ub(),a.Vb(7,"li",18),a.Vb(8,"div",19),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Vb(11,"div",20),a.Oc(12),a.Ub(),a.Ub(),a.Vb(13,"li",18),a.Vb(14,"div",19),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Vb(17,"div",20),a.Oc(18),a.Ub(),a.Ub(),a.Mc(19,pn,6,4,"li",42),a.Mc(20,mn,6,4,"li",42),a.Mc(21,bn,6,4,"li",42),a.Mc(22,hn,6,4,"li",42),a.Mc(23,gn,6,4,"li",42),a.Sb()),2&e){const e=a.lc(3);a.Bb(3),a.Pc(a.nc(4,11,"reviewAndPayment.formLabel.label3")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.vacCodeName),a.Bb(3),a.Pc(a.nc(10,13,"reviewAndPayment.formLabel.label4")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaCategoryName),a.Bb(3),a.Pc(a.nc(16,15,"reviewAndPayment.formLabel.label5")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaSubCategoryName),a.Bb(1),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.nationalityName),a.Bb(1),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceType),a.Bb(1),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.entryType),a.Bb(1),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.visaType),a.Bb(1),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicationType)}}function vn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Qc("",a.nc(3,2,"paymentConfirmation.formLabel.label7")," #"),a.Bb(3),a.Qc(" ",e.applicationDetailAfterConfirmation.urn," ")}}function yn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",46),a.Vb(1,"span",47),a.hc("click",(function(){a.Fc(e);const t=a.lc().$implicit,i=a.lc(4);return i.downloadCourierDetails(t.arn,i.applicationDetailAfterConfirmation.vacCode,i.courierLabels.inLabel)})),a.Qb(2,"i",48),a.Vb(3,"span",49),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Ub()}2&e&&(a.Bb(4),a.Pc(a.nc(5,1,"postalInformation.headerLabel.label2")))}function Sn(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",46),a.Vb(1,"span",47),a.hc("click",(function(){a.Fc(e);const t=a.lc().$implicit,i=a.lc(4);return i.downloadCourierDetails(t.arn,i.applicationDetailAfterConfirmation.vacCode,i.courierLabels.outLabel)})),a.Qb(2,"i",48),a.Vb(3,"span",49),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Ub()}2&e&&(a.Bb(4),a.Pc(a.nc(5,1,"postalInformation.headerLabel.label3")))}function Cn(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Vb(6,"div",44),a.Mc(7,yn,6,3,"div",45),a.Mc(8,Sn,6,3,"div",45),a.Ub(),a.Ub()),2&e){const e=t.$implicit,i=t.index,n=a.lc(4);a.Bb(2),a.Rc("",a.nc(3,5,"reviewAndPayment.formLabel.label6")," ",i+1,""),a.Bb(3),a.Pc((null==e?null:e.firstName)+" "+(null==e?null:e.lastName)),a.Bb(2),a.tc("ngIf",n.commonService.checkIfPostal(n.applicationType)&&!n.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)&&n.applicationDetailAfterConfirmation),a.Bb(1),a.tc("ngIf",n.commonService.checkIfPostal(n.applicationType)&&!n.commonService.checkIfPrepaidCourier(null==e||null==e.postalList[0]?null:e.postalList[0].courierType)&&n.applicationDetailAfterConfirmation)}}function On(e,t){if(1&e&&(a.Tb(0),a.Mc(1,vn,6,4,"li",42),a.Mc(2,Cn,9,7,"li",43),a.Sb()),2&e){const e=a.lc(3);a.Bb(1),a.tc("ngIf",e.commonService.checkIfPostal(e.applicationType)&&e.applicationDetailAfterConfirmation.urn),a.Bb(1),a.tc("ngForOf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicants)("ngForTrackBy",e.trackByFn)}}function In(e,t){1&e&&(a.Vb(0,"h2",15),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Qc(" ",a.nc(2,1,"reviewAndPayment.headerLabel.label4")," "))}function Ln(e,t){if(1&e&&(a.Vb(0,"li",18),a.Vb(1,"div",19),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",20),a.Oc(5),a.Ub(),a.Ub()),2&e){const e=a.lc(4);a.Bb(2),a.Qc("",a.nc(3,2,"paymentConfirmation.formLabel.label7")," #"),a.Bb(3),a.Qc(" ",e.applicationDetailAfterConfirmation.urn," ")}}function Tn(e,t){if(1&e&&(a.Vb(0,"div",16),a.Vb(1,"ul",17),a.Mc(2,Ln,6,4,"li",42),a.Vb(3,"li",18),a.Vb(4,"div",19),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Vb(7,"div",20),a.Oc(8),a.Ub(),a.Ub(),a.Vb(9,"li",18),a.Vb(10,"div",19),a.Oc(11),a.mc(12,"translate"),a.Ub(),a.Vb(13,"div",20),a.Oc(14),a.Ub(),a.Ub(),a.Vb(15,"li",18),a.Vb(16,"div",19),a.Oc(17),a.mc(18,"translate"),a.Ub(),a.Vb(19,"div",20),a.Oc(20),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc(3);a.Bb(2),a.tc("ngIf",e.applicationDetailAfterConfirmation.urn),a.Bb(3),a.Pc(a.nc(6,7,"reviewAndPayment.formLabel.label14")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.appointment_type),a.Bb(3),a.Pc(a.nc(12,9,"reviewAndPayment.formLabel.label15")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.appointment_date),a.Bb(3),a.Pc(a.nc(18,11,"reviewAndPayment.formLabel.label16")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.appointmentTime)}}function Vn(e,t){if(1&e&&(a.Vb(0,"div",50),a.Vb(1,"div",26),a.Vb(2,"div",51),a.Oc(3),a.Ub(),a.Qb(4,"div",52),a.Vb(5,"div",53),a.Oc(6),a.mc(7,"number"),a.Ub(),a.Ub(),a.Ub()),2&e){const e=t.$implicit,i=a.lc(4);a.Bb(3),a.Pc(null==e?null:e.feeName),a.Bb(3),a.Rc("",i.currencyCode," ",a.oc(7,3,null==e?null:e.feeAmount,"1.2-2"),"")}}const An=function(){return[]};function Nn(e,t){if(1&e&&(a.Tb(0),a.Mc(1,Vn,8,6,"div",30),a.Sb()),2&e){const e=a.lc(3);a.Bb(1),a.tc("ngForOf",(null==e.paymentConfirmationData?null:e.paymentConfirmationData.fees_list)||a.wc(2,An))("ngForTrackBy",e.trackByFn)}}function Dn(e,t){if(1&e&&(a.Vb(0,"div",50),a.Vb(1,"div",26),a.Vb(2,"div",51),a.Oc(3),a.Ub(),a.Vb(4,"div",52),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Vb(7,"div",53),a.Oc(8),a.mc(9,"number"),a.Ub(),a.Ub(),a.Ub()),2&e){const e=t.$implicit,i=a.lc(3);a.Bb(3),a.Pc(null==e?null:e.name),a.Bb(2),a.Rc("",null==e?null:e.unit," ",a.nc(6,5,"reviewAndPayment.formLabel.label19"),""),a.Bb(3),a.Rc("",i.currencyCode," ",a.oc(9,7,(null==e?null:e.unit)*(null==e?null:e.amount),"1.2-2"),"")}}function En(e,t){if(1&e&&(a.Vb(0,"div",26),a.Vb(1,"div",54),a.Oc(2),a.mc(3,"translate"),a.mc(4,"number"),a.Ub(),a.Ub()),2&e){const e=a.lc(3);a.Bb(2),a.Sc(" ",a.nc(3,3,"reviewAndPayment.pageDetails.para3")," ",e.currencyCode," ",a.oc(4,5,null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceFeeTax,"1.2-2")," ")}}function Pn(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"mat-card",4),a.Vb(2,"div",7),a.Qb(3,"i",8),a.Ub(),a.Vb(4,"h2",9),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Vb(7,"p",5),a.Oc(8),a.mc(9,"translate"),a.Mc(10,rn,3,3,"span",10),a.Mc(11,cn,3,3,"span",2),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Vb(14,"p",11),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Mc(17,dn,22,19,"div",12),a.Ub(),a.Mc(18,un,3,1,"ng-container",2),a.Vb(19,"mat-card",13),a.Vb(20,"h1",14),a.Oc(21),a.mc(22,"translate"),a.Ub(),a.Vb(23,"h2",15),a.Oc(24),a.mc(25,"translate"),a.Ub(),a.Vb(26,"div",16),a.Vb(27,"ul",17),a.Vb(28,"li",18),a.Vb(29,"div",19),a.Oc(30),a.mc(31,"translate"),a.Ub(),a.Vb(32,"div",20),a.Oc(33),a.Ub(),a.Ub(),a.Vb(34,"li",18),a.Vb(35,"div",19),a.Oc(36),a.mc(37,"translate"),a.Ub(),a.Vb(38,"div",20),a.Oc(39),a.Ub(),a.Ub(),a.Mc(40,fn,24,17,"ng-container",2),a.Ub(),a.Ub(),a.Vb(41,"h2",15),a.Oc(42),a.mc(43,"translate"),a.Ub(),a.Vb(44,"div",16),a.Vb(45,"ul",17),a.Mc(46,On,3,3,"ng-container",2),a.Ub(),a.Ub(),a.Mc(47,In,3,3,"h2",21),a.Mc(48,Tn,21,13,"div",22),a.Vb(49,"h2",23),a.Oc(50),a.mc(51,"translate"),a.Ub(),a.Vb(52,"div",24),a.Mc(53,Nn,2,3,"ng-container",2),a.Vb(54,"div",25),a.Vb(55,"div",26),a.Vb(56,"div",27),a.Oc(57),a.mc(58,"translate"),a.Ub(),a.Vb(59,"div",28),a.Oc(60),a.mc(61,"number"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(62,"h2",29),a.Oc(63),a.mc(64,"translate"),a.Ub(),a.Vb(65,"div",24),a.Mc(66,Dn,10,10,"div",30),a.Vb(67,"div",31),a.Vb(68,"div",26),a.Vb(69,"div",27),a.Oc(70),a.mc(71,"translate"),a.Ub(),a.Vb(72,"div",28),a.Oc(73),a.mc(74,"number"),a.Ub(),a.Ub(),a.Ub(),a.Vb(75,"div",32),a.Vb(76,"div",26),a.Vb(77,"div",27),a.Oc(78),a.mc(79,"translate"),a.Ub(),a.Vb(80,"div",28),a.Oc(81),a.mc(82,"number"),a.Ub(),a.Ub(),a.Mc(83,En,5,8,"div",33),a.Ub(),a.Ub(),a.Vb(84,"button",6),a.hc("click",(function(){return a.Fc(e),a.lc(2).clearInProgressApplication()})),a.Oc(85),a.mc(86,"translate"),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2);a.Bb(5),a.Pc(a.nc(6,35,"paymentConfirmation.pageDetails.para2")),a.Bb(3),a.Qc(" ",a.nc(9,37,"paymentConfirmation.pageDetails.para3")," "),a.Bb(2),a.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)&&e.applicationDetailAfterConfirmation),a.Bb(1),a.tc("ngIf",e.commonService.checkIfPostal(e.applicationType)&&e.applicationDetailAfterConfirmation),a.Bb(1),a.Qc(" ",a.nc(13,39,"paymentConfirmation.pageDetails.para5")," "),a.Bb(3),a.Pc(a.nc(16,41,"paymentConfirmation.pageDetails.para6")),a.Bb(2),a.tc("ngIf",e.successPaymentData.TransactionId),a.Bb(1),a.tc("ngIf",e.insuranceBox),a.Bb(3),a.Pc(a.nc(22,43,"paymentConfirmation.formLabel.label3")),a.Bb(3),a.Pc(a.nc(25,45,"reviewAndPayment.headerLabel.label2")),a.Bb(6),a.Pc(a.nc(31,47,"eligibilityCriteria.formLabel.label4")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.countryName),a.Bb(3),a.Pc(a.nc(37,49,"eligibilityCriteria.formLabel.label5")),a.Bb(3),a.Pc(null==e.paymentConfirmationData?null:e.paymentConfirmationData.missionName),a.Bb(1),a.tc("ngIf",e.applicationDetailAfterConfirmation),a.Bb(2),a.Pc(a.nc(43,51,"reviewAndPayment.headerLabel.label3")),a.Bb(4),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.applicants),a.Bb(1),a.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)),a.Bb(1),a.tc("ngIf",!e.commonService.checkIfPostal(e.applicationType)&&e.applicationDetailAfterConfirmation&&e.appointmentDetail),a.Bb(2),a.Pc(a.nc(51,53,"reviewAndPayment.headerLabel.label5")),a.Bb(3),a.tc("ngIf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.fees_list),a.Bb(4),a.Pc(a.nc(58,55,"reviewAndPayment.formLabel.label17")),a.Bb(3),a.Rc(" ",e.currencyCode," ",a.oc(61,57,null==e.paymentConfirmationData?null:e.paymentConfirmationData.feesTotal,"1.2-2")," "),a.Bb(3),a.Pc(a.nc(64,60,"reviewAndPayment.headerLabel.label6")),a.Bb(3),a.tc("ngForOf",null==e.paymentConfirmationData?null:e.paymentConfirmationData.services)("ngForTrackBy",e.trackByFn),a.Bb(4),a.Pc(a.nc(71,62,"reviewAndPayment.formLabel.label17")),a.Bb(3),a.Rc(" ",e.currencyCode," ",a.oc(74,64,null==e.paymentConfirmationData?null:e.paymentConfirmationData.servicesTotal,"1.2-2")," "),a.Bb(5),a.Pc(a.nc(79,67,"reviewAndPayment.formLabel.label20")),a.Bb(3),a.Rc(" ",e.currencyCode," ",a.oc(82,69,null==e.paymentConfirmationData?null:e.paymentConfirmationData.overallTotal,"1.2-2")," "),a.Bb(2),a.tc("ngIf",(null==e.paymentConfirmationData?null:e.paymentConfirmationData.serviceFeeTax)>0),a.Bb(2),a.Qc(" ",a.nc(86,72,"paymentConfirmation.formLabel.label5")," ")}}function wn(e,t){if(1&e&&(a.Vb(0,"section",1),a.Mc(1,ln,3,2,"ng-container",2),a.Mc(2,Pn,87,74,"ng-container",2),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.successPaymentData&&"False"===e.successPaymentData.PaymentStatus),a.Bb(1),a.tc("ngIf",e.successPaymentData&&"False"!==e.successPaymentData.PaymentStatus)}}let Un=(()=>{class e extends d.a{constructor(e,t){super(),this.activatedRoute=e,this.contentfulService=t,this.walkinCode=c.n,this.primeTimeCode=c.i,this.primeLongueCode=c.g,this.notStandardCode=[...this.primeLongueCode,...this.walkinCode],this.applicationDetailAfterConfirmation={},this.subVisaCategoryCode=[],this.currencyCode=this.sessionService.currencyCode,this.alreadyConfirm=null,this.requestComplete=!1,this.vacList=[],this.currentDate=new Date,this.configuration=this.sessionService.applicationConfiguration}ngOnInit(){this.initialLoad();const e=this.sessionService.eligibilityDetails;this.applicationType=e.applicationType?e.applicationType:null}initialLoad(){var e;return Object(r.a)(this,void 0,void 0,(function*(){const t=this.sessionService.paymentDetails;if(t&&t.ispaymentrequired){const i=this.activatedRoute.snapshot.queryParams.PaymentStatus,a=this.activatedRoute.snapshot.queryParams.RequestRefNo||t.requestrefno,n=this.activatedRoute.snapshot.queryParams.TransactionId||this.sessionService.transactionId,o=null===(e=this.sessionService)||void 0===e?void 0:e.paymentData;if(this.successPaymentData={RequestRefNo:a,TransactionId:n,PaymentStatus:i},"False"===i)return this.requestComplete=!0,!1;const s="/payments/trackpaymentstatus?RequestRefNo="+a;if("SUCCESS"===(yield this.httpService.doGet(s).toPromise().then(e=>e).catch(e=>e)).Status){const e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,bankReferenceNo:n,requestReferenceNo:String(a),amount:o.amount,currency:this.sessionService.currencyCode},t=this.commonService.checkIfPostal(this.applicationType)?c.a.api.paymentConfirm:c.a.api.confirmAppointment,i=yield this.httpService.payloadPost(t,e).toPromise().then(e=>e).catch(e=>e);i.urn?(this.requestComplete=!0,this.callApplication()):(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"},this.alreadyConfirm=i.error.description)}else this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"}}else this.requestComplete=!0,this.successPaymentData={PaymentStatus:"True"},this.callApplication()}))}checkAndLoadTravelInsurance(){return Object(r.a)(this,void 0,void 0,(function*(){this.insuranceBox=yield this.contentfulService.getTravelInsurance()}))}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}getSubvisaCategoryCode(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.sessionService.centerCode,t=yield this.commonService.getSubVisaCategories(e);this.subVisaCategoryCode=t}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}}))}getVisaCategoryCode(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.sessionService.centerCode,t=yield this.commonService.getVisaCategories(e);this.visaCategoryCode=t}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message} : ${e.error.data}`)}}))}callApplication(){return Object(r.a)(this,void 0,void 0,(function*(){this.checkAndLoadTravelInsurance(),this.utilityService.executeCapctha(c.a.captcha_action.ACTIVEAPPLICATION).then(e=>{this.getActiveApplicationList(e)})}))}getActiveApplicationList(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.httpService.payloadPost(c.a.api.getActiveApplication,{captcha_api_key:e,countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),aurn:"",emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(e=>e).catch(e=>e);if(t){const e=t.data.filter(e=>e.urn===this.sessionService.urn);e.length>0&&this.loadPaymentConfirmationData(e[0])}}))}loadPaymentConfirmationData(e){var t,i,a,o,s,l,c,d,u,p,m,b,h,g,f,v,y,S;return Object(r.a)(this,void 0,void 0,(function*(){this.utilityService.startNgxUiSpinner(),this.applicationDetailAfterConfirmation=e,this.appointmentDetail=e.applicants[0].appointment;let r=this.sessionService.applicationDetailValue;r=Object.assign(Object.assign({},r),this.sessionService.calculatedCodeData);const C=[this.loadNationality(),this.getApplicationData(),this.getVisaCategoryCode(),this.getSubvisaCategoryCode()];let O,I,L,T;(null===(t=this.configuration)||void 0===t?void 0:t.enableEntryType)&&(O=this.commonService.loadEntryType(),C.push(O)),(null===(i=this.configuration)||void 0===i?void 0:i.enableServiceType)&&(I=this.commonService.loadServiceType(),C.push(I)),(null===(a=this.configuration)||void 0===a?void 0:a.enableVisaType)&&(null===(o=this.configuration)||void 0===o?void 0:o.enableServiceType)&&(L=this.commonService.loadEOIVisaType(),C.push(L)),(null===(s=this.configuration)||void 0===s?void 0:s.enableApplicationType)&&(T=this.commonService.loadSubmissionType(),C.push(T));const V=yield Promise.all(C),A=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,e.vacCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,e.parentVisaCategoryCode),this.utilityService.getNameFromCode(this.subVisaCategoryCode,e.visaCategoryCode),this.sessionService.vacFees,this.getFromConstant(null===(c=null===(l=null==e?void 0:e.applicants[0])||void 0===l?void 0:l.appointment)||void 0===c?void 0:c.categoryCode)];let N,D,E,P,w;(null===(d=this.configuration)||void 0===d?void 0:d.enableEntryType)&&r.entryType&&(N=this.utilityService.getCodeName(V[4].entryTypes,r.entryType),A.push(N)),(null===(u=this.configuration)||void 0===u?void 0:u.enableServiceType)&&r.serviceType&&(D=this.utilityService.getCodeName(V[5],r.serviceType),A.push(D)),(null===(p=this.configuration)||void 0===p?void 0:p.enableVisaType)&&(null===(m=this.configuration)||void 0===m?void 0:m.enableServiceType)&&r.visaType&&(E=this.utilityService.getCodeName(V[6].eoiVisaTypes,r.visaType),A.push(E)),(null===(b=this.configuration)||void 0===b?void 0:b.enableApplicationType)&&r.applicationType&&(P=this.utilityService.getCodeName(V[7],r.applicationType),A.push(P)),(null===(h=this.configuration)||void 0===h?void 0:h.enableNationalityFilterForVisaCategory)&&r.countryCode&&(w=this.utilityService.getnationalityName(this.nationalityList,r.countryCode),A.push(w));const U=yield Promise.all(A),B=null===(f=null===(g=null==e?void 0:e.applicants[0])||void 0===g?void 0:g.appointment)||void 0===f?void 0:f.appoinmentDate,M=null===(y=null===(v=null==e?void 0:e.applicants[0])||void 0===v?void 0:v.appointment)||void 0===y?void 0:y.appointmentTime;this.paymentConfirmationData={},this.paymentConfirmationData.vacCode=e.vacCode,this.paymentConfirmationData.entryType=U[7],this.paymentConfirmationData.serviceType=U[8],this.paymentConfirmationData.visaType=U[9],this.paymentConfirmationData.applicationType=U[10],this.paymentConfirmationData.nationalityName=U[11],this.paymentConfirmationData.applicants=e.applicants,this.paymentConfirmationData.countryName=U[0],this.paymentConfirmationData.missionName=U[1],this.paymentConfirmationData.vacCodeName=U[2],this.paymentConfirmationData.visaCategoryName=U[3],this.paymentConfirmationData.visaSubCategoryName=U[4],this.paymentConfirmationData.appointment_type=U[6],this.paymentConfirmationData.appointment_date=B,this.paymentConfirmationData.appointmentTime=M,this.paymentConfirmationData.fees_list=U[5],this.paymentConfirmationData.feesTotal=U[5].length>0?U[5].reduce((e,t)=>e+t.feeAmount,0):0,this.paymentConfirmationData.services=this.sessionService.applicantService,this.paymentConfirmationData.serviceFeeTax=this.sessionService.serviceTax,this.paymentConfirmationData.servicesTotal=(null===(S=this.paymentConfirmationData.services)||void 0===S?void 0:S.length)>0?this.paymentConfirmationData.services.reduce((e,t)=>e+(t.total||0),0):0,this.paymentConfirmationData.overallTotal=this.paymentConfirmationData.servicesTotal+this.paymentConfirmationData.feesTotal,this.fetchAddress(),n.a.production&&this.summaryGA(e),this.utilityService.stopNgxUiSpinner()}))}summaryGA(e){var t,i,a,n,o;return Object(r.a)(this,void 0,void 0,(function*(){const s=this.sessionService.applicationConfiguration,l=e.applicants.filter(e=>null!==e.vas).length,r=this.sessionService.applicantService?null===(t=this.sessionService.applicantService)||void 0===t?void 0:t.length:0,c=Number(this.paymentConfirmationData.serviceFeeTax),d={Applicants:null===(i=e.applicants)||void 0===i?void 0:i.length,vasApplicants:l,vasQuantity:r,ecommerce:{currencyCode:this.currencyCode,purchase:{actionField:{id:this.activatedRoute.snapshot.queryParams.TransactionId||this.sessionService.urn,affiliation:s.payAtVACEnabled?"Pay at vac":"Online Store",revenue:null===(a=this.paymentConfirmationData)||void 0===a?void 0:a.overallTotal.toFixed(Math.max(((Number(null===(n=this.paymentConfirmationData)||void 0===n?void 0:n.overallTotal)+"").split(".")[1]||"").length,2)),tax:c.toFixed(Math.max(((c+"").split(".")[1]||"").length,2)),shipping:"0.00",coupon:"",action:"purchase"},products:[]}}},u=this.sessionService.applicantService;(null==u?void 0:u.length)>0?yield u.map(e=>{d.ecommerce.purchase.products.push({name:e.name,id:e.code,price:e.unitPrice,brand:`${this.utilityService.countrynameByIso(window.location.pathname.split("/")[1])}/${this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])}`,category:"VAS",variant:this.paymentConfirmationData.vacCodeName,quantity:e.unit})}):d.ecommerce.purchase.products=[{name:"Applicant Count",id:"Applicant Count",price:this.paymentConfirmationData.overallTotal,brand:`${this.utilityService.countrynameByIso(window.location.pathname.split("/")[1])}/${this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])}`,category:"VAC",variant:this.paymentConfirmationData.vacCodeName,quantity:null===(o=e.applicants)||void 0===o?void 0:o.length}],this.utilityService.sendConfirmationPageAnalytics(d)}))}getApplicationData(){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.commonService.getVacCenters();e&&(this.vacList=e)}))}loadNationality(){return Object(r.a)(this,void 0,void 0,(function*(){this.nationalityList=yield this.commonService.loadNationality()}))}printAppointmentLetter(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.httpService.payloadPost(c.a.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:e,emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(e=>e).catch(e=>e);this.utilityService.showFile(t)}))}navigate(){this.sessionService.updateFees=!0,this.commonService.routeToPostLoginModule(c.l.REVIEW_AND_PAY)}clearInProgressApplication(){this.utilityService.clearInProgressApplication(),this.navigateToDashboard()}navigateToDashboard(){this.commonService.routeToDashboard()}getFromConstant(e){return-1===this.notStandardCode.indexOf(e)?"Standard":this.primeLongueCode.indexOf(e)>-1?"Prime Longue":this.walkinCode.indexOf(e)>-1?"Walk-in Anytime":e}fetchAddress(){var e;return Object(r.a)(this,void 0,void 0,(function*(){if(this.commonService.checkIfPostal(this.applicationType))for(const t of null===(e=this.paymentConfirmationData)||void 0===e?void 0:e.applicants){t.postalList=[];const e=yield this.httpService.payloadPost(c.a.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.paymentConfirmationData.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==t?void 0:t.arn}).toPromise().then(e=>e).catch(e=>e);e&&t.postalList.push(e)}}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(l.a),a.Pb(He.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-payment-confirmation"]],features:[a.yb],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"text-center","mb-20"],[1,"fa","fa-check-circle-o","fs-30","c-brand-green"],[1,"text-center","fs-21","fs-sm-24","mb-10"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"c-brand-grey-para","fs-sm-18"],["class","payment-info mt-30 mb-n15 mx-md-n15 mb-n30 mb-sm-n15 mb-md-n30",4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"fs-18","fs-sm-24","mb-15"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-brand-footer","px-md-25"],[1,"c-brand-grey-para"],[1,"fs-18","mt-8"],["class","fs-18 fs-sm-24 mb-15",4,"ngIf"],["class","card border-bottom-2 mb-40",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],[1,"card-body","px-md-25","bg-brand-footer","rounded-4"],[1,"row"],[1,"col"],[1,"col-auto","c-brand-green","text-right"],[1,"fs-18","fs-sm-24","mb-0"],["class","card-body border-bottom-1 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-bottom-1","px-md-25","bg-brand-footer","rounded-4"],[1,"card-body","px-md-25"],["class","row",4,"ngIf"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"payment-info","mt-30","mb-n15","mx-md-n15","mb-n30","mb-sm-n15","mb-md-n30"],[1,"row","border-top","py-md-15","text-center"],[1,"col-12","col-md","py-15"],[1,"ff-500"],[1,"col-12","col-md","py-15","brd-middle"],[1,"border-0","form-card","mat-card","mat-focus-indicator","mb-sm-50","p-0","shadow-none"],[1,"row","mt-auto",3,"type"],["class","list-group-item bg-brand-footer px-md-25",4,"ngIf"],["class","list-group-item bg-brand-footer px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","no-gutters"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"card-body","border-bottom-1","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],[1,"col","fs-13","text-right"]],template:function(e,t){1&e&&a.Mc(0,wn,3,2,"section",0),2&e&&a.tc("ngIf",t.requestComplete)},directives:[p.o,u.a,f.a,p.n,at],pipes:[m.d,p.f,p.e],encapsulation:2}),e})();var Bn=i("IvIE");const Mn=["captcha"],kn=["fullcalendar"];function Fn(e,t){1&e&&(a.Vb(0,"div",24),a.Vb(1,"mat-radio-button",25),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()),2&e&&(a.Bb(1),a.tc("value",1),a.Bb(1),a.Qc("",a.nc(3,2,"bookAppointment.radioBtn.label2")," "))}function _n(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"mat-radio-group",23),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc().slotType=t}))("change",(function(t){return a.Fc(e),a.lc().radioChange(t)})),a.Vb(2,"div",24),a.Vb(3,"mat-radio-button",25),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Mc(6,Fn,4,4,"div",26),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngModel",e.slotType),a.Bb(2),a.tc("value",0),a.Bb(1),a.Qc("",a.nc(5,4,"bookAppointment.radioBtn.label1")," "),a.Bb(2),a.tc("ngIf",e.appConfiguration&&e.appConfiguration.walkInOperationHours)}}function xn(e,t){1&e&&(a.Vb(0,"div",24),a.Vb(1,"mat-radio-button",25),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()),2&e&&(a.Bb(1),a.tc("value",0),a.Bb(1),a.Qc("",a.nc(3,2,"bookAppointment.radioBtn.label1")," "))}function Rn(e,t){1&e&&(a.Vb(0,"div",24),a.Vb(1,"mat-radio-button",25),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()),2&e&&(a.Bb(1),a.tc("value",1),a.Bb(1),a.Qc("",a.nc(3,2,"bookAppointment.radioBtn.label2")," "))}function Gn(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"mat-radio-group",23),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc().slotType=t}))("change",(function(t){return a.Fc(e),a.lc().radioChange(t)})),a.Mc(2,xn,4,4,"div",26),a.Mc(3,Rn,4,4,"div",26),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngModel",e.slotType),a.Bb(1),a.tc("ngIf",e.isRescheduleAptmntMode&&0===e.slotType),a.Bb(1),a.tc("ngIf",e.appConfiguration&&e.appConfiguration.walkInOperationHours&&e.isRescheduleAptmntMode&&1===e.slotType)}}function jn(e,t){1&e&&(a.Tb(0),a.Vb(1,"div",27),a.Vb(2,"div",28),a.Vb(3,"div",29),a.Oc(4,"\xa0"),a.Ub(),a.Ub(),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(5),a.Qc(" ",a.nc(6,1,"bookAppointment.pageDetails.para3")," "))}function $n(e,t){1&e&&(a.Tb(0),a.Vb(1,"td"),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Qb(5,"br"),a.Vb(6,"div",45),a.Oc(7),a.mc(8,"translate"),a.Ub(),a.Ub(),a.Sb()),2&e&&(a.Bb(3),a.Pc(a.nc(4,2,"bookAppointment.pageDetails.para6")),a.Bb(4),a.Qc(" ",a.nc(8,4,"bookAppointment.pageDetails.para7")," "))}function Qn(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Qb(5,"br"),a.Vb(6,"div",45),a.Oc(7),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc(4);a.Bb(3),a.Pc(a.nc(4,3,"bookAppointment.pageDetails.para9")),a.Bb(4),a.Rc("",e.currencyCode," ",null==e.priceWithCurrency?null:e.priceWithCurrency.primetime,"")}}function Yn(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"div",45),a.Oc(6),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc(4);a.Bb(3),a.Pc(a.nc(4,3,"bookAppointment.pageDetails.para11")),a.Bb(3),a.Rc("",e.currencyCode," ",null==e.priceWithCurrency?null:e.priceWithCurrency.premiumlongue,"")}}function Wn(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"div",45),a.Oc(6),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc(4);a.Bb(3),a.Pc(a.nc(4,3,"bookAppointment.pageDetails.para10")),a.Bb(3),a.Rc("",e.currencyCode," ",e.priceWithCurrency.premiumprime,"")}}function Hn(e,t){1&e&&(a.Tb(0),a.Vb(1,"td",46),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.Pc(a.nc(3,1,"bookAppointment.pageDetails.para8")))}function zn(e,t){1&e&&(a.Tb(0),a.Vb(1,"td",46),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.Pc(a.nc(3,1,"bookAppointment.pageDetails.para12")))}function Kn(e,t){1&e&&(a.Tb(0),a.Vb(1,"td",46),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.Pc(a.nc(3,1,"bookAppointment.pageDetails.para13")))}function Jn(e,t){1&e&&(a.Tb(0),a.Vb(1,"td",46),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.Pc(a.nc(3,1,"bookAppointment.pageDetails.para13")))}const qn=function(e){return{active:e}};function Zn(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",49),a.Oc(2),a.Ub(),a.Vb(3,"div",50),a.Vb(4,"input",51),a.hc("click",(function(){a.Fc(e);const t=a.lc(2).$implicit,i=a.lc(4);return i.selectedTime=null==t?null:t.time,i.slotTypeName="Standard",i.selectedSlotCategory="Standard",i.selectedAllocationId=null==t||null==t.st?null:t.st.allocationId,i.selectedSlotRange=null==t||null==t.st?null:t.st.timeSlot,i.slotService=null,i.savePageDataToSession()})),a.Ub(),a.Vb(5,"label",52),a.Vb(6,"div",53),a.Vb(7,"div",54),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Vb(10,"div",55),a.Qb(11,"i",56),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2),t=e.$implicit,i=e.index,n=a.lc(4);a.Bb(2),a.Pc(null!=t&&null!=t.st&&t.st.allocationId?null==t||null==t.st?null:t.st.allocationId:""),a.Bb(2),a.vc("id","STRadio",i+1,""),a.tc("ngClass",a.xc(10,qn,n.selectedAllocationId==(null==t||null==t.st?null:t.st.allocationId))),a.Bb(1),a.vc("for","STRadio",i+1,""),a.Bb(3),a.Pc(a.nc(9,6,"commonSections.formLabel.label1")),a.Bb(4),a.Qc("",a.nc(13,8,"bookAppointment.pageDetails.para20")," ")}}function Xn(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Mc(2,Zn,14,12,"ng-container",6),a.Ub(),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(2),a.tc("ngIf",0!==(null==e||null==e.st?null:e.st.remainingSeats))}}function eo(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",49),a.Oc(2),a.Ub(),a.Vb(3,"div",50),a.Vb(4,"input",51),a.hc("click",(function(){a.Fc(e);const t=a.lc(2).$implicit,i=a.lc(4);return i.selectedTime=null==t?null:t.time,i.slotTypeName="Standard",i.selectedSlotCategory="Standard",i.selectedAllocationId=null==t||null==t.pt?null:t.pt.allocationId,i.selectedSlotRange=null==t||null==t.pt?null:t.pt.timeSlot,i.slotService=i.getFees(i.PRIMETIME_VASCODE),i.savePageDataToSession()})),a.Ub(),a.Vb(5,"label",57),a.Vb(6,"div",53),a.Vb(7,"div",54),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Vb(10,"div",55),a.Qb(11,"i",56),a.Oc(12),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2),t=e.$implicit,i=e.index,n=a.lc(4);a.Bb(2),a.Pc(null!=t&&null!=t.pt&&t.pt.allocationId?null==t||null==t.pt?null:t.pt.allocationId:""),a.Bb(2),a.vc("id","PTRadio",i+1,""),a.tc("ngClass",a.xc(9,qn,n.selectedAllocationId==(null==t||null==t.pt?null:t.pt.allocationId))),a.Bb(1),a.vc("for","PTRadio",i+1,""),a.Bb(3),a.Pc(a.nc(9,7,"commonSections.formLabel.label1")),a.Bb(4),a.Rc(" ",n.currencyCode," ",null==n.priceWithCurrency?null:n.priceWithCurrency.primetime," ")}}function to(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Mc(2,eo,13,11,"ng-container",6),a.Ub(),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(2),a.tc("ngIf",0!==(null==e||null==e.pt?null:e.pt.remainingSeats))}}function io(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",49),a.Oc(2),a.Ub(),a.Vb(3,"div",50),a.Vb(4,"input",51),a.hc("click",(function(){a.Fc(e);const t=a.lc(2).$implicit,i=a.lc(4);return i.selectedTime=null==t?null:t.time,i.slotTypeName="Premium Longue",i.selectedSlotCategory="PL",i.selectedAllocationId=null==t||null==t.pl?null:t.pl.allocationId,i.selectedSlotRange=null==t||null==t.pl?null:t.pl.timeSlot,i.slotService=i.getFees(i.PRIMELONGUE_VASCODE),i.savePageDataToSession()})),a.Ub(),a.Vb(5,"label",57),a.Vb(6,"div",53),a.Vb(7,"div",54),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Vb(10,"div",55),a.Qb(11,"i",56),a.Oc(12),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2),t=e.$implicit,i=e.index,n=a.lc(4);a.Bb(2),a.Pc(null!=t&&null!=t.pl&&t.pl.allocationId?null==t||null==t.pl?null:t.pl.allocationId:""),a.Bb(2),a.vc("id","PLRadio",i+1,""),a.tc("ngClass",a.xc(9,qn,n.selectedAllocationId==(null==t||null==t.pl?null:t.pl.allocationId))),a.Bb(1),a.vc("for","PLRadio",i+1,""),a.Bb(3),a.Pc(a.nc(9,7,"commonSections.formLabel.label1")),a.Bb(4),a.Rc(" ",n.currencyCode," ",null==n.priceWithCurrency?null:n.priceWithCurrency.premiumlongue," ")}}function ao(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Mc(2,io,13,11,"ng-container",6),a.Ub(),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(2),a.tc("ngIf",0!==(null==e||null==e.pl?null:e.pl.remainingSeats))}}function no(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",49),a.Oc(2),a.Ub(),a.Vb(3,"div",50),a.Vb(4,"input",51),a.hc("click",(function(){a.Fc(e);const t=a.lc(2).$implicit,i=a.lc(4);return i.selectedTime=null==t?null:t.time,i.selectedSlotCategory="Prime Longue",i.selectedAllocationId=null==t||null==t.ptpl?null:t.ptpl.allocationId,i.selectedSlotRange=null==t||null==t.ptpl?null:t.ptpl.timeSlot,i.slotService=i.primePremiumService,i.savePageDataToSession()})),a.Ub(),a.Vb(5,"label",57),a.Vb(6,"div",53),a.Vb(7,"div",54),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Vb(10,"div",55),a.Qb(11,"i",56),a.Oc(12),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2),t=e.$implicit,i=e.index,n=a.lc(4);a.Bb(2),a.Pc(null!=t&&null!=t.ptpl&&t.ptpl.allocationId?null==t||null==t.ptpl?null:t.ptpl.allocationId:""),a.Bb(2),a.vc("id","PLRadio",i+1,""),a.tc("ngClass",a.xc(9,qn,n.selectedAllocationId==(null==t||null==t.ptpl?null:t.ptpl.allocationId))),a.Bb(1),a.vc("for","PLRadio",i+1,""),a.Bb(3),a.Pc(a.nc(9,7,"commonSections.formLabel.label1")),a.Bb(4),a.Rc(" ",n.currencyCode," ",n.priceWithCurrency.premiumprime," ")}}function oo(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"td"),a.Mc(2,no,13,11,"ng-container",6),a.Ub(),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(2),a.tc("ngIf",0!==(null==e||null==e.ptpl?null:e.ptpl.remainingSeats))}}function so(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"tr",47),a.Vb(2,"td",48),a.Oc(3),a.Ub(),a.Mc(4,Xn,3,1,"ng-container",6),a.Mc(5,to,3,1,"ng-container",6),a.Mc(6,ao,3,1,"ng-container",6),a.Mc(7,oo,3,1,"ng-container",6),a.Ub(),a.Sb()),2&e){const e=t.$implicit,i=a.lc(4);a.Bb(3),a.Pc(null==e?null:e.time),a.Bb(1),a.tc("ngIf",i.checkIfExist("st")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&-1===i.notStandardCode.indexOf(i.selectedSlotCategory))),a.Bb(1),a.tc("ngIf",i.checkIfExist("pt")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&"pt"===(null==i.selectedSlotCategory?null:i.selectedSlotCategory.toLowerCase()))),a.Bb(1),a.tc("ngIf",i.checkIfExist("pl")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&"pl"===(null==i.selectedSlotCategory?null:i.selectedSlotCategory.toLowerCase()))),a.Bb(1),a.tc("ngIf",i.checkIfExist("ptpl")&&(!i.isRescheduleAptmntMode||i.isRescheduleAptmntMode&&i.primeLongueCode.indexOf(i.selectedSlotCategory)>-1))}}function lo(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",38),a.Vb(2,"table",39),a.Vb(3,"tbody"),a.Vb(4,"tr",40),a.Vb(5,"td",41),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Mc(8,$n,9,6,"ng-container",6),a.Mc(9,Qn,8,5,"ng-container",6),a.Mc(10,Yn,7,5,"ng-container",6),a.Mc(11,Wn,7,5,"ng-container",6),a.Ub(),a.Vb(12,"tr",42),a.Qb(13,"td"),a.Mc(14,Hn,4,3,"ng-container",6),a.Mc(15,zn,4,3,"ng-container",6),a.Mc(16,Kn,4,3,"ng-container",6),a.Mc(17,Jn,4,3,"ng-container",6),a.Ub(),a.Mc(18,so,8,5,"ng-container",43),a.Ub(),a.Ub(),a.Ub(),a.Vb(19,"button",44),a.hc("click",(function(){return a.Fc(e),a.lc(3).showTopOnes()})),a.Oc(20),a.mc(21,"translate"),a.Ub(),a.Sb()}if(2&e){const e=a.lc(3);a.Bb(6),a.Pc(a.nc(7,13,"bookAppointment.pageDetails.para5")),a.Bb(2),a.tc("ngIf",e.checkIfExist("st")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&-1===e.notStandardCode.indexOf(e.selectedSlotCategory))),a.Bb(1),a.tc("ngIf",e.checkIfExist("pt")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&"pt"===(null==e.selectedSlotCategory?null:e.selectedSlotCategory.toLowerCase()))),a.Bb(1),a.tc("ngIf",e.checkIfExist("pl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&"pl"===(null==e.selectedSlotCategory?null:e.selectedSlotCategory.toLowerCase()))),a.Bb(1),a.tc("ngIf",e.checkIfExist("ptpl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&e.primeLongueCode.indexOf(e.selectedSlotCategory)>-1)),a.Bb(3),a.tc("ngIf",e.checkIfExist("st")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&-1===e.notStandardCode.indexOf(e.selectedSlotCategory))),a.Bb(1),a.tc("ngIf",e.checkIfExist("pt")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&"pt"===(null==e.selectedSlotCategory?null:e.selectedSlotCategory.toLowerCase()))),a.Bb(1),a.tc("ngIf",e.checkIfExist("pl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&"pl"===(null==e.selectedSlotCategory?null:e.selectedSlotCategory.toLowerCase()))),a.Bb(1),a.tc("ngIf",e.checkIfExist("ptpl")&&(!e.isRescheduleAptmntMode||e.isRescheduleAptmntMode&&e.primeLongueCode.indexOf(e.selectedSlotCategory)>-1)),a.Bb(1),a.tc("ngForOf",e.availableSlots)("ngForTrackBy",e.trackByFn),a.Bb(1),a.tc("disabled",e.tableRowCount<e.tempTrStartValue),a.Bb(1),a.Qc(" ",a.nc(21,15,"commonSections.buttons.button33")," ")}}function ro(e,t){1&e&&(a.Tb(0),a.Vb(1,"div",58),a.Vb(2,"div",14),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Ub(),a.Sb()),2&e&&(a.Bb(3),a.Qc(" ",a.nc(4,1,"bookAppointment.pageDetails.para18")," "))}function co(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"h2",30),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",31),a.Vb(5,"mat-form-field",32),a.Vb(6,"mat-select",33),a.hc("selectionChange",(function(t){return a.Fc(e),a.lc(2).filterSlots(t)}))("ngModelChange",(function(t){return a.Fc(e),a.lc(2).filterSlot=t})),a.mc(7,"translate"),a.Vb(8,"mat-option",34),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Vb(11,"mat-option",35),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Vb(14,"mat-option",36),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Vb(17,"mat-option",37),a.Oc(18),a.mc(19,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Mc(20,lo,22,17,"ng-container",6),a.Mc(21,ro,5,3,"ng-container",6),a.Sb()}if(2&e){const e=a.lc(2);a.Bb(2),a.Pc(a.nc(3,9,"bookAppointment.headerLabel.label4")),a.Bb(4),a.uc("placeholder",a.nc(7,11,"commonSections.formLabel.label1")),a.tc("ngModel",e.filterSlot),a.Bb(3),a.Pc(a.nc(10,13,"bookAppointment.pageDetails.para14")),a.Bb(3),a.Pc(a.nc(13,15,"bookAppointment.pageDetails.para15")),a.Bb(3),a.Pc(a.nc(16,17,"bookAppointment.pageDetails.para16")),a.Bb(3),a.Pc(a.nc(19,19,"bookAppointment.pageDetails.para17")),a.Bb(2),a.tc("ngIf",e.checkIfExist("pt")||e.checkIfExist("st")||e.checkIfExist("pl")),a.Bb(1),a.tc("ngIf",!e.checkIfExist("pt")&&!e.checkIfExist("st")&&!e.checkIfExist("pl"))}}function uo(e,t){if(1&e&&(a.Tb(0),a.Mc(1,co,22,21,"ng-container",6),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",(null==e.cloneSlots?null:e.cloneSlots.length)>0)}}function po(e,t){if(1&e&&(a.Tb(0),a.Oc(1),a.mc(2,"translate"),a.Sb()),2&e){const e=a.lc(2);a.Bb(1),a.Rc(" ",a.nc(2,2,"bookAppointment.radioBtn.label2")," ",e.walkingMessage," ")}}function mo(e,t){1&e&&(a.Oc(0),a.mc(1,"translate")),2&e&&a.Qc(" ",a.nc(1,1,"bookAppointment.pageDetails.para19")," ")}function bo(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",58),a.Vb(2,"div",14),a.Mc(3,po,3,4,"ng-container",59),a.Mc(4,mo,2,3,"ng-template",null,60,a.Nc),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.Bc(5),t=a.lc();a.Bb(3),a.tc("ngIf",t.selectedTime)("ngIfElse",e)}}function ho(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",61),a.hc("click",(function(){return a.Fc(e),a.lc().routeToDashboard()})),a.Vb(1,"button",62),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()}2&e&&(a.Bb(2),a.Qc(" ",a.nc(3,1,"bookAppointment.buttons.button1")," "))}function go(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",61),a.hc("click",(function(){return a.Fc(e),a.lc().routePrevious()})),a.Vb(1,"button",62),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()}2&e&&(a.Bb(2),a.Qc(" ",a.nc(3,1,"commonSections.buttons.button8")," "))}let fo=(()=>{class e extends X.a{constructor(e,t){super(),this.httpService=e,this.sessionService=t,this.PRIMETIME_VASCODE=c.k,this.PRIMELONGUE_VASCODE=c.h,this.environment=n.a,this.calendarOptions={showNonCurrentDates:!1,fixedWeekCount:!1,initialView:"dayGridMonth",firstDay:1,validRange:{start:kt()().startOf("month").format("YYYY-MM-DD"),end:kt()().add(n.a.slotDuration,"months").endOf("month").format("YYYY-MM-DD")},editable:!1,dateClick:this.handleDateClick.bind(this)},this.availableSlots=[],this.walkinCode=c.n,this.primeTimeCode=c.i,this.primeLongueCode=c.g,this.primeTimePremiumLoungeCode=c.j,this.notStandardCode=[...this.primeLongueCode,...this.walkinCode],this.initBaseForm(c.a.modules.BOOK_APPOINTMENT),this.startDate=this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD"),this.endDate=this.utilityService.momentInstance().add(1,"days").endOf("month").format("YYYY-MM-DD"),this.allowedDates=[],this.timeSlots=[],this.slotType=0,this.tempTrStartValue=3,this.tempTrEndValue=7,this.tableRowCount=0,this.cloneSlots=[],this.appConfiguration=this.sessionService.applicationConfiguration,this.filterSlot="All",this.serviceList=[],this.loadVasByVac(),this.currencyCode=null,this.walkingMessage=null,this.priceWithCurrency={},this.calendarOptions.validRange={start:this.utilityService.momentInstance().startOf("month").format("YYYY-MM-DD"),end:this.utilityService.momentInstance().add(n.a.slotDuration,"months").endOf("month").format("YYYY-MM-DD")}}ngOnInit(){const e={dl_category:"book appointment",dl_action:"book appointment pageview",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:void 0};this.utilityService.fireCustomEvent(e),this.calendarOptions.locale=this.sessionService.appCultureCode;const t=this.sessionService.applicantService,i=null==t?void 0:t.filter(e=>"timeslot"===e.timeslot);this.slotService=(null==i?void 0:i.length)>0?i:[]}ngAfterViewChecked(){this.calendarApi=this.calendarComponent.getApi()}submitCaptcha(){this.utilityService.executeCapctha(c.a.captcha_action.SLOT).then(e=>{this.loadAppointmentSlots(e)})}ngAfterViewInit(){try{this.initFocus();const e=this.sessionService.getAppointmentDetails();e&&(this.startDate=this.utilityService.momentInstance(null==e?void 0:e.date).isAfter(this.utilityService.momentInstance().endOf("month"))?this.utilityService.momentInstance(null==e?void 0:e.date).startOf("month").format("YYYY-MM-DD"):this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD"),this.endDate=this.utilityService.momentInstance(null==e?void 0:e.date).endOf("month").format("YYYY-MM-DD")),this.submitCaptcha(),$(".fc-prev-button").click(()=>{setTimeout(()=>{$("td.date-availiable > .active").removeClass("active")}),this.startDate=this.utilityService.momentInstance(this.calendarApi.view.activeStart).isBefore(this.utilityService.momentInstance())&&this.utilityService.momentInstance(this.calendarApi.view.activeStart).isSame(new Date,"month")?this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD hh:mm:ss"):this.utilityService.momentInstance(this.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),this.submitCaptcha()}),$(".fc-next-button").click(()=>{setTimeout(()=>{$("td.date-availiable > .active").removeClass("active")}),this.startDate=this.utilityService.momentInstance(this.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),this.submitCaptcha()})}catch(e){console.log(e)}}initFocus(){try{const e=this.sessionService.getAppointmentDetails();if(!e)return!1;this.selectedDate=e.date;const t=this.utilityService.momentInstance(e.date).month()-this.utilityService.momentInstance().month();for(let i=0;i<t;i++)$(".fc-next-button").click()}catch(e){console.log(e)}}handleDateClick(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=this.allowedDates.filter(t=>{if(t.start===e.dateStr)return!0});t.length>0&&(0===this.slotType?(this.walkingMessage=null,this.selectedTime=null,this.selectedSlotCategory=null,this.selectedAllocationId=null,this.selectedSlotRange=null,this.slotService=[],this.showTimeSlots(t[0])):(this.selectedDate=e.dateStr,$("td.date-availiable > .active").removeClass("active"),$(`td[data-date="${t[0].start}"]`).children().addClass("active"),this.handleWalkin()))}))}filterWalkindata(e){return new Promise(t=>{var i,a;t(null===(a=null===(i=e.otherRespose.counters.filter(e=>this.walkinCode.includes(e.categoryCode))[0])||void 0===i?void 0:i.groups[0])||void 0===a?void 0:a.timeSlots[0])})}radioChange(e){return Object(r.a)(this,void 0,void 0,(function*(){this.selectedDate&&this.handleDateClick({dateStr:this.selectedDate}),1===e.value&&this.selectedDate&&this.handleWalkin()}))}handleWalkin(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.allowedDates.filter(e=>{if(e.start===this.selectedDate)return!0}),t=yield this.filterWalkindata(e[0]);this.selectedTime=null==t?void 0:t.timeSlot,this.selectedSlotCategory="WWA",this.slotTypeName="Walk-in Anytime",this.selectedAllocationId=null==t?void 0:t.allocationId,this.selectedSlotRange=null==t?void 0:t.timeSlot,this.slotService=[],this.walkingMessage="Walk-in hours are from "+(null==t?void 0:t.timeSlot)}))}showTimeSlots(e){var t;return Object(r.a)(this,void 0,void 0,(function*(){const i=e.start;$("td.date-availiable > .active").removeClass("active"),$(`td[data-date="${i}"]`).children().addClass("active"),this.filterSlot="All",this.tempTrStartValue=3,this.tempTrEndValue=7,this.selectedDate=i;const a=e.otherRespose.counters[0].groups[0].timeSlots.map(e=>{const t=e.timeSlot.split("-"),i=("0"+t[0].split(":")[0]).slice(-2)+":"+("0"+t[0].split(":")[1]).slice(-2),a=("0"+t[1].split(":")[0]).slice(-2)+":"+("0"+t[1].split(":")[1]).slice(-2);return e.timeSlot=i+"-"+a,e}).sort((e,t)=>{const i=e.timeSlot,a=t.timeSlot;return i<a?-1:i>a?1:0}),n=a[0].timeSlot.split("-")[0],o=a[a.length-1].timeSlot.split("-")[0],s="2011/10/09 "+a[0].timeSlot.split("-")[0],l="2011/10/09 "+a[0].timeSlot.split("-")[1],r=new Date(s),c=new Date(l).getTime()-r.getTime(),d=Math.round(c/6e4),u=yield this.getTimeStops(n,o,d);u&&(this.timeSlots=u),this.cloneSlots=yield this.constructSlotWiseData(e.otherRespose.counters),this.availableSlots=this.cloneSlots,this.tableRowCount=null===(t=this.availableSlots)||void 0===t?void 0:t.length,setTimeout(()=>{this.showTopOnes()},1e3)}))}checkIfExist(e){return this.availableSlots.reduce((t,i)=>"st"===e?(t[i.st]=(t[i.st]||0)+1,t):"pt"===e?(t[i.pt]=(t[i.pt]||0)+1,t):"pl"===e?(t[i.pl]=(t[i.pl]||0)+1,t):"ptpl"===e?(t[i.ptpl]=(t[i.ptpl]||0)+1,t):void 0,{}).hasOwnProperty("[object Object]")}filterSlots(e){this.filterSlot=e.value,this.tempTrStartValue=3,this.tempTrEndValue=7;const t=this.cloneSlots;"All"===e.value?(this.availableSlots=t,this.tableRowCount=this.availableSlots.length,setTimeout(()=>{this.showTopOnes()},1e3)):(this.availableSlots=t.filter(t=>t.slotType===e.value),this.tableRowCount=this.availableSlots.length,setTimeout(()=>{this.showTopOnes()},1e3))}showTopOnes(){const e=this.tempTrEndValue;let t;for(t=this.tempTrStartValue;t<=e;t++)$(`tr.hidden-item.d-none:nth-child(${t})`).removeClass("d-none");this.tempTrStartValue=t,this.tempTrEndValue=t+4}savePageDataToSession(){try{this.sessionService.saveAppointmentDetails({slotTypeName:this.slotTypeName,slotType:this.selectedSlotCategory,date:this.selectedDate,time:this.selectedTime,allocationId:this.selectedAllocationId,allocationSlot:this.selectedSlotRange?this.selectedSlotRange:this.selectedTime,appointmentSlotType:this.slotType}),this.utilityService.fireCustomEvent({dl_category:"book appointment",dl_action:"appointment type selection",dl_label:"Choose a slot",value:this.selectedSlotRange})}catch(e){console.log(e)}}saveAndContinue(){return Object(r.a)(this,void 0,void 0,(function*(){try{this.utilityService.fireCustomEvent({dl_category:"BookanAppointment",dl_action:"chooseaslot",dl_label:"BookanAppointmentCotinueClick",value:void 0}),yield this.addServiceToUser(),this.savePageDataToSession(),this.routeNext()}catch(e){console.log(e)}}))}addServiceToUser(){var e;return Object(r.a)(this,void 0,void 0,(function*(){let t=[];const i=this.sessionService.applicantService;i&&i.length>0&&(t=i.filter(e=>"timeslot"!==e.timeslot),this.sessionService.applicantService=t),(null===(e=this.slotService)||void 0===e?void 0:e.length)>0&&this.slotService.forEach((e,i)=>Object(r.a)(this,void 0,void 0,(function*(){const a=yield this.modifyServiceList(e);this.slotService[i].unit=a.applicants.length,this.slotService[i].total=a.applicants.length*e.amount,this.slotService[i].modifiedList=a.applicants,this.slotService[i].timeslot="timeslot";const n=t.findIndex(t=>t.code===e.code);n>-1&&t.splice(n,1),t.push(e),this.sessionService.applicantService=t,this.sessionService.updateFees=!0})))}))}get primePremiumService(){return this.serviceList.filter(e=>"Prime Time"===e.name||"Premium Lounge Service"===e.name)}modifyServiceList(e){return new Promise(t=>{const i=this.sessionService.applicationDetailValue.applicantList,a=i.map(t=>({arn:t.arn,vasId:e.id.toString(),vasCode:e.code})),n={};n.loginuser=this.sessionService.getLoggedEmail(),n.missioncode=this.sessionService.tenent,n.countrycode=this.sessionService.countryCode,n.urn=i[0].urn,n.applicants=a,t(n)})}checkIfDisabled(){return!(this.selectedSlotCategory&&this.selectedDate&&this.selectedTime)}constructSlotWiseData(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=[],i=yield this.extractStandardSlots(e),a=yield this.extractTimeSlots(e,this.primeLongueCode),n=yield this.extractSlotByTypeAndCondition(i,"prime"),o=yield this.extractSlotByTypeAndCondition(i,"normal"),s=yield this.extractSlotByTypeAndCondition(a,"prime"),l=yield this.extractSlotByTypeAndCondition(a,"normal");for(const e of this.timeSlots){const i={time:null,st:null,pt:null,pl:null,slotType:null,ptpl:null};i.slotType=e.slotType,i.time=e.time,i.st=this.checkIfSlotExistsForCategory(e.range,o),i.pt=this.checkIfSlotExistsForCategory(e.range,n),i.pl=this.checkIfSlotExistsForCategory(e.range,l),i.ptpl=this.checkIfSlotExistsForCategory(e.range,s),t.push(i)}for(const e in t)void 0===t[e].st&&void 0===t[e].pt&&void 0===t[e].pl&&delete t[e];return t.filter(e=>null!=e)}catch(t){console.log(t)}}))}checkIfSlotExistsForCategory(e,t){try{return t.find(t=>String(t.timeSlot).split(" ").join("")===e.split(" ").join(""))}catch(i){throw i}}extractTimeSlots(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{const i=e.find(e=>t.indexOf(e.categoryCode)>-1);let a;return i&&(a=yield this.alterMappedData(i.groups[0].timeSlots)),i?a:[]}catch(i){throw i}}))}extractStandardSlots(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=e.find(e=>-1===this.notStandardCode.indexOf(e.categoryCode));let i;return t&&(i=yield this.alterMappedData(t.groups[0].timeSlots)),t?i:[]}catch(t){throw t}}))}extractSlotByTypeAndCondition(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{return e.filter(e=>"prime"===t?"Primetime"===e.slotType:"Primetime"!==e.slotType)}catch(i){throw i}}))}alterMappedData(e){return new Promise(t=>{t(e.map(e=>{const t=e.timeSlot.split("-"),i=("0"+t[0].split(":")[0]).slice(-2)+":"+t[0].split(":")[1],a=("0"+t[1].split(":")[0]).slice(-2)+":"+t[1].split(":")[1];return e.timeSlot=i+"-"+a,e}))})}getTimeStops(e,t,i){const a=this.utilityService.momentInstance(e,"HH:mm"),n=this.utilityService.momentInstance(t,"HH:mm"),o=[];let s=null;for(;a<=n;){const e=this.utilityService.momentInstance(a).format("HH:mm"),t=new Date("November 02, 2017 "+e+":00").getHours();s=t<12?"Morning":t<18?"Afternoon":"Evening";const n=e+"-"+this.utilityService.momentInstance(a).add(i,"minutes").format("HH:mm");o.push({time:this.utilityService.momentInstance(a).format("HH:mm"),slotType:s,range:n}),a.add(i,"minutes")}return o}loadAppointmentSlots(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=this.sessionService.applicationDetailValue;if(!t)return;const i=this.sessionService.getAppointmentDetails(),a=this.commonService.formatDateDMY(this.endDate),n=this.commonService.formatDateDMY(this.startDate),o={applicantsCount:t.applicantList.length,slotType:this.isRescheduleAptmntMode?null==i?void 0:i.appointmentSlotType:2,days:this.utilityService.momentInstance(a,"DD/MM/YYYY").diff(this.utilityService.momentInstance(n,"DD/MM/YYYY"),"days"),centerCode:t.centerCode,visaCategoryCode:t.visaCategoryCode,captchaResponse:e,fromDate:n,toDate:a},s=yield this.commonService.loadAppointmentSlots(o);s&&s.length>0&&(this.disableCalendarDates(s),this.checkAndLoadDetailsForEdit())}catch(t){throw new Error(`${c.b.INVALID_REGISTRATION_RESPONSE}: ${t}`)}}))}checkAndLoadDetailsForEdit(){try{const e=this.sessionService.getAppointmentDetails();if(!e)return!1;this.slotType=c.n.indexOf(null==e?void 0:e.slotType)>-1?1:0,this.slotTypeName=e.slotTypeName,this.selectedSlotCategory=e.slotType,this.selectedDate=e.date,this.selectedTime=e.time,this.selectedAllocationId=e.allocationId;const t=this.allowedDates.filter(e=>{if(e.start===this.selectedDate)return!0});1===this.slotType&&this.handleWalkin(),t.length>0&&this.showTimeSlots(t[0])}catch(e){console.log(e)}}loadVasByVac(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=yield this.commonService.loadServices();if(e&&(null==e?void 0:e.length)>0){const t=e.find(e=>e.code===c.k),i=e.find(e=>e.code===c.h);this.priceWithCurrency={standard:"Free",primetime:null==t?void 0:t.amount,premiumlongue:null==i?void 0:i.amount,premiumprime:(null==t?void 0:t.amount)+(null==i?void 0:i.amount)},this.serviceList=e,this.sessionService.setCurrencyCode=e[0].currency,this.currencyCode=e[0].currency}}catch(e){console.log("Error:",e)}}))}getFees(e){const t=this.serviceList.filter(t=>t.code===e);return t.length>0?t:{}}totalFees(e,t){return e+t}formatDate(e,t){const i=t.match(/\d+/g);return i[2]+e+i[0]+e+i[1]}disableCalendarDates(e){this.calendarOptions.events=[],this.allowedDates=[];const t=[];e.forEach((e,i)=>{if(!e.date)return!1;const a={start:this.formatDate("-",e.date),end:this.formatDate("-",e.date),allDay:!0,editable:!1,className:["availiable"],otherRespose:e,title:"availiable"};t.push(a)}),this.allowedDates=t,this.calendarOptions.events=t,setTimeout(()=>{$(".availiable").parents(".fc-day").addClass("date-availiable")},1e3)}routeToDashboard(){this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.commonService.routeToDashboard()}get isRescheduleAptmntMode(){return this.sessionService.isRescheduleAptmntMode}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Qt.a),a.Pb(K.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-book-appointment"]],viewQuery:function(e,t){var i;1&e&&(a.Uc(Mn,!0),a.Uc(kn,!0)),2&e&&(a.Ac(i=a.ic())&&(t.captcha=i.first),a.Ac(i=a.ic())&&(t.calendarComponent=i.first))},features:[a.yb],decls:43,vars:31,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey-para","mb-5"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[1,"fs-18","fs-sm-24","mb-20"],[4,"ngIf"],[1,"fs-24","fs-sm-28","fs-md-32","mb-20"],[1,"bg-light","text-dark","border-left-4","p-15","p-sm-25","mb-20"],[1,"row","justify-content-center","fs-sm-18"],[1,"col-12","col-sm",3,"ngClass"],[1,"d-inline-block","px-2","lh-20","border","border-dark","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-black","rounded-3"],[1,"ba-calender-card","card","shadow-sm"],[1,"card-body"],[1,"ba-calender-container","mx-auto"],[3,"options"],["fullcalendar",""],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],["class","col-12 col-sm-6 mt-20",3,"click",4,"ngIf"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],["class","col-12 col-sm-6 mb-15",4,"ngIf"],[1,"col-12","col-sm","col-lg-auto","min-lg-w-210","mb-10","mb-sm-0"],[1,"d-inline-block","px-2","lh-20","border","border-brand-dark-green","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-brand-dark-green","rounded-3"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"form-group","mb-40"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"placeholder","ngModel","selectionChange","ngModelChange"],["value","All"],["value","Morning"],["value","Afternoon"],["value","Evening"],[1,"table-responsive-lg"],[1,"table","ba-slot-table","w-auto"],[1,"text-center"],[1,"text-left"],[1,"c-brand-grey-para","fs-14"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","load-more",3,"disabled","click"],[1,"mt-5","c-brand-grey-para"],[2,"width","200px"],[1,"d-none","hidden-item"],[1,"align-middle"],[1,"ba-slot-allocation"],[1,"ba-slot-box"],["type","radio","name","SlotRadio",1,"ba-slot-radio",3,"ngClass","id","click"],[1,"ba-slot-radio-label","standard",3,"for"],[1,"ba-slot-radio-label-inner"],[1,"ba-slot-radio-label-text1"],[1,"ba-slot-radio-label-text2"],[1,"fa","fa-check","mr-5"],[1,"ba-slot-radio-label","prime-time",3,"for"],[1,"card","bg-brand-dark-green","text-white","rounded-0","mt-20"],[4,"ngIf","ngIfElse"],["noslot",""],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"mat-card",1),a.Vb(2,"p",2),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"h1",3),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Vb(8,"p",4),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Vb(11,"h2",5),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Mc(14,_n,7,6,"ng-container",6),a.Mc(15,Gn,4,3,"ng-container",6),a.Vb(16,"h2",7),a.Oc(17),a.mc(18,"translate"),a.Ub(),a.Vb(19,"div",8),a.Vb(20,"div",9),a.Mc(21,jn,7,3,"ng-container",6),a.Vb(22,"div",10),a.Vb(23,"div",11),a.Vb(24,"div",12),a.Oc(25,"\xa0"),a.Ub(),a.Ub(),a.Oc(26),a.mc(27,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(28,"div",13),a.Vb(29,"div",14),a.Vb(30,"div",15),a.Qb(31,"full-calendar",16,17),a.Ub(),a.Ub(),a.Ub(),a.Mc(33,uo,2,1,"ng-container",6),a.Mc(34,bo,6,2,"ng-container",6),a.Ub(),a.Vb(35,"mat-card",18),a.Vb(36,"div",19),a.Mc(37,ho,4,3,"div",20),a.Mc(38,go,4,3,"div",20),a.Vb(39,"div",21),a.Vb(40,"button",22),a.hc("click",(function(){return t.saveAndContinue()})),a.Oc(41),a.mc(42,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.Pc(a.nc(4,17,"bookAppointment.pageDetails.para1")),a.Bb(3),a.Pc(a.nc(7,19,"bookAppointment.headerLabel.label1")),a.Bb(3),a.Pc(a.nc(10,21,"bookAppointment.pageDetails.para2")),a.Bb(3),a.Pc(a.nc(13,23,"bookAppointment.headerLabel.label2")),a.Bb(2),a.tc("ngIf",!t.isRescheduleAptmntMode),a.Bb(1),a.tc("ngIf",t.isRescheduleAptmntMode),a.Bb(2),a.Pc(a.nc(18,25,"bookAppointment.headerLabel.label3")),a.Bb(4),a.tc("ngIf",t.allowedDates.length>0),a.Bb(1),a.tc("ngClass",t.allowedDates.length>0?"col-lg-7":"col-lg-12"),a.Bb(4),a.Qc(" ",a.nc(27,27,"bookAppointment.pageDetails.para4")," "),a.Bb(5),a.tc("options",t.calendarOptions),a.Bb(2),a.tc("ngIf",0===t.slotType&&t.selectedDate),a.Bb(1),a.tc("ngIf",1===t.slotType&&t.walkingMessage&&t.selectedDate),a.Bb(3),a.tc("ngIf",t.isRescheduleAptmntMode),a.Bb(1),a.tc("ngIf",!t.isRescheduleAptmntMode),a.Bb(2),a.tc("disabled",t.checkIfDisabled()),a.Bb(1),a.Qc(" ",a.nc(42,29,"commonSections.buttons.button19")," "))},directives:[u.a,p.o,p.m,Bn.a,f.a,Hi.b,s.m,s.p,Hi.a,b.b,te.a,ae.k,p.n],pipes:[m.d],encapsulation:2}),e})();var vo=i("/Yn+");let yo=(()=>{class e{constructor(){}_returnHtmlFromRichText(e){return null==e||"document"!==e.nodeType?"<p>Error</p>":Object(vo.documentToHtmlString)(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-contentful-richtext"]],inputs:{richData:"richData"},decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&a.Qb(0,"div",0),2&e&&a.tc("innerHtml",t._returnHtmlFromRichText(t.richData),a.Gc)},encapsulation:2}),e})();function So(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",9),a.Qb(2,"img",19),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.tc("src",e.service.contentful.icon.fields.file.url,a.Hc)}}function Co(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",20),a.Vb(1,"div",11),a.Vb(2,"mat-checkbox",21),a.hc("ngModelChange",(function(i){return a.Fc(e),t.$implicit.checked_state=i})),a.Vb(3,"span",13),a.Oc(4),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit;a.Bb(2),a.tc("ngModel",e.checked_state),a.Bb(2),a.Rc("",e.firstName," ",e.lastName,"")}}function Oo(e,t){1&e&&(a.Tb(0),a.Vb(1,"button",22),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.Qc(" ",a.nc(3,1,"commonSections.buttons.button36")," "))}function Io(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"button",23),a.hc("click",(function(){return a.Fc(e),a.lc().confirm()})),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("disabled",e.checkedApplicant()),a.Bb(1),a.Qc(" ",a.nc(3,2,"add"===e.actionType?"commonSections.buttons.button4":"commonSections.buttons.button36")," ")}}function Lo(e,t){if(1&e&&(a.Tb(0),a.Qb(1,"app-contentful-richtext",24),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("richData",e.service.contentful.description)}}function To(e,t){if(1&e&&(a.Vb(0,"p"),a.Oc(1),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Pc(e.service.description)}}const Vo=function(e){return{applicantLength:e}};let Ao=(()=>{class e extends d.a{constructor(e,t){super(),this.data=e,this.dialogRef=t,this.applicantList={},this.currencyCode=this.sessionService.currencyCode,this.actionType=e.action,this.service=e.services}ngOnInit(){if(this.applicantList=this.sessionService.applicationDetailValue.applicantList,"add"===this.actionType)this.checkAll({checked:!0});else{const e=this.sessionService.applicantService.filter(e=>e.id===this.service.id)[0].modifiedList;this.applicantList.forEach(t=>t.checked_state=e.some(e=>e.arn===t.arn))}}get editableBtn(){return["timeslot","isMandatory"].indexOf(this.service.timeslot)>-1}addZeroes(e){const t=String(e).split(".")[1],i=t&&t.length>2?t.length:2;return Number(e).toFixed(i)}checkAll(e){this.applicantList.forEach(t=>t.checked_state=e.checked)}isAllChecked(){return this.applicantList.every(e=>e.checked_state)}confirm(){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.modifyList(),t=this.sessionService.applicantService;if(t&&t.length>0)if("remove"===this.actionType){const i=t.findIndex(e=>e.id===this.service.id);t[i].unit=e.applicants.length,t[i].total=e.applicants.length*this.service.amount,t[i].modifiedList=e.applicants,this.sessionService.applicantService=t}else this.service.unit=e.applicants.length,this.service.total=e.applicants.length*this.service.amount,this.service.modifiedList=e.applicants,t.push(this.service),this.sessionService.applicantService=t;else this.service.modifiedList=e.applicants,this.service.unit=e.applicants.length,this.service.total=e.applicants.length*this.service.amount,this.sessionService.applicantService=[this.service];this.close(!0)}))}modifyList(){return new Promise(e=>{const t=this.applicantList.filter(e=>!0===e.checked_state).map(e=>({arn:e.arn,vasId:this.service.id.toString(),vasCode:this.service.code})),i={};i.loginuser=this.sessionService.getLoggedEmail(),i.missioncode=this.sessionService.tenent,i.countrycode=this.sessionService.countryCode,i.urn=this.applicantList[0].urn,i.applicants=t,e(i)})}checkedApplicant(){return!(this.applicantList.filter(e=>!0===e.checked_state).length>0)}close(e=!1){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.a),a.Pb(Re.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-sms-service-modal"]],features:[a.yb],decls:28,vars:21,consts:[[1,"mat-modal-container",2,"max-width","750px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"row"],[1,"col-12","col-sm","order-sm-2"],[4,"ngIf"],[1,"fs-24","mb-20"],[1,"form-group"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"checked","change"],[1,"text-wrap","mr-5"],[1,"mt-0","mb-20"],["class","form-group mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm","order-sm-1","text-justify"],[4,"ngIf","ngIfElse"],["notnocontentfulDesc",""],["alt","vas image",3,"src"],[1,"form-group","mb-20"],["name","sizecb[]",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],["mat-raised-button","","disabled","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20",3,"disabled","click"],[3,"richData"]],template:function(e,t){if(1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.close()})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h1",4),a.Oc(5),a.Ub(),a.Qb(6,"hr",5),a.Vb(7,"mat-dialog-content"),a.Vb(8,"div",6),a.Vb(9,"div",7),a.Mc(10,So,3,1,"ng-container",8),a.Vb(11,"div",9),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Vb(14,"div",10),a.Vb(15,"div",11),a.Vb(16,"mat-checkbox",12),a.hc("change",(function(e){return t.checkAll(e)})),a.Vb(17,"span",13),a.Oc(18),a.mc(19,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(20,"hr",14),a.Mc(21,Co,5,3,"div",15),a.Mc(22,Oo,4,3,"ng-container",8),a.Mc(23,Io,4,4,"ng-container",8),a.Ub(),a.Vb(24,"div",16),a.Mc(25,Lo,2,1,"ng-container",17),a.Mc(26,To,2,1,"ng-template",null,18,a.Nc),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.Bc(27);a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(2),a.Pc(t.service.name),a.Bb(5),a.tc("ngIf",0!==(null==t.service.contentful?null:t.service.contentful.length)&&t.service.contentful.icon),a.Bb(2),a.Sc(" ",t.currencyCode," ",t.addZeroes(t.service.amount)," ",a.nc(13,14,"services.modalPopup.pageDetails.para6")," "),a.Bb(4),a.tc("checked",t.isAllChecked()),a.Bb(2),a.Qc(" ",a.oc(19,16,"services.modalPopup.pageDetails.para11",a.xc(19,Vo,t.applicantList.length))," "),a.Bb(3),a.tc("ngForOf",t.applicantList)("ngForTrackBy",t.trackByFn),a.Bb(1),a.tc("ngIf",t.editableBtn),a.Bb(1),a.tc("ngIf",!t.editableBtn),a.Bb(2),a.tc("ngIf",0!==(null==t.service.contentful?null:t.service.contentful.length))("ngIfElse",e)}},directives:[Re.f,p.o,g.a,p.n,s.m,s.p,f.a,yo],pipes:[m.d],encapsulation:2}),e})();function No(e,t){1&e&&(a.Tb(0),a.Vb(1,"p",10),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e&&(a.Bb(2),a.Qc(" ",a.nc(3,1,"services.modalPopup.pageDetails.para10")," "))}function Do(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"p",10),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.Qc(" ",a.nc(3,1,e.data.service.timeslot?"services.modalPopup.pageDetails.para9":"services.modalPopup.pageDetails.para7")," ")}}function Eo(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"div",8),a.Vb(2,"button",11),a.hc("click",(function(){return a.Fc(e),a.lc().deleteService()})),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(3),a.Qc(" ",a.nc(4,1,"timeslot"!==e.data.service.timeslot?"services.modalPopup.pageDetails.para8":"commonSections.buttons.button19")," ")}}let Po=(()=>{class e extends d.a{constructor(e,t){super(),this.data=e,this.dialogRef=t,this.applicantList={}}ngOnInit(){this.applicantList=this.sessionService.applicationDetailValue.applicantList}get editableBtn(){return["isMandatory"].indexOf(this.data.service.timeslot)>-1}deleteService(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.sessionService.applicantService;if(e&&e.length>0){const t=this.utilityService.removeByAttr(e,"id",this.data.service.id);this.sessionService.applicantService=t,"timeslot"===this.data.service.timeslot&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment())}this.close(!0)}))}close(e=!1){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.a),a.Pb(Re.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-sms-service-remove-modal"]],features:[a.yb],decls:16,vars:11,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[4,"ngIf"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.close()})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h1",4),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Qb(7,"hr",5),a.Mc(8,No,4,3,"ng-container",6),a.Mc(9,Do,4,3,"ng-container",6),a.Vb(10,"div",7),a.Vb(11,"div",8),a.Vb(12,"button",9),a.hc("click",(function(){return t.close()})),a.Oc(13),a.mc(14,"translate"),a.Ub(),a.Ub(),a.Mc(15,Eo,5,3,"ng-container",6),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(2),a.Rc("",a.nc(6,7,"services.modalPopup.headerLabel.label2")," ",null==t.data.service?null:t.data.service.name," ?"),a.Bb(3),a.tc("ngIf",t.editableBtn),a.Bb(1),a.tc("ngIf",!t.editableBtn),a.Bb(4),a.Qc(" ",a.nc(14,9,"commonSections.buttons.button15")," "),a.Bb(2),a.tc("ngIf",!t.editableBtn))},directives:[p.o,f.a],pipes:[m.d],encapsulation:2}),e})();function wo(e,t){if(1&e&&(a.Tb(0),a.Qb(1,"app-contentful-richtext",36),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(1),a.tc("richData",e.contentful.description)}}function Uo(e,t){if(1&e&&(a.Vb(0,"p"),a.Oc(1),a.Ub()),2&e){const e=a.lc().$implicit;a.Bb(1),a.Pc(e.description)}}function Bo(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"td",37),a.Vb(2,"i",38),a.hc("click",(function(){a.Fc(e);const t=a.lc().$implicit;return a.lc(2).removeSMS(t)})),a.Ub(),a.Ub(),a.Sb()}}function Mo(e,t){if(1&e&&(a.Tb(0),a.Qb(1,"app-contentful-richtext",36),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(1),a.tc("richData",null==e||null==e.contentful?null:e.contentful.description)}}function ko(e,t){if(1&e&&(a.Vb(0,"p"),a.Oc(1),a.Ub()),2&e){const e=a.lc().$implicit;a.Bb(1),a.Pc(null==e?null:e.description)}}function Fo(e,t){if(1&e&&(a.Vb(0,"tr",40),a.Vb(1,"td",25),a.Vb(2,"div",26),a.Oc(3),a.Ub(),a.Vb(4,"div",27),a.Mc(5,Mo,2,1,"ng-container",28),a.Mc(6,ko,2,1,"ng-template",null,29,a.Nc),a.Ub(),a.Vb(8,"span",41),a.Oc(9,"Read more \u2192"),a.Ub(),a.Ub(),a.Vb(10,"td",31),a.Vb(11,"div",32),a.Oc(12),a.Ub(),a.Ub(),a.Vb(13,"td",33),a.Vb(14,"div",34),a.Oc(15),a.mc(16,"number"),a.Ub(),a.Ub(),a.Vb(17,"td",33),a.Vb(18,"div",35),a.Oc(19),a.mc(20,"number"),a.Ub(),a.Ub(),a.Vb(21,"td",37),a.Vb(22,"button",42),a.Qb(23,"i",43),a.Ub(),a.Ub(),a.Ub()),2&e){const e=t.$implicit,i=a.Bc(7),n=a.lc(2).index,o=a.lc(2);a.Bb(3),a.Pc((null==e||null==e.contentful?null:e.contentful.heading)||(null==e?null:e.name)),a.Bb(2),a.tc("ngIf",0!==(null==e||null==e.contentful?null:e.contentful.length))("ngIfElse",i),a.Bb(7),a.Pc(o.servicesInSession[n].unit),a.Bb(3),a.Rc("",o.currencyCode," ",a.oc(16,8,null==e?null:e.amount,"1.2-2"),""),a.Bb(4),a.Rc(" ",o.currencyCode," ",a.oc(20,11,(null==e?null:e.amount)*o.servicesInSession[n].unit,"1.2-2")," ")}}function _o(e,t){if(1&e&&(a.Tb(0),a.Mc(1,Fo,24,14,"tr",39),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(1),a.tc("ngForOf",null==e?null:e.complimentaryVAS)}}function xo(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"tr",24),a.Vb(2,"td",25),a.Vb(3,"div",26),a.Oc(4),a.Ub(),a.Vb(5,"div",27),a.Mc(6,wo,2,1,"ng-container",28),a.Mc(7,Uo,2,1,"ng-template",null,29,a.Nc),a.Ub(),a.Vb(9,"span",30),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(2).openSMS(i,"remove")})),a.Oc(10,"Read more \u2192"),a.Ub(),a.Ub(),a.Vb(11,"td",31),a.Vb(12,"div",32),a.Oc(13),a.Ub(),a.Ub(),a.Vb(14,"td",33),a.Vb(15,"div",34),a.Oc(16),a.mc(17,"number"),a.Ub(),a.Ub(),a.Vb(18,"td",33),a.Vb(19,"div",35),a.Oc(20),a.mc(21,"number"),a.Ub(),a.Ub(),a.Mc(22,Bo,3,0,"ng-container",4),a.Ub(),a.Mc(23,_o,2,1,"ng-container",4),a.Sb()}if(2&e){const e=t.$implicit,i=a.Bc(8),n=a.lc(2);a.Bb(4),a.Pc(e.contentful.heading||e.name),a.Bb(2),a.tc("ngIf",0!==(null==e.contentful?null:e.contentful.length))("ngIfElse",i),a.Bb(7),a.Pc(e.unit),a.Bb(3),a.Rc("",n.currencyCode," ",a.oc(17,10,e.amount,"1.2-2"),""),a.Bb(4),a.Rc("",n.currencyCode," ",a.oc(21,13,e.total,"1.2-2"),""),a.Bb(2),a.tc("ngIf","isMandatory"!==e.timeslot),a.Bb(1),a.tc("ngIf",(null==e||null==e.complimentaryVAS?null:e.complimentaryVAS.length)>0)}}function Ro(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"h2",10),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",11),a.Vb(5,"table",12),a.Vb(6,"tr",13),a.Vb(7,"td",14),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Vb(10,"td"),a.Oc(11),a.mc(12,"translate"),a.Ub(),a.Vb(13,"td"),a.Vb(14,"div",15),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Ub(),a.Vb(17,"td"),a.Oc(18),a.mc(19,"translate"),a.Ub(),a.Qb(20,"td",16),a.Ub(),a.Mc(21,xo,24,16,"ng-container",17),a.Vb(22,"tr"),a.Vb(23,"td",18),a.Vb(24,"div",19),a.Oc(25,"\xa0"),a.Ub(),a.Ub(),a.Ub(),a.Vb(26,"tr",20),a.Vb(27,"td",21),a.Vb(28,"div",22),a.Oc(29),a.mc(30,"translate"),a.Ub(),a.Ub(),a.Qb(31,"td"),a.Qb(32,"td"),a.Vb(33,"td",23),a.Oc(34),a.mc(35,"number"),a.Ub(),a.Qb(36,"td",16),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.Pc(a.nc(3,12,"services.headerLabel.label3")),a.Bb(6),a.Pc(a.nc(9,14,"services.headerLabel.label4")),a.Bb(3),a.Pc(a.nc(12,16,"services.headerLabel.label5")),a.Bb(4),a.Rc("",a.nc(16,18,"services.headerLabel.label6")," (",e.currencyCode,")"),a.Bb(3),a.Rc("",a.nc(19,20,"services.headerLabel.label7")," (",e.currencyCode,")"),a.Bb(3),a.tc("ngForOf",e.selectedService)("ngForTrackBy",e.trackByFn),a.Bb(8),a.Pc(a.nc(30,22,"services.headerLabel.label9")),a.Bb(5),a.Rc("",e.currencyCode," ",a.oc(35,24,e.totalSelected,"1.2-2"),"")}}function Go(e,t){if(1&e&&(a.Tb(0),a.Qb(1,"app-contentful-richtext",36),a.Sb()),2&e){const e=a.lc().$implicit;a.Bb(1),a.tc("richData",e.contentful.description)}}function jo(e,t){if(1&e&&(a.Vb(0,"p"),a.Oc(1),a.Ub()),2&e){const e=a.lc().$implicit;a.Bb(1),a.Pc(e.description)}}function $o(e,t){if(1&e){const e=a.Wb();a.Vb(0,"tr",49),a.Vb(1,"td",25),a.Vb(2,"div",50),a.Oc(3),a.Ub(),a.Vb(4,"div",27),a.Mc(5,Go,2,1,"ng-container",28),a.Mc(6,jo,2,1,"ng-template",null,51,a.Nc),a.Ub(),a.Vb(8,"div",52),a.Vb(9,"span",30),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(2).openSMS(i,"add")})),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Vb(12,"td",53),a.Vb(13,"div",54),a.Oc(14),a.mc(15,"number"),a.Ub(),a.Vb(16,"button",55),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(2).openSMS(i,"add")})),a.Oc(17),a.mc(18,"translate"),a.Ub(),a.Ub(),a.Vb(19,"td",56),a.Vb(20,"button",57),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(2).openSMS(i,"add")})),a.Oc(21),a.mc(22,"translate"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=a.Bc(7),n=a.lc(2);a.Bb(3),a.Qc(" ",null!=e&&null!=e.contentful&&e.contentful.heading?null==e||null==e.contentful?null:e.contentful.heading:e.name," "),a.Bb(2),a.tc("ngIf",0!==(null==e.contentful?null:e.contentful.length))("ngIfElse",i),a.Bb(5),a.Qc("",a.nc(11,8,"services.buttons.button1")," \u2192"),a.Bb(4),a.Rc("",n.currencyCode," ",a.oc(15,10,e.amount,"1.2-2"),""),a.Bb(3),a.Qc(" ",a.nc(18,13,"commonSections.buttons.button35")," "),a.Bb(4),a.Qc(" ",a.nc(22,15,"commonSections.buttons.button35")," ")}}function Qo(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"h2",44),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",45),a.Vb(5,"table",12),a.Vb(6,"tr",13),a.Vb(7,"td",14),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Vb(10,"td",46),a.Oc(11),a.mc(12,"translate"),a.Ub(),a.Qb(13,"td",47),a.Ub(),a.Mc(14,$o,23,17,"tr",48),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.Pc(a.nc(3,6,"services.headerLabel.label2")),a.Bb(6),a.Pc(a.nc(9,8,"services.headerLabel.label4")),a.Bb(3),a.Rc("",a.nc(12,10,"services.headerLabel.label6")," (",e.currencyCode,")"),a.Bb(3),a.tc("ngForOf",e.notSelectedService)("ngForTrackBy",e.trackByFn)}}let Yo=(()=>{class e extends X.a{constructor(e){super(),this.dialog=e,this.isServiceModified=!1,this.initBaseForm(c.a.modules.SERVICES),this.serviceList=[],this.selectedService=[],this.notSelectedService=[],this.servicesInSession=[],this.allList=[],this.totalSelected=null,this.currencyCode=this.sessionService.currencyCode||null}ngOnInit(){this.loadServices()}updateTotalFees(){this.utilityService.updateTotalFees(Number(this.sessionService.feeAmount))}loadServices(){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=yield this.commonService.loadServices();if(e&&(null==e?void 0:e.length)>0){this.allList=e;const t=e.filter(e=>!0===e.isAvailableOnline);this.utilityService.product_impression(t),this.serviceList=t,this.sessionService.setCurrencyCode=e[0].currency,this.currencyCode=e[0].currency,this.updateselectedAvailiable(t)}}catch(e){throw new Error(`${c.b.INVALID_REGISTRATION_RESPONSE}: ${e}`)}}))}openSMS(e,t){this.utilityService.product_details(e),this.utilityService.product_click(e),this.utilityService.product_impression([e]);const i=this.dialog.open(Ao,{data:{services:e,action:t}});this.subs.sink=i.afterClosed().subscribe(i=>{this.updateselectedAvailiable(this.serviceList),i&&("add"===t?this.utilityService.add_to_cart(e):this.utilityService.remove_to_cart(e),this.isServiceModified=!0)}),this.subs.sink=this.router.events.subscribe(()=>{i.close()})}updateselectedAvailiable(e){try{const t=this.sessionService.applicantService,i=[];if(null==t||t.map(e=>{var t;null===(t=null==e?void 0:e.complimentaryVAS)||void 0===t||t.forEach(e=>{i.push(e)})}),null==i||i.filter(e=>{const i=t.findIndex(t=>t.code===e.code);i>-1&&t.splice(i,1)}),this.sessionService.applicantService=t,this.servicesInSession=t,Array.isArray(t))for(const e of this.servicesInSession)e.totalPrice=Number(e.unit*e.amount);const a=e;if(!t||0===(null==t?void 0:t.length))return this.selectedService=[],this.notSelectedService=e,this.totalSelected="0",void this.updateTotalFees();const n=this.allList;this.selectedService=t.filter(e=>n.find(t=>e.id===t.id));const o=a.filter(e=>!i.find(({code:t})=>e.code===t));this.notSelectedService=o.filter(e=>!t.find(({id:t})=>e.id===t)),this.totalSelected=String(this.selectedService.reduce((e,t)=>e+this.utilityService.getNosOfUnit("unit",t.id)*t.amount,0)),this.updateTotalFees()}catch(t){console.log(t)}}removeSMS(e){const t=this.dialog.open(Po,{data:{service:e}});this.subs.sink=t.afterClosed().subscribe(t=>{this.updateselectedAvailiable(this.serviceList),t&&(this.utilityService.remove_to_cart(e),this.isServiceModified=!0)}),this.subs.sink=this.router.events.subscribe(()=>{t.close()})}saveAndContinue(){return Object(r.a)(this,void 0,void 0,(function*(){try{this.utilityService.fireCustomEvent({dl_category:"VASPage",dl_action:"VASSelected",dl_label:"VASContinueClick",value:0}),this.utilityService.executeCapctha(c.a.captcha_action.MAPVAS).then(e=>{this.saveAndContinueWithCaptcha(e)})}catch(e){console.log(e)}}))}saveAndContinueWithCaptcha(e){return Object(r.a)(this,void 0,void 0,(function*(){try{this.isServiceModified&&(this.sessionService.updateFees=!0);const t=this.sessionService.applicantService,i=yield this.modifyList(t);i.api_captcha_mapvas=e,(yield this.httpService.payloadPost(c.a.api.mapVas,i).toPromise().then(e=>e).catch(e=>e))&&(this.sessionService.completedModuleName=c.c.SERVICES,this.commonService.routeToPostLoginModule(c.l.REVIEW_AND_PAY))}catch(t){console.log(t)}}))}modifyList(e){return new Promise(t=>{let i;i=e&&0!==e.length?e.reduce((e,t)=>[...e,...t.modifiedList],[]):[];const a=this.sessionService.applicationDetailValue.applicantList,n={};n.loginuser=this.sessionService.getLoggedEmail(),n.missioncode=this.sessionService.tenent,n.countrycode=this.sessionService.countryCode,n.urn=a[0].urn,n.applicants=0!==i.length?i:[],t(n)})}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-manage-service"]],features:[a.yb],decls:20,vars:14,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","border-bottom-0"],[1,"w-100"],[1,"bg-brand-footer","c-brand-grey-para","border-bottom-1"],[1,"pl-15","py-15"],[1,"d-none","d-lg-inline-block"],[1,"pr-15"],[4,"ngFor","ngForOf","ngForTrackBy"],["colspan","5"],[1,"card","mx-n2","mb-n3","border-top-0","border-bottom-2",2,"height","8px"],[1,"service-bottom-row"],[1,"pl-15","pt-25","pb-15"],[1,"ff-700","fs-sm-20"],[1,"ff-500","c-brand-green"],[1,"border-top-1"],[1,"align-top","py-25","pl-15"],[1,"ff-700","mt-7","fs-sm-18","mb-15"],[1,"c-brand-grey-para","fs-16","text-box-ellipsis"],[4,"ngIf","ngIfElse"],["nocontentfulDesc",""],[1,"fs-sm-18","c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"align-top","pt-25","ff-500"],[1,"mt-7"],[1,"align-top","pt-25","ff-500","c-brand-green"],[1,"mt-7","d-none","d-lg-inline-block"],[1,"mt-7","min-w-85"],[3,"richData"],[1,"align-top","pt-25","pr-15"],[1,"fa","fa-trash-o","c-brand-blue","fs-24","cursor-pointer",3,"click"],["class","border-top-1 disabled-6",4,"ngFor","ngForOf"],[1,"border-top-1","disabled-6"],[1,"fs-sm-18","c-brand-orange","text-decoration-underline"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-green-light","cursor-default"],[1,"fa","fa-check"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"card"],[1,"text-center","pr-15","pr-sm-0"],[1,"pr-15","d-none","d-sm-table-cell"],["class","border-bottom-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-bottom-1"],[1,"ff-700","fs-sm-18","mt-7","mb-15"],["notnocontentfulDesc",""],[1,"mb-3"],[1,"align-top","py-25","ff-500","position-relative"],[1,"mt-7","min-w-100","text-center","c-brand-green"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange","d-sm-none","position-absolute","bottom-20",2,"transform","translateX(-50%)","left","50%",3,"click"],[1,"align-top","py-25","pr-15","text-center","d-none","d-sm-table-cell"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"mat-card",1),a.Vb(2,"h1",2),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Vb(5,"p",3),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Mc(8,Ro,37,27,"ng-container",4),a.Mc(9,Qo,15,12,"ng-container",4),a.Ub(),a.Vb(10,"mat-card",5),a.Vb(11,"div",6),a.Vb(12,"div",7),a.Vb(13,"button",8),a.hc("click",(function(){return t.routePrevious()})),a.Oc(14),a.mc(15,"translate"),a.Ub(),a.Ub(),a.Vb(16,"div",7),a.Vb(17,"button",9),a.hc("click",(function(){return t.saveAndContinue()})),a.Oc(18),a.mc(19,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.Pc(a.nc(4,6,"services.headerLabel.label1")),a.Bb(3),a.Pc(a.nc(7,8,"services.pageDetails.para1")),a.Bb(2),a.tc("ngIf",t.selectedService.length>0),a.Bb(1),a.tc("ngIf",t.notSelectedService.length>0),a.Bb(5),a.Qc(" ",a.nc(15,10,"commonSections.buttons.button8")," "),a.Bb(4),a.Qc(" ",a.nc(19,12,"commonSections.buttons.button19")," "))},directives:[u.a,p.o,f.a,p.n,yo],pipes:[m.d,p.f],encapsulation:2}),e})(),Wo=(()=>{class e extends d.a{constructor(e){super(),this.dialogRef=e}close(){this.dialogRef.close(!0)}logout(){this.commonService.logoutAndRouteToLogin()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-warning-login-modal"]],features:[a.yb],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.close()})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h4",4),a.Qb(5,"i",5),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Qb(8,"hr",6),a.Vb(9,"p",7),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Vb(12,"div",8),a.Vb(13,"div",9),a.Vb(14,"button",10),a.hc("click",(function(){return t.close()}))("click",(function(){return t.close()})),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(3),a.Qc(" ",a.nc(7,4,"commonSections.headerLabel.label3")," "),a.Bb(4),a.Pc(a.nc(11,6,"commonSections.messages.errorMessages.message19")),a.Bb(5),a.Qc(" ",a.nc(16,8,"commonSections.buttons.button24")," "))},directives:[f.a],pipes:[m.d],encapsulation:2}),e})();var Ho=i("+lv+");let zo=(()=>{class e extends d.a{constructor(e,t,i,a){super(),this.dialog=e,this.dialogRef=t,this.idle=i,this.changeRef=a}ngOnInit(){}close(){this.dialogRef.close(),this.commonService.logoutAndRouteToLogin()}ngOnDestroy(){this.close()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b),a.Pb(Re.h),a.Pb(Ho.b),a.Pb(a.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-session-timeout"]],features:[a.yb],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.close()})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h4",4),a.Qb(5,"i",5),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Qb(8,"hr",6),a.Vb(9,"p",7),a.Oc(10),a.mc(11,"translate"),a.Ub(),a.Vb(12,"div",8),a.Vb(13,"div",9),a.Vb(14,"button",10),a.hc("click",(function(){return t.close()})),a.Oc(15),a.mc(16,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(3),a.Qc(" ",a.nc(7,4,"commonSections.headerLabel.label3")," "),a.Bb(4),a.Pc(a.nc(11,6,"commonSections.messages.errorMessages.message20")),a.Bb(5),a.Qc(" ",a.nc(16,8,"commonSections.buttons.button24")," "))},directives:[f.a],pipes:[m.d],encapsulation:2}),e})();function Ko(e,t){1&e&&(a.Vb(0,"div",17),a.Oc(1,"Please Select Your Country"),a.Ub())}function Jo(e,t){if(1&e&&(a.Vb(0,"div",15),a.Mc(1,Ko,2,0,"div",16),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.loginF.username.errors.required)}}function qo(e,t){if(1&e&&(a.Vb(0,"mat-option",18),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.isoCode),a.Bb(1),a.Qc(" ",e.missionName," ")}}function Zo(e,t){1&e&&(a.Vb(0,"div",17),a.Oc(1,"Please Select Country"),a.Ub())}function Xo(e,t){if(1&e&&(a.Vb(0,"div",15),a.Mc(1,Zo,2,0,"div",16),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.loginF.password.errors.required)}}function es(e,t){if(1&e&&(a.Vb(0,"mat-option",18),a.Oc(1),a.Ub()),2&e){const e=t.$implicit;a.tc("value",e.isoCode),a.Bb(1),a.Qc(" ",e.countryName," ")}}const ts=function(e){return{"form-error":e}};let is=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.translate=t,this.initLoginForm(),this.utilityService.setTitle("Welcome to VFS Global"),this.loadMissions(),this.countryList=[],this.missionList=[]}loadMissions(){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.httpService.doGet("/master/mission").toPromise();e&&(this.missionList=e)}))}missionSelect(e){return Object(r.a)(this,void 0,void 0,(function*(){const t="/master/country/"+e,i=yield this.httpService.doGet(t).toPromise();i&&(this.countryList=i)}))}initLoginForm(){this.loginForm=this.formBuilder.group({username:[null,[s.s.required]],password:[null,s.s.required]})}get loginF(){return this.loginForm.controls}onSubmit(){return Object(r.a)(this,void 0,void 0,(function*(){try{if(this.loginForm.invalid)return;const e=this.loginForm.value.username.toLowerCase(),t=this.loginForm.value.password.toLowerCase();this.sessionService.appLanguageCode="en",this.sessionService.appCultureCode="en-US",this.sessionService.tenent=t,this.sessionService.countryCode=e,this.translate.use("en"),this.router.navigateByUrl(`${e}/en/${t}`)}catch(e){console.log("NAVIGATE_FAILED: "+e)}}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.c),a.Pb(m.e))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-country-mission-selector"]],features:[a.yb],decls:29,vars:19,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select Your Country","formControlName","username",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-brand-error"],["placeholder","Select Country","formControlName","password"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"mat-card",3),a.Vb(4,"h1",4),a.Oc(5,"Country selector"),a.Ub(),a.Vb(6,"p",5),a.Oc(7,"Please confirm your travel details"),a.Ub(),a.Vb(8,"form",6),a.hc("ngSubmit",(function(){return t.onSubmit()})),a.Vb(9,"div",7),a.Vb(10,"div"),a.Oc(11,"I am a resident of"),a.Ub(),a.Mc(12,Jo,2,1,"div",8),a.Vb(13,"mat-form-field",9),a.Vb(14,"mat-select",10),a.hc("selectionChange",(function(e){return t.missionSelect(e.value)})),a.Mc(15,qo,2,2,"mat-option",11),a.mc(16,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Vb(17,"div",7),a.Vb(18,"div"),a.Oc(19,"Going to"),a.Vb(20,"span",12),a.Oc(21,"*"),a.Ub(),a.Ub(),a.Mc(22,Xo,2,1,"div",8),a.Vb(23,"mat-form-field",9),a.Vb(24,"mat-select",13),a.Mc(25,es,2,2,"mat-option",11),a.mc(26,"sortBy"),a.Ub(),a.Ub(),a.Ub(),a.Vb(27,"button",14),a.Oc(28,"Confirm"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(8),a.tc("formGroup",t.loginForm),a.Bb(1),a.tc("ngClass",a.xc(15,ts,t.loginF.username.touched&&t.loginF.username.invalid)),a.Bb(3),a.tc("ngIf",t.loginF.username.touched&&t.loginF.username.errors),a.Bb(3),a.tc("ngForOf",a.oc(16,9,t.missionList,"missionName"))("ngForTrackBy",t.trackByFn),a.Bb(2),a.tc("ngClass",a.xc(17,ts,t.loginF.password.touched&&t.loginF.password.invalid)),a.Bb(5),a.tc("ngIf",t.loginF.password.touched&&t.loginF.password.errors),a.Bb(3),a.tc("ngForOf",a.oc(26,12,t.countryList,"countryName"))("ngForTrackBy",t.trackByFn))},directives:[u.a,s.u,s.n,s.g,p.m,p.o,b.b,te.a,s.m,s.e,p.n,f.a,ae.k],pipes:[ne],encapsulation:2}),e})();function as(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",12),a.Vb(1,"a",13),a.hc("click",(function(){return a.Fc(e),a.lc(2).routeToSignIn()})),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()}2&e&&(a.Bb(2),a.Pc(a.nc(3,1,"commonSections.buttons.button6")))}function ns(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",8),a.Vb(2,"div",9),a.Qb(3,"i",10),a.Vb(4,"div"),a.Oc(5),a.Ub(),a.Ub(),a.Ub(),a.Mc(6,as,4,3,"div",11),a.Sb()),2&e){const e=a.lc();a.Bb(5),a.Pc(e.message),a.Bb(1),a.tc("ngIf",e.successComp)}}function os(e,t){1&e&&(a.Vb(0,"div",25),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function ss(e,t){1&e&&(a.Vb(0,"div",25),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"resetpassword.messages.message1")))}function ls(e,t){if(1&e&&(a.Vb(0,"div",23),a.Mc(1,os,3,3,"div",24),a.Mc(2,ss,3,3,"div",24),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.forgotF.password.errors.required),a.Bb(1),a.tc("ngIf",e.forgotF.password.errors.pattern)}}function rs(e,t){1&e&&(a.Vb(0,"div",25),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"commonSections.messages.requiredMessages.message1")))}function cs(e,t){1&e&&(a.Vb(0,"div",25),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Pc(a.nc(2,1,"commonSections.messages.misMatch.message1")))}function ds(e,t){if(1&e&&(a.Vb(0,"div",23),a.Mc(1,rs,3,3,"div",24),a.Mc(2,cs,3,3,"div",24),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngIf",e.forgotF.confirmPassword.errors.required),a.Bb(1),a.tc("ngIf",e.forgotF.confirmPassword.errors.passwordMismatch)}}const us=function(e){return{"form-error":e}};function ps(e,t){if(1&e){const e=a.Wb();a.Vb(0,"form",14),a.hc("ngSubmit",(function(){return a.Fc(e),a.lc().onSubmit()})),a.Vb(1,"div",15),a.Vb(2,"div"),a.Oc(3),a.mc(4,"translate"),a.Vb(5,"span",16),a.Oc(6,"*"),a.Ub(),a.Ub(),a.Mc(7,ls,3,2,"div",17),a.Vb(8,"mat-form-field",18),a.Qb(9,"input",19),a.Vb(10,"i",20),a.hc("keypress",(function(){a.Fc(e);const t=a.lc();return t.passwordToogle=!t.passwordToogle}))("mouseenter",(function(){return a.Fc(e),a.lc().passwordToogle=!0}))("mouseleave",(function(){return a.Fc(e),a.lc().passwordToogle=!1}))("click",(function(){return a.Fc(e),a.lc().passwordToogle=!0})),a.Ub(),a.Ub(),a.Ub(),a.Vb(11,"div",15),a.Vb(12,"div"),a.Oc(13),a.mc(14,"translate"),a.Vb(15,"span",16),a.Oc(16,"*"),a.Ub(),a.Ub(),a.Mc(17,ds,3,2,"div",17),a.Vb(18,"mat-form-field",18),a.Qb(19,"input",21),a.Vb(20,"i",20),a.hc("keypress",(function(){a.Fc(e);const t=a.lc();return t.confirmPasswordToggle=!t.confirmPasswordToggle}))("mouseenter",(function(){return a.Fc(e),a.lc().confirmPasswordToggle=!0}))("mouseleave",(function(){return a.Fc(e),a.lc().confirmPasswordToggle=!1}))("click",(function(){return a.Fc(e),a.lc().confirmPasswordToggle=!0})),a.Ub(),a.Ub(),a.Ub(),a.Vb(21,"button",22),a.Oc(22),a.mc(23,"translate"),a.Ub(),a.Vb(24,"div",12),a.Vb(25,"a",13),a.hc("click",(function(){return a.Fc(e),a.lc().routeToSignUp()})),a.Oc(26),a.mc(27,"translate"),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.lc();a.tc("formGroup",e.forgotPasswordForm),a.Bb(1),a.tc("ngClass",a.xc(21,us,e.forgotF.password.touched&&e.forgotF.password.invalid)),a.Bb(2),a.Pc(a.nc(4,13,"resetpassword.formLabel.label1")),a.Bb(4),a.tc("ngIf",e.forgotF.password.touched&&e.forgotF.password.errors),a.Bb(2),a.tc("type",e.passwordToogle?"text":"password"),a.Bb(1),a.tc("ngClass",e.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),a.Bb(1),a.tc("ngClass",a.xc(23,us,e.forgotF.confirmPassword.touched&&e.forgotF.confirmPassword.invalid)),a.Bb(2),a.Pc(a.nc(14,15,"resetpassword.formLabel.label2")),a.Bb(4),a.tc("ngIf",e.forgotF.confirmPassword.touched&&e.forgotF.confirmPassword.errors),a.Bb(2),a.tc("type",e.confirmPasswordToggle?"text":"password"),a.Bb(1),a.tc("ngClass",e.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),a.Bb(2),a.Pc(a.nc(23,17,"resetpassword.buttons.button1")),a.Bb(4),a.Pc(a.nc(27,19,"commonSections.buttons.button7"))}}let ms=(()=>{class e extends d.a{constructor(e,t){super(),this.formBuilder=e,this.activatedRoute=t,this.intitForgotForm(),this.message=null,this.successComp=!1}intitForgotForm(){const e=this.activatedRoute.queryParams;e._value.q||this.commonService.routeToLogin(),this.forgotPasswordForm=this.formBuilder.group({password:["",[s.s.pattern(c.r),s.s.required]],confirmPassword:["",s.s.required],missioncode:[this.sessionService.tenent,s.s.required],countrycode:[this.sessionService.countryCode,s.s.required],token:e._value.q},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}get forgotF(){var e;return null===(e=this.forgotPasswordForm)||void 0===e?void 0:e.controls}onSubmit(){var e,t,i;return Object(r.a)(this,void 0,void 0,(function*(){try{if(this.forgotPasswordForm.invalid)return;const a=yield this.httpService.payloadWithoutTokenPost(c.a.api.resetPassword,this.forgotPasswordForm.value).toPromise();a&&(this.successComp="508"!==(null===(e=null==a?void 0:a.error)||void 0===e?void 0:e.code),this.message=(null===(t=null==a?void 0:a.error)||void 0===t?void 0:t.description)||(null==a?void 0:a.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(i=null==a?void 0:a.error)||void 0===i?void 0:i.code)))}catch(a){console.log(`${c.b.INVALID_RESPONSE}: ${a}`)}}))}routeToSignUp(){this.commonService.routeToOnBoarding()}routeToSignIn(){this.commonService.routeToLogin()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.c),a.Pb(l.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-resetpassword"]],features:[a.yb],decls:10,vars:5,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],["class","fs-sm-18 mt-20",4,"ngIf"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"mat-card",3),a.Vb(4,"div",4),a.Vb(5,"h1",5),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Mc(8,ns,7,2,"ng-container",6),a.Mc(9,ps,28,25,"form",7),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(6),a.Pc(a.nc(7,3,"resetpassword.headerLabel.label1")),a.Bb(2),a.tc("ngIf",t.message),a.Bb(1),a.tc("ngIf",!t.successComp))},directives:[u.a,p.o,s.u,s.n,s.g,p.m,b.b,h.b,s.b,s.m,s.e,f.a],pipes:[m.d],encapsulation:2}),e})(),bs=(()=>{class e extends d.a{constructor(){super(),this.loginComponent=this.commonService.constructURLBeforeLogin(c.l.LOGIN)}ngOnInit(){try{if(this.sessionService.getJWT()){const e={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()};this.httpService.payloadPost(c.a.api.logout,e).toPromise().catch(e=>Object(_t.a)(e)).then(e=>e)}this.sessionService.clearSession()}catch(e){console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-not-found"]],features:[a.yb],decls:10,vars:10,consts:[[1,"container","py-15","py-sm-60"],[1,"fs-24","fs-sm-46","mb-15"],[1,"c-brand-grey-para","mb-30","fs-sm-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"href"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"h1",1),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"p",2),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Vb(7,"a",3),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Ub()),2&e&&(a.Bb(2),a.Pc(a.nc(3,4,"notFound.pageTitle")),a.Bb(3),a.Pc(a.nc(6,6,"notFound.label1")),a.Bb(2),a.uc("href",t.loginComponent,a.Hc),a.Bb(1),a.Pc(a.nc(9,8,"notFound.label2")))},pipes:[m.d],encapsulation:2}),e})();function hs(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"div",6),a.Vb(2,"div",7),a.Qb(3,"i",8),a.Vb(4,"div"),a.Oc(5),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(5),a.Pc(e.message)}}function gs(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"h5",9),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.Rc(" ",a.nc(3,2,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," ")}}function fs(e,t){if(1&e&&(a.Vb(0,"h5",10),a.Oc(1),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.Rc(" ",null==e.applicationDetails||null==e.applicationDetails.applicantList[e.editApplicantIndex]?null:e.applicationDetails.applicantList[e.editApplicantIndex].firstName," ",null==e.applicationDetails||null==e.applicationDetails.applicantList[e.editApplicantIndex]?null:e.applicationDetails.applicantList[e.editApplicantIndex].lastName," ")}}function vs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",12),a.Vb(1,"div",13),a.Vb(2,"div",14),a.Vb(3,"div",15),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Vb(6,"div",16),a.Oc(7),a.Ub(),a.Ub(),a.Vb(8,"div",17),a.Vb(9,"button",18),a.hc("click",(function(){a.Fc(e);const i=t.index;return a.lc(2).editPostalInfo(i)})),a.Oc(10),a.mc(11,"translate"),a.mc(12,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,i=t.index;a.Bb(4),a.Rc("",a.nc(5,5,"applicantInformation.pageDetails.para1")," ",i+1,""),a.Bb(3),a.Rc("",null==e?null:e.firstName," ",null==e?null:e.lastName,""),a.Bb(3),a.Qc(" ",(null==e||null==e.postalList?null:e.postalList.length)>0?a.nc(11,7,"postalInformation.buttons.button2"):a.nc(12,9,"postalInformation.buttons.button1")," ")}}function ys(e,t){if(1&e&&(a.Tb(0),a.Mc(1,vs,13,11,"div",11),a.Sb()),2&e){const e=a.lc();a.Bb(1),a.tc("ngForOf",null==e.applicationDetails?null:e.applicationDetails.applicantList)("ngForTrackBy",e.trackByFn)}}function Ss(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"h2",21),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Vb(4,"div",22),a.Vb(5,"div",23),a.Vb(6,"mat-checkbox",24),a.hc("ngModelChange",(function(t){return a.Fc(e),a.lc(2).isSamePostalInfo=t}))("ngModelChange",(function(t){return a.Fc(e),a.lc(2).onIsSamePostalInfoSelection(t)})),a.Vb(7,"span",25),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc(2);a.Bb(2),a.Rc(" ",a.nc(3,6,"applicantInformation.pageDetails.para1")," ",e.isEditModeFlag?e.editApplicantIndex+1:(null==e.applicationDetails||null==e.applicationDetails.applicantList?null:e.applicationDetails.applicantList.length)+1," "),a.Bb(4),a.tc("ngModel",e.isSamePostalInfo),a.Bb(2),a.Sc("",a.nc(9,8,"postalInformation.formLabel.label7")," ",null==e.applicationDetails||null==e.applicationDetails.applicantList[0]?null:e.applicationDetails.applicantList[0].firstName," ",null==e.applicationDetails||null==e.applicationDetails.applicantList[0]?null:e.applicationDetails.applicantList[0].lastName,"")}}function Cs(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Mc(1,Ss,10,10,"ng-container",3),a.Vb(2,"form",19),a.Vb(3,"app-dynamic-form",20),a.hc("formGroupCopy",(function(t){return a.Fc(e),a.lc().postPageLoadActivities(t,!0)})),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=a.lc();a.Bb(1),a.tc("ngIf",e.viewIsSamePostalInfoFlag),a.Bb(1),a.tc("formGroup",e.currentFormGroup),a.Bb(1),a.tc("scope",e.scope)("schema",e.currentModule)}}function Os(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"mat-card",26),a.Qb(2,"app-dynamic-form",27),a.Ub(),a.Sb()),2&e){const e=a.lc();a.Bb(2),a.tc("scope",e.scope)("schema",e.currentModuleButtons)}}function Is(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"mat-card",26),a.Vb(2,"div",28),a.Vb(3,"div",29),a.Vb(4,"button",30),a.hc("click",(function(){return a.Fc(e),a.lc().goBack()})),a.Oc(5),a.mc(6,"translate"),a.Ub(),a.Ub(),a.Vb(7,"div",29),a.Vb(8,"button",18),a.hc("click",(function(){return a.Fc(e),a.lc().continue()})),a.Oc(9),a.mc(10,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Sb()}2&e&&(a.Bb(5),a.Qc(" ",a.nc(6,2,"commonSections.buttons.button8")," "),a.Bb(4),a.Qc(" ",a.nc(10,4,"commonSections.buttons.button19")," "))}const Ls=[{path:"",component:is,canActivate:[Z]},{path:":countrycode/:lang/:mission",children:[{path:"",canActivate:[Z],children:[{path:c.l.ON_BOARDING,component:P,data:{title:"onBoarding.pageTitle"}},{path:c.l.LOGIN,component:R,data:{title:"login.pageTitle"}},{path:c.l.FORGOT_PASSWORD,component:H,data:{title:"forogotpassword.pageTitle"}},{path:c.l.ACTIVATE_EMAIL,component:z,data:{title:"activate mail"}},{path:c.l.RESETPASSWORD,component:ms,data:{title:"resetpassword.pageTitle"}},{path:"",redirectTo:c.l.LOGIN,pathMatch:"full"}]},{path:"",canActivate:[q],children:[{path:c.l.APPLICATION_DETAIL,component:_e,data:{title:"eligibilityCriteria.pageTitle"}},{path:c.l.REVIEW_AND_PAY,component:xe.a,data:{title:"reviewAndPayment.pageTitle"}},{path:c.l.DASHBOARD,component:Bt,data:{title:"dashboard.pageTitle"}},{path:c.l.YOUR_DETAILS,component:nn,data:{title:"applicantInformation.pageTitle"}},{path:c.l.PAYMENT_CONFIRMATION,component:Un,data:{title:"paymentConfirmation.pageTitle"}},{path:c.l.BOOK_APPOINTMENT,component:fo,data:{title:"bookAppointment.pageTitle"}},{path:c.l.SERVICES,component:Yo,data:{title:"services.pageTitle"}},{path:c.l.POSTAL_INFORMATION,component:(()=>{class e extends X.a{constructor(e){super(),this.dialog=e,this.scope=this,this.viewApplicantsListFlag=!1,this.isEditModeFlag=!1,this.isSamePostalInfo=!1,this.initBaseForm(c.a.modules.POSTAL_INFORMATION),this.isEditingFromSamePage=!1,this.message=null}ngOnInit(){this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.setEditModeFlag(this.checkIsEditMode()),this.applicationDetails.applicantList.length>0&&!this.dataShareService.editYourDetail&&this.setViewApplicantsList(!0),this.registerOnPageLoadCompleteListener()}ngAfterViewChecked(){this.utilityService.translationTitleService("postalInformation.pageTitle")}registerOnPageLoadCompleteListener(){try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(e=>{null==this.sessionService.editApplicantDetailsIdx||this.isEditingFromSamePage||(this.editApplicantIndex=this.sessionService.editApplicantDetailsIdx),this.isEditModeFlag&&this.updateFormForEdit(),e&&this.onEditMode()})}catch(e){console.log(e)}}get isEditingFromSamePage(){return this.currentPageEditFlag}set isEditingFromSamePage(e){this.currentPageEditFlag=e}checkIsEditMode(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(e){return console.log(e),!1}}onEditMode(){try{const e=this.sessionService.editApplicantDetailsIdx,t=this.sessionService.applicationDetailValue;null!=e&&t&&t.applicantList.length>e&&this.editPostalInfo(e)}catch(e){console.log(e)}}saveAndContinue(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"});this.submitCaptcha("save")}catch(e){console.log(e)}}))}submitCaptcha(e){this.utilityService.executeCapctha(c.a.captcha_action.POSTAL).then(t=>{"save"===e?this.savePostal(t):this.updatePostals(t)})}savePostal(e){var t;return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.currentFormGroup.value;this.utilityService.startNgxUiSpinner();const i=yield this.savePostalToDB(e);if(!i.hasOwnProperty("error")||null!==i.error){if(i.hasOwnProperty("error")&&i.error.code){const e=i.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e,i.error.code)}throw new Error(i.error.description)}null===(t=this.applicationDetails)||void 0===t||t.applicantList[this.editApplicantIndex].postalList.push(e),this.copyAddressToApplicant(e),this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner()}catch(e){console.log(e)}}))}updatePostal(e,t){return Object(r.a)(this,void 0,void 0,(function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return void this.commonService.touchAllFields(this.currentFormGroup);if(this.editApplicantIndex>=this.applicationDetails.applicantList.length)throw new Error("error: invalid_data_index_passed");this.submitCaptcha("update")}catch(e){console.log(e)}}))}updatePostals(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const e=this.currentFormGroup.value;this.utilityService.startNgxUiSpinner();const t=yield this.savePostalToDB(e);if(!t.hasOwnProperty("error")||null!==t.error){if(t.hasOwnProperty("error")&&t.error.code){const e=t.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(e)}throw new Error(t)}this.applicationDetails.applicantList[this.editApplicantIndex].postalList[0]=e,this.copyAddressToApplicant(e),this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner()}catch(e){console.log(e)}}))}copyAddressToApplicant(e){var t;for(const i of Object.keys(e))(null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex].hasOwnProperty(i))&&(this.applicationDetails.applicantList[this.editApplicantIndex][i]=e[i])}showErrorMsgPopup(e,t){try{const i=this.dialog.open(Ft,{data:e});i.afterClosed().subscribe(e=>Object(r.a)(this,void 0,void 0,(function*(){1069===t&&(this.utilityService.startNgxUiSpinner(),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner())}))),this.router.events.subscribe(()=>{i.close()})}catch(i){console.log(i)}}savePostalToDB(e){var t;return Object(r.a)(this,void 0,void 0,(function*(){try{const i=this.commonService.checkIfPrepaidCourier(null==e?void 0:e.courierType)?c.a.api.updatePrepaidCourierInfo:c.a.api.updateVFSCourierInfo;return e.missionCode=this.sessionService.tenent,e.centerCode=this.sessionService.centerCode,e.loginUser=this.sessionService.getLoggedEmail(),this.commonService.checkIfPrepaidCourier(null==e?void 0:e.courierType)&&(e.countryCode=this.sessionService.countryCode.toUpperCase()),e.aurn=null===(t=this.applicationDetails.applicantList[this.editApplicantIndex])||void 0===t?void 0:t.arn,yield this.httpService.payloadPost(i,e).toPromise().then(e=>e).catch(e=>{throw e})}catch(i){throw i}}))}continue(){var e,t;for(const i of null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)if(!(null==i?void 0:i.postalList)||(null===(t=null==i?void 0:i.postalList)||void 0===t?void 0:t.length)<=0)return this.message=this.commonService.translateValue("postalInformation.messages.errorMessages.message4"),void setTimeout(()=>{this.message=null},1e4);this.routeNext()}goBack(){super.routePrevious()}editPostalInfo(e){var t,i;try{this.isEditingFromSamePage=!0,this.editApplicantIndex=e,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),(null===(i=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===i?void 0:i.postalList)||(this.applicationDetails.applicantList[this.editApplicantIndex].postalList=[]),0===this.applicationDetails.applicantList[this.editApplicantIndex].postalList.length&&(this.isSamePostalInfo=!1)}catch(a){console.log(a)}}updateFormForEdit(){var e;try{const t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex].postalList[0];this.currentFormGroup.patchValue(t)}catch(t){console.log(t)}}isEditMode(){var e;return this.isEditModeFlag&&(null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList[this.editApplicantIndex].postalList.length)>0}viewApplicationSummary(){return Object(r.a)(this,void 0,void 0,(function*(){this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=null,this.isEditingFromSamePage=!1}))}onIsSamePostalInfoSelection(e){var t,i,a,n,o,s;try{if(this.currentFormGroup.reset(),e)for(const e of Object.keys(null===(i=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[0])||void 0===i?void 0:i.postalList[0]))null===(a=this.currentFormGroup.get(e))||void 0===a||a.setValue(null===(o=null===(n=this.applicationDetails)||void 0===n?void 0:n.applicantList[0])||void 0===o?void 0:o.postalList[0][e]);else null===(s=this.currentFormGroup.get("countryCode"))||void 0===s||s.setValue("USA");this.currentFormGroup.updateValueAndValidity()}catch(l){console.log(l)}}get viewIsSamePostalInfoFlag(){var e,t;try{const i=null===(t=null===(e=this.applicationDetails)||void 0===e?void 0:e.applicantList)||void 0===t?void 0:t.length;return!this.isEditModeFlag&&i>=1||this.isEditModeFlag&&this.editApplicantIndex>0}catch(i){console.log(i)}}routePrevious(){try{this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():super.routePrevious()}catch(e){console.log(e)}}updateApplicationDetailsToSession(e){this.sessionService.applicationDetailValue=e}setViewApplicantsList(e){this.viewApplicantsListFlag=e,e&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=null)}setEditModeFlag(e){this.isEditModeFlag=e}updateListenerTextField(e,t,i){var a,n,o;return Object(r.a)(this,void 0,void 0,(function*(){try{if(!e.onChangeEvent||0===e.onChangeEvent.length)return;if((null==t?void 0:t.length)>3)for(const t of e.onChangeEvent){const e=t.url,s=this.commonService.extractAndConstructParams(t.params,this.currentFormGroup);s.missionCode=this.sessionService.tenent,s.countryCode=this.sessionService.countryCode,s.centerCode=this.sessionService.centerCode,s.loginUser=this.sessionService.getLoggedEmail(),s.aurn=null===(a=this.applicationDetails)||void 0===a?void 0:a.applicantList[this.editApplicantIndex].arn;const l=yield this.httpService.payloadPost(e,s).toPromise().then(e=>e);this.commonService.removeError(i,"invalid");const r=yield this.httpService.slashParamsDoGet(c.a.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();if(this.formMetaData.metadata.dropdownDetails.state.options=r||[],null==l?void 0:l.error)this.currentFormGroup.get("state").setValue(null),i.setErrors({invalid:!0}),i.markAsTouched({onlySelf:!0}),this.message=(null===(n=null==l?void 0:l.error)||void 0===n?void 0:n.description)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(o=null==l?void 0:l.error)||void 0===o?void 0:o.code)),setTimeout(()=>{this.message=null},1e4);else{const e=l.Address.map(e=>e.StateProvinceCode)||[];if(r.length>0){const t=r.filter(t=>e.indexOf(t.isoCode)>-1);if(this.formMetaData.metadata.dropdownDetails.state.options=t,1===t.length){const e=this.formMetaData.metadata.dropdownDetails.state.valueKey;setTimeout(()=>{this.currentFormGroup.get("state").setValue(t[0][e]),this.currentFormGroup.updateValueAndValidity()},500)}}}}}catch(s){this.logger.error(s)}}))}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.b))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-postal-information"]],features:[a.yb],decls:15,vars:13,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],[4,"ngIf"],[1,"fs-24","fs-sm-42","mb-30"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-window-close-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col-12","col-sm","fs-18","mb-sm-0","mb-15"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-12","col-sm-auto"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"section",0),a.Vb(1,"mat-card",1),a.Vb(2,"p",2),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Mc(5,hs,6,1,"ng-container",3),a.Vb(6,"h1",4),a.Oc(7),a.mc(8,"translate"),a.Ub(),a.Mc(9,gs,4,4,"ng-container",3),a.Mc(10,fs,2,2,"h5",5),a.Mc(11,ys,2,2,"ng-container",3),a.Mc(12,Cs,4,4,"ng-container",3),a.Ub(),a.Mc(13,Os,3,2,"ng-container",3),a.Mc(14,Is,11,6,"ng-container",3),a.Ub()),2&e&&(a.Bb(3),a.Pc(a.nc(4,9,"applicantInformation.para.label1")),a.Bb(2),a.tc("ngIf",t.message),a.Bb(2),a.Pc(a.nc(8,11,t.currentModule.displayName)),a.Bb(2),a.tc("ngIf",!t.viewApplicantsListFlag&&!t.viewIsSamePostalInfoFlag),a.Bb(1),a.tc("ngIf",t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),a.Bb(1),a.tc("ngIf",t.viewApplicantsListFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),a.Bb(1),a.tc("ngIf",!t.viewApplicantsListFlag),a.Bb(1),a.tc("ngIf",!t.viewApplicantsListFlag),a.Bb(1),a.tc("ngIf",t.viewApplicantsListFlag))},directives:[u.a,p.o,p.n,f.a,s.u,s.n,s.g,Ya,g.a,s.m,s.p],pipes:[m.d],encapsulation:2}),e})(),data:{title:"postalInformation.pageTitle"}},{path:"",redirectTo:c.l.DASHBOARD,pathMatch:"full"}]},{path:c.l.NOT_FOUND,component:bs,data:{title:"notFound.pageTitle"}},{path:"",redirectTo:c.l.LOGIN,pathMatch:"full"},{path:"**",redirectTo:c.l.NOT_FOUND,pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}];let Ts=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[l.g.forRoot(Ls,{scrollPositionRestoration:"top",useHash:!1,onSameUrlNavigation:"reload"})],l.g]}),e})();var Vs=i("pLZG"),As=i("IzEk");const Ns=function(e){return{minute:e}};let Ds=(()=>{class e extends d.a{constructor(e,t,i,a,n){super(),this.data=e,this.dialog=t,this.dialogRef=i,this.idle=a,this.changeRef=n,this.showCancel=!1,this.displayMin="2"}ngOnInit(){setTimeout(()=>{this.displayMin="1"},6e4),this.clearTimeout=setTimeout(()=>{this.dialogRef.close(!1),this.dialog.open(zo,{disableClose:!0})},12e4)}closeModal(e){e||this.commonService.logoutAndRouteToLogin(),this.dialogRef.close(e)}ngOnDestroy(){clearInterval(this.clearTimeout)}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Re.a),a.Pb(Re.b),a.Pb(Re.h),a.Pb(Ho.b),a.Pb(a.h))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-session-management"]],inputs:{showCancel:"showCancel"},features:[a.yb],decls:24,vars:16,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"d-block"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"],["mat-raised-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"button",2),a.hc("click",(function(){return t.closeModal(!0)})),a.Qb(3,"img",3),a.Ub(),a.Ub(),a.Vb(4,"h4"),a.Vb(5,"span"),a.Oc(6),a.mc(7,"translate"),a.Ub(),a.Ub(),a.Qb(8,"hr",4),a.Vb(9,"mat-dialog-content"),a.Vb(10,"span"),a.Oc(11),a.mc(12,"translate"),a.Ub(),a.Ub(),a.Qb(13,"hr",4),a.Vb(14,"mat-dialog-actions",5),a.Vb(15,"div",6),a.Vb(16,"div",7),a.Vb(17,"button",8),a.hc("click",(function(){return t.closeModal(!1)})),a.Oc(18),a.mc(19,"translate"),a.Ub(),a.Ub(),a.Vb(20,"div",7),a.Vb(21,"button",9),a.hc("click",(function(){return t.closeModal(!0)})),a.Oc(22),a.mc(23,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/close-btn.png",a.Hc),a.Bb(3),a.Pc(a.nc(7,5,"commonSections.headerLabel.label3")),a.Bb(5),a.Pc(a.oc(12,7,"commonSections.pageDetails.para1",a.xc(14,Ns,t.displayMin))),a.Bb(7),a.Qc(" ",a.nc(19,10,"commonSections.buttons.button2")," "),a.Bb(4),a.Qc(" ",a.nc(23,12,"commonSections.buttons.button1")," "))},directives:[Re.d,Re.f,Re.c,f.a],pipes:[m.d],encapsulation:2}),e})();var Es=i("4h0v"),Ps=i("BU3v");function ws(e,t){if(1&e&&(a.Vb(0,"div",1),a.Vb(1,"span",2),a.Oc(2),a.Ub(),a.Qb(3,"i",3),a.Ub()),2&e){const e=a.lc();a.tc("ngClass",null!=e.receivedMessage&&e.receivedMessage.isError?"alert alert-info":"alert alert-primary"),a.Bb(2),a.Pc(null==e.receivedMessage?null:e.receivedMessage.message)}}let Us=(()=>{class e{constructor(){this.showMessage=!1}ngOnChanges(){this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},5e3)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-notification"]],inputs:{receivedMessage:"receivedMessage"},features:[a.zb],decls:1,vars:1,consts:[["class","border-0 border-brand-blue border-top-4 fade fixed-top pr-35 rounded-0 show z-index-1090","role","alert",3,"ngClass",4,"ngIf"],["role","alert",1,"border-0","border-brand-blue","border-top-4","fade","fixed-top","pr-35","rounded-0","show","z-index-1090",3,"ngClass"],[1,"c-brand-blue"],["data-dismiss","alert",1,"c-brand-blue","fa","fa-times-circle-o","fs-25","position-absolute","right-8","top-10","cursor-pointer"]],template:function(e,t){1&e&&a.Mc(0,ws,4,2,"div",0),2&e&&a.tc("ngIf",!(null==t.receivedMessage||!t.receivedMessage.message)&&t.showMessage)},directives:[p.o,p.m],encapsulation:2}),e})();function Bs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"a",15),a.hc("click",(function(){a.Fc(e);const i=t.$implicit;return a.lc(3).languageSelection(i.code)})),a.Oc(1),a.Ub()}if(2&e){const e=t.$implicit;a.Bb(1),a.Pc(e.languagename)}}const Ms=function(){return[]};function ks(e,t){if(1&e&&(a.Vb(0,"div",13),a.Mc(1,Bs,2,1,"a",14),a.Ub()),2&e){const e=a.lc(2);a.Bb(1),a.tc("ngForOf",e.allowedLanguages||a.wc(1,Ms))}}function Fs(e,t){if(1&e&&(a.Vb(0,"div",10),a.Vb(1,"button",11),a.Oc(2),a.Ub(),a.Mc(3,ks,2,2,"div",12),a.Ub()),2&e){const e=a.lc();a.Bb(1),a.tc("ngClass",(null==e.allowedLanguages?null:e.allowedLanguages.length)>0?"btn border dropdown-toggle":"btn border"),a.Bb(1),a.Qc(" ",e.currentLanguage," "),a.Bb(1),a.tc("ngIf",(null==e.allowedLanguages?null:e.allowedLanguages.length)>0)}}function _s(e,t){1&e&&a.Qb(0,"button",16)}function xs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"li",26),a.Vb(1,"a",27),a.hc("click",(function(){return a.Fc(e),a.lc(2).saveApplicationAsDraft()})),a.Oc(2),a.mc(3,"translate"),a.Ub(),a.Ub()}2&e&&(a.Bb(2),a.Pc(a.nc(3,1,"commonSections.buttons.button13")))}function Rs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",17),a.Vb(1,"ul",18),a.Vb(2,"li",19),a.Vb(3,"a",20),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Vb(6,"div",21),a.Vb(7,"a",22),a.hc("click",(function(){return a.Fc(e),a.lc().routeToDashboard()})),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Qb(10,"div",23),a.Vb(11,"a",24),a.hc("click",(function(){return a.Fc(e),a.lc().logout()})),a.Oc(12),a.mc(13,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Mc(14,xs,4,3,"li",25),a.Ub(),a.Ub()}if(2&e){const e=a.lc();a.Bb(4),a.Qc(" ",a.nc(5,4,"header.headerLabel.label1")," "),a.Bb(4),a.Pc(a.nc(9,6,"header.headerLabel.label2")),a.Bb(4),a.Qc(" ",a.nc(13,8,"header.headerLabel.label3")," "),a.Bb(2),a.tc("ngIf",e.viewButton)}}function Gs(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",17),a.Vb(1,"ul",18),a.Vb(2,"li",19),a.Vb(3,"a",28),a.hc("click",(function(){return a.Fc(e),a.lc().logout()})),a.Oc(4),a.mc(5,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Ub()}2&e&&(a.Bb(4),a.Qc(" ",a.nc(5,1,"header.headerLabel.label13")," "))}const js=function(e){return{"active cursor-pointer":e}},$s=function(e){return{active:e}};function Qs(e,t){if(1&e){const e=a.Wb();a.Tb(0),a.Vb(1,"li",34),a.hc("click",(function(){a.Fc(e);const i=t.index;return a.lc(2).checkAndNavigateToModule(i+1)})),a.Vb(2,"a",35),a.Vb(3,"span",36),a.Oc(4),a.Ub(),a.Vb(5,"span",37),a.Oc(6,"\u2713"),a.Ub(),a.Vb(7,"span",38),a.Oc(8),a.mc(9,"translate"),a.Ub(),a.Ub(),a.Ub(),a.Sb()}if(2&e){const e=t.$implicit,i=t.index,n=a.lc(2);a.Bb(1),a.tc("ngClass",a.xc(6,js,n.cmpltdFieldIdx>=i||n.currentModuleIdx===i)),a.Bb(1),a.tc("ngClass",a.xc(8,$s,n.cmpltdFieldIdx>=i)),a.Bb(2),a.Pc(i+1),a.Bb(4),a.Pc(a.nc(9,4,null==e?null:e.displayName))}}function Ys(e,t){if(1&e&&(a.Tb(0),a.Vb(1,"li",39),a.Vb(2,"span",40),a.Oc(3),a.mc(4,"translate"),a.Ub(),a.Qb(5,"br"),a.Vb(6,"span",41),a.Oc(7),a.mc(8,"number"),a.Ub(),a.Ub(),a.Sb()),2&e){const e=a.lc(2);a.Bb(3),a.Pc(a.nc(4,3,"header.headerLabel.label15")),a.Bb(4),a.Rc("",e.currencyCode&&"null"!=e.currencyCode?e.currencyCode:""," ",a.oc(8,5,e.cartAmount,"1.2-2"),"")}}function Ws(e,t){if(1&e&&(a.Vb(0,"div",29),a.Vb(1,"div",30),a.Vb(2,"ul",31),a.Mc(3,Qs,10,10,"ng-container",32),a.Mc(4,Ys,9,8,"ng-container",33),a.Ub(),a.Ub(),a.Ub()),2&e){const e=a.lc();a.Bb(3),a.tc("ngForOf",e.headerData)("ngForTrackBy",e.trackByFn),a.Bb(1),a.tc("ngIf",e.cartAmount&&"0"!=e.cartAmount)}}let Hs=(()=>{class e extends d.a{constructor(){super(),this.isUserLoggedIn=!1,this.headerData=[],this.sendMessage={},this.isDraftVisible=!1,this.currentModuleIdx=-1,this.currencyCode=null,this.subs.sink=this.router.events.subscribe(e=>{this.currentLanguage=Ps.a.getName(window.location.pathname.split("/")[2])})}ngOnInit(){this.registerLoginEvent(),this.trackCurrentModule(),this.handleAlertBar(),this.subscribeNavigationEnd(),this.totalFees()}totalFees(){this.subs.sink=this.dataShareService.cartAmount.subscribe(e=>{this.cartAmount=e,this.currencyCode=this.sessionService.currencyCode})}checkAndNavigateToModule(e){return Object(r.a)(this,void 0,void 0,(function*(){try{if(!this.sessionService.applicantAplhaId)return}catch(e){console.log(e)}}))}getApplicationIdx(e){try{if(!e)return;return this.headerData.findIndex(t=>this.utilityService.strictCompare(t.logicalName,e))}catch(t){throw t}}onSuccessfulLogin(e=!1){return Object(r.a)(this,void 0,void 0,(function*(){try{this.loadNavbar(),this.registerSchemaChange(),this.isUserLoggedIn="boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e)}catch(t){console.log(t)}}))}loadNavbar(){try{const e=this.extractHeaderData(this.sessionService.getAllModulesSchema());e||this.sessionService.updateLoginStatus(!1),this.headerData=e}catch(e){throw e}}registerSchemaChange(){this.subs.sink=this.sessionService.appSchema$.subscribe(()=>{this.loadNavbar()})}extractHeaderData(e=[]){return e.map(e=>Object({displayName:e.displayName,routeUrl:e.routeUrl,logicalName:e.logicalName,displayPosition:e.displayPosition}))}logout(){this.dataShareService.totalFees.next(void 0),this.commonService.logoutAndRouteToLogin()}registerLoginEvent(){this.subs.sink=this.sessionService.isLoggedIn.subscribe(e=>{const t="boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e);t?this.onSuccessfulLogin(t):this.isUserLoggedIn=!1})}get viewButton(){try{return this.isDraftVisible&&!this.isDashboard&&this.utilityService.strictCompare(this.router.url.indexOf(c.l.REVIEW_AND_PAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(c.l.DOCUMENT_UPLOAD),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(c.l.PAYMENT_GATEWAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(c.l.PAYMENT_CONFIRMATION),-1)}catch(e){return!1}}trackCurrentModule(){this.subs.sink=this.sessionService.currentModule$.pipe(Object(Wt.a)()).subscribe(e=>{this.isDraftVisible=!1,e&&e.hasOwnProperty("displayPosition")&&(this.isDraftVisible=this.utilityService.strictCompare(c.a.SAVE_AS_DRAFT_EXCEPTION_LIST.indexOf(e.logicalName),-1),this.setCurrentModuleIdx(null==e?void 0:e.logicalName))})}setCurrentModuleIdx(e){try{this.currentModuleIdx=this.getApplicationIdx(e)}catch(t){console.log(t)}}handleAlertBar(){this.sendMessage=null,this.subs.sink=this.commonService.showAlertBar$.subscribe(e=>{this.sendMessage=e})}setCmpltdFieldIdx(e){this.cmpltdFieldIdx=e}routeToDashboard(){this.isUserLoggedIn?(this.commonService.setSessionValues(null,null,null,null,null),this.sessionService.applicationStatus=null,this.setCmpltdFieldIdx(0),this.commonService.routeToDashboard()):this.commonService.routeToLogin()}get viewHeader(){try{return!!(this.isUserLoggedIn&&this.headerData&&!this.isDashboard&&this.headerData.length>0&&this.utilityService.strictCompare(c.a.NAVBAR_EXCEPTION_LIST.indexOf(this.router.url),-1))}catch(e){return console.log(e),!1}}get showDropDown(){try{return this.sessionService.loginStatus&&!c.a.DROP_DOWN_EXCLUDE_ROUTE.some(e=>this.router.url.indexOf(e)>=0)}catch(e){return console.log(e),!1}}get showLanguageDropdown(){try{return!this.sessionService.loginStatus}catch(e){return console.log(e),!1}}get isDashboard(){try{return this.router.url.indexOf(c.l.DASHBOARD)>-1||this.router.url.indexOf(c.l.ADDITIONAL_DOCUMENT)>-1||this.router.url.indexOf(c.l.PAYMENT_CONFIRMATION)>-1||this.router.url.indexOf(c.l.REVIEW_APPLICATION)>-1||this.router.url.indexOf(c.l.NOT_FOUND)>-1}catch(e){console.log(c.b.INVALID_URL)}}subscribeNavigationEnd(){try{this.subs.sink=this.router.events.pipe(Object(Vs.a)(e=>e instanceof l.c),Object(Wt.a)()).subscribe(e=>{this.handleTitleHighlight(e.url)})}catch(e){console.log(e)}}languageSelection(e){const t="/"+this.sessionService.countryCode+"/"+e+"/"+this.sessionService.tenent+"/"+c.l.LOGIN;this.utilityService.handleCaptcha(),this.router.navigateByUrl(t)}get allowedLanguages(){return this.sessionService.appMissionLanguage}handleTitleHighlight(e){return Object(r.a)(this,void 0,void 0,(function*(){try{const t=c.a.NAVBAR_EXCEPTION_LIST,i=e.split("/").pop();if(!this.utilityService.strictCompare(t.indexOf(i),-1)||!this.sessionService.loginStatus)return;const a=this.getApplicationIdx(this.sessionService.completedModuleName);return this.setCmpltdFieldIdx(a),this.utilityService.strictCompare(i,"services")&&this.setCurrentModuleIdx(c.c.SERVICES),void(this.utilityService.strictCompare(i,"review-pay")&&this.setCurrentModuleIdx(c.c.REVIEW_PAYMENT))}catch(t){Object(_t.a)(t)}}))}saveApplicationAsDraft(){return Object(r.a)(this,void 0,void 0,(function*(){try{this.routeToDashboard()}catch(e){console.log(`Error Status: ${e.status}\nMessage: ${e.message}`)}}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["header"]],features:[a.yb],decls:11,vars:7,consts:[[1,"navbar"],[1,"container","navbar-expand-sm"],[1,"navbar-brand","cursor-pointer",3,"click"],["alt","LIFT VFS Global",3,"src"],[1,"ml-auto"],["class","dropdown",4,"ngIf"],["class","navbar-toggler","type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",4,"ngIf"],["class","collapse navbar-collapse navbarToggle",4,"ngIf"],[3,"receivedMessage"],["class","steps",4,"ngIf"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",3,"ngClass"],["class","dropdown-menu","aria-labelledby","dropdownMenuButton",4,"ngIf"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","href","javascript:void(0);",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",1,"navbar-toggler"],[1,"collapse","navbar-collapse","navbarToggle"],[1,"navbar-nav","ml-auto","align-items-sm-center"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","c-brand-orange"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-right","mb-15","cursor-pointer"],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[1,"dropdown-item","bg-brand-orange","text-white","cursor-pointer","c-inherit",3,"click"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link","btn","btn-outline-brand-orange","rounded-5",3,"click"],[1,"nav-link","c-inherit","cursor-pointer",3,"click"],[1,"steps"],[1,"container"],[1,"steps-nav","navbar-nav","navbar-expand-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"nav-item",3,"ngClass","click"],[1,"nav-link",3,"ngClass"],[1,"sr-num"],[1,"check-mark"],[1,"name","text-wrap"],[1,"nav-item","total-amt"],[1,"c-brand-grey-para","fs-13","fs-lg-inherit"],[1,"c-brand-green","fs-13","fs-lg-inherit","text-overflow"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"a",2),a.hc("click",(function(){return t.routeToDashboard()})),a.Qb(3,"img",3),a.Ub(),a.Qb(4,"span",4),a.Mc(5,Fs,4,3,"div",5),a.Mc(6,_s,1,0,"button",6),a.Mc(7,Rs,15,10,"div",7),a.Mc(8,Gs,6,3,"div",7),a.Ub(),a.Ub(),a.Qb(9,"app-notification",8),a.Mc(10,Ws,5,3,"div",9)),2&e&&(a.Bb(3),a.vc("src","",t.getGlobalImagePath,"/vfs-global-logo.png",a.Hc),a.Bb(2),a.tc("ngIf",t.showLanguageDropdown),a.Bb(1),a.tc("ngIf",t.showDropDown),a.Bb(1),a.tc("ngIf",t.showDropDown&&!t.isDashboard),a.Bb(1),a.tc("ngIf",t.showDropDown&&t.isDashboard),a.Bb(1),a.tc("receivedMessage",t.sendMessage),a.Bb(1),a.tc("ngIf",t.viewHeader))},directives:[p.o,Us,p.m,p.n],pipes:[m.d,p.f],encapsulation:2}),e})(),zs=(()=>{class e{onKeyDown(e){if(!n.a.localReload&&(116===(e.which||e.keyCode)||82===e.keyCode&&e.ctrlKey))return e.preventDefault(),!1;if(8===e.keyCode||8===e.which||"Backspace"===e.code){let t=!0;const i=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"],a=e.target;if(!a.disabled&&!e.target.readOnly)if(a.isContentEditable)t=!1;else if("INPUT"===a.nodeName){let e=a.type;e&&(e=e.toLowerCase()),i.indexOf(e)>-1&&(t=!1)}else"TEXTAREA"===a.nodeName&&(t=!1);if(t)return e.preventDefault(),!1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Kb({type:e,selectors:[["","appKeydown",""]],hostBindings:function(e,t){1&e&&a.hc("keydown",(function(e){return t.onKeyDown(e)}),!1,a.Dc)}}),e})();var Ks=i("gren"),Js=i("kiQV");let qs=(()=>{class e{constructor(e){this.utilityService=e,this.version=Js.version}ngOnInit(){this.currentYear=this.utilityService.momentInstance().year()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(Gt.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["footer"]],decls:3,vars:5,consts:[[1,"container","c-brand-grey-para","py-15"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Oc(1),a.mc(2,"translate"),a.Ub()),2&e&&(a.Bb(1),a.Sc(" AR-",t.version," \xa9 ",t.currentYear," ",a.nc(2,3,"footer.pageDetails.para1")," "))},pipes:[m.d],encapsulation:2}),e})();function Zs(e,t){1&e&&a.Qb(0,"footer",3)}const Xs=function(e){return{"logged-in":e}};let el=(()=>{class e extends Es.a{constructor(e,t,i,a,n,o,s,l,r,c,d){super(),this.sessionService=e,this.router=t,this.commonService=i,this.idle=a,this.element=n,this.changeRef=o,this.dialog=s,this.utilityService=l,this.translate=r,this.renderer=c,this.activatedRoute=d,this.count=0,this.initAppFundamentals()}ngAfterViewInit(){const e=this.renderer.selectRootElement("#loader");this.renderer.setStyle(e,"display","none")}ngOnInit(){this.utilityService.setTitle();const e="boolean"!=typeof this.sessionService.loginStatus?Boolean(JSON.parse(this.sessionService.loginStatus)):Boolean(this.sessionService.loginStatus),t=window.location.pathname;e&&!n.a.localReload&&-1===t.indexOf(c.l.PAYMENT_CONFIRMATION)&&this.commonService.logoutAndRouteToLogin()}initAppFundamentals(){try{this.utilityService.handleCaptcha(),n.a.production&&(this.utilityService.appendScriptForCookies(),this.utilityService.appendGaTrackingCode()),this.sessionService.loginStatus||this.sessionService.clearSession(),this.subscribeNavigationEnd(),this.registerLoginEvent(),this.initializeErrors(),this.commonService.loadClientIp()}catch(e){this.logger.error(e)}}subscribeNavigationEnd(){try{this.subs.sink=this.router.events.pipe(Object(Vs.a)(e=>e instanceof l.c),Object(Wt.a)()).subscribe(e=>{this.translate.use(e.url.split("/")[2]),this.translate.addLangs([e.url.split("/")[2]]),n.a.localReload||this.utilityService.disableBrowserBack(),n.a.production&&this.utilityService.fireGAEvent(),this.utilityService.closeAllDialog(),this.urlValidation(e.url);const t=this.utilityService.getChild(this.activatedRoute);this.subs.sink=t.data.subscribe(e=>{this.utilityService.translationTitleService(e.title)})})}catch(e){console.log(e)}}urlValidation(e){if(e.split("/")[2]&&e.length>=3)if(this.sessionService.getLoggedEmail()){if(e.split("/")[3]!==this.sessionService.tenent||e.split("/")[1]!==this.sessionService.countryCode||e.split("/")[2]!==this.sessionService.appLanguageCode)return void this.commonService.routeToDashboard()}else this.sessionService.tenent=e.split("/")[3],this.sessionService.countryCode=e.split("/")[1],this.sessionService.appLanguageCode=e.split("/")[2]}initializeErrors(){this.subs.sink=this.sessionService.getErrors().pipe(Object(As.a)(1)).subscribe(e=>{this.openUnauthorizedPop(e)})}registerLoginEvent(){this.subs.sink=this.sessionService.isLoggedIn.subscribe((e=!1)=>{("boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e))&&this.sessionStarts()})}get setNavBarClassStatus(){try{return this.utilityService.strictCompare(c.a.NAVBAR_EXCEPTION_LIST.indexOf(this.router.url.split("/").pop()),-1)&&!!this.sessionService.loginStatus}catch(e){return console.log(e),!1}}sessionStarts(){this.idle.setIdle(n.a.sessionTime),this.idle.setInterrupts([new Ho.a(this.element.nativeElement,"keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll")]),this.idleOnTimeout$=this.idle.onIdleStart.subscribe(()=>{this.count++,1===this.count&&this.sessionService.getJWT()&&this.openSessionPopup()}),this.reset()}reset(){this.idle.watch()}refreshUserState(){this.idle.isIdling()||this.reset()}openSessionPopup(){this.dialog.open(Ds,{disableClose:!0}).afterClosed().subscribe(e=>{e?(this.count=0,this.reset(),this.changeRef.markForCheck()):(this.count=0,this.idle.stop(),this.idle.ngOnDestroy(),this.changeRef.markForCheck(),this.idleOnTimeout$.unsubscribe())},e=>{this.count=0,this.idle.stop(),this.idle.ngOnDestroy(),this.changeRef.markForCheck(),this.idleOnTimeout$.unsubscribe()})}openUnauthorizedPop(e){const t=this.dialog.open(Wo,{data:e});this.utilityService.stopNgxUiSpinner(),this.subs.sink=t.afterClosed().subscribe(e=>{!0===e&&this.commonService.logoutAndRouteToLogin()})}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(K.a),a.Pb(l.f),a.Pb(J.a),a.Pb(Ho.b),a.Pb(a.l),a.Pb(a.h),a.Pb(Re.b),a.Pb(Gt.a),a.Pb(m.e),a.Pb(a.E),a.Pb(l.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-root"]],hostBindings:function(e,t){1&e&&a.hc("mousemove",(function(){return t.refreshUserState()}),!1,a.Ec)},features:[a.yb],decls:5,vars:4,consts:[[1,"header-main","bg-white","fixed-top",3,"ngClass"],["appKeydown","",1,"clearfix","main-container"],["class","footer-bottom mt-auto",4,"ngIf"],[1,"footer-bottom","mt-auto"]],template:function(e,t){1&e&&(a.Qb(0,"header",0),a.Vb(1,"div",1),a.Qb(2,"router-outlet"),a.Ub(),a.Mc(3,Zs,1,0,"footer",2),a.Qb(4,"ngx-ui-loader")),2&e&&(a.tc("ngClass",a.xc(2,Xs,t.setNavBarClassStatus)),a.Bb(3),a.tc("ngIf","undefined"!==(null==t.sessionService?null:t.sessionService.tenent)))},directives:[Hs,p.m,zs,l.h,p.o,Ks.d,qs],encapsulation:2}),e})();var tl=i("R1ws"),il=i("iadO");const al=[il.c,Ii.b,h.c,g.b,f.b,te.b,bi.b,il.c,ae.i,te.b,h.c,Hi.c,u.b,nt.b,Re.g,ze.c,Ri.b,b.d];let nl=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[p.c,...al],il.c,Ii.b,h.c,g.b,f.b,te.b,bi.b,il.c,ae.i,te.b,h.c,Hi.c,u.b,nt.b,Re.g,ze.c,Ri.b,b.d]}),e})();var ol=i("gfTr");const sl=[s.h,s.r,p.c,nl,ol.a,wi.a];let ll=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},providers:[{provide:ee.b,useClass:Pi}],imports:[[sl,m.c.forChild(),ee.d],s.h,s.r,p.c,nl,ol.a,wi.a,m.c]}),e})();var rl=i("Yt5x"),cl=i("un/a"),dl=i("vkgz"),ul=i("JIr8"),pl=i("I65S"),ml=i("E3Zs");let bl=(()=>{class e{constructor(e,t,i,a){this.sessionService=e,this.commonService=t,this.logger=i,this.utilityService=a,this.responseCacheMap=new Map,this.postReqBodyMap=new Map;try{this.subscriptions$=this.sessionService.isLoggedIn.subscribe((e=!1)=>{!("boolean"!=typeof e?Boolean(JSON.parse(e)):Boolean(e))&&this.subscriptions$&&(this.responseCacheMap=new Map,this.postReqBodyMap=new Map)})}catch(n){console.log(n)}}intercept(e,t){const i=this.responseCacheMap.get(e.urlWithParams);if(this.utilityService.strictCompare(e.method,c.a.HTTP_METHODS.GET)){if(i)return Object(pl.of)(i)}else if(this.utilityService.strictCompare(e.method,c.a.HTTP_METHODS.POST)&&i){if(e.url.indexOf(c.a.api.appointmentFees)>-1&&this.sessionService.updateFees)return this.getDataFromApi(e,t);const a=JSON.parse(JSON.stringify(e.body));if(delete a.api_captcha_fees,this.postReqBodyMap.get(JSON.stringify(a)))return Object(pl.of)(i)}return this.getDataFromApi(e,t)}getDataFromApi(e,t){try{return t.handle(this.modifyRequest(e)).pipe(Object(cl.a)(1),Object(dl.a)(t=>{t instanceof xt.i&&this.cacheResponse(e,t)}),Object(We.a)(e=>this.modifyResponse(e)),Object(ul.a)(e=>this.handleError(e)))}catch(i){this.logger.error(i)}}modifyRequest(e){e.body&&(e=this.modifyDateFormat(e));const t=e.headers.set("route",window.location.pathname.split("/").slice(1,4).join("/")),i=[c.a.api.masterGender,c.a.api.masterPassportType,c.a.api.masterCourierType,c.a.api.masterCourierSercProvider,c.a.api.masterMission,c.a.api.masterCountry].find(t=>e.urlWithParams.indexOf(t)>-1);return e.clone({headers:t,url:i?`${e.url}/${this.sessionService.appCultureCode}`:e.url})}modifyDateFormat(e){try{let t=e.clone();const i=this.modifyDateHelper(t.body);return t=t.clone({body:i}),t}catch(t){return e}}modifyDateHelper(e){try{if("object"==typeof e)for(const t of Object.keys(e))if(Array.isArray(e[t]))for(const i of e[t])this.modifyDateHelper(i);else"object"==typeof e[t]&&this.isNgbDateObject(e[t])&&(e[t]=this.commonService.constructDate(e[t],Rt.a.D_M_Y_SLASH));return e}catch(t){throw t}}isNgbDateObject(e){try{return!(!e.hasOwnProperty(Rt.c.month)||!e.hasOwnProperty(Rt.c.year))}catch(t){return!1}}modifyResponse(e){try{let t=e;return e&&e.hasOwnProperty("body")&&e.url.indexOf(c.a.api.masterGender)>-1&&(t=e.clone({body:e.body.genders})),e&&e.hasOwnProperty("body")&&e.url.indexOf(c.a.api.masterPassportType)>-1&&(t=e.clone({body:e.body.passportTypes})),e&&e.hasOwnProperty("body")&&e.url.indexOf(c.a.api.masterCourierType)>-1&&(t=e.clone({body:e.body.courierTypes})),e&&e.hasOwnProperty("body")&&e.url.indexOf(c.a.api.masterCourierSercProvider)>-1&&(t=e.clone({body:e.body.courierServiceProviders})),e&&e.hasOwnProperty("body")&&e.url.indexOf(c.a.api.masterState)>-1&&(t=e.clone({body:e.body.states})),this.logger.log("Response: ",t),t}catch(t){return e}}handleError(e){if(e instanceof xt.e){if(e.error){const{statusCode:t}=e.error;this.commonService.onResponsesAlertBar({statusCode:t,isError:!0})}return this.logger.error("Error occured: ",e),e.error instanceof ErrorEvent||e.url.includes("logout")||401!==e.status&&500!==e.status&&403!==e.status?Object(_t.a)(e):500===e.status?(this.commonService.logoutAndRouteToNotFound(),Object(_t.a)(e)):403===e.status?(this.commonService.onResponsesAlertBar({statusCode:e.status,isError:!0}),this.commonService.routeToNotFound(),Object(_t.a)(e)):(this.sessionService.addErrors(["401"]),Object(_t.a)(e))}return Object(_t.a)(e)}cacheResponse(e,t){try{let i=!1;if(this.utilityService.strictCompare(e.method,c.a.HTTP_METHODS.GET)){const a=["/master/",c.a.api.vasByVac,c.a.api.appointmentSlots];for(const n of a)e.urlWithParams.indexOf(n)>-1&&!this.responseCacheMap.has(e.urlWithParams)&&(e.urlWithParams.endsWith(c.a.api.masterGender)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.genders})):e.urlWithParams.endsWith(c.a.api.masterPassportType)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.passportTypes})):e.urlWithParams.endsWith(c.a.api.masterCourierType)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.courierTypes})):e.urlWithParams.endsWith(c.a.api.masterCourierSercProvider)?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.courierServiceProviders})):e.urlWithParams.indexOf(c.a.api.masterState)>-1?this.responseCacheMap.set(e.urlWithParams,t.clone({body:t.body.states})):this.responseCacheMap.set(e.urlWithParams,t),i=!0)}else if(this.utilityService.strictCompare(e.method,c.a.HTTP_METHODS.POST)){const a=[c.a.api.appointmentFees];for(const n of a)if(e.urlWithParams.indexOf(n)>-1){this.responseCacheMap.set(e.urlWithParams,t);const a=JSON.parse(JSON.stringify(e.body));delete a.api_captcha_fees,this.postReqBodyMap.set(JSON.stringify(a),t),i=!0}}return i}catch(i){console.log(i)}}}return e.\u0275fac=function(t){return new(t||e)(a.dc(K.a),a.dc(J.a),a.dc(ml.b),a.dc(Gt.a))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hl={bgsColor:"#40543b",fgsColor:"rgba(12,11,11,0.95)",fgsSize:40,logoSize:50,pbColor:"red",hasProgressBar:!1};var gl=i("FbN+"),fl=i("PN1e"),vl=i("ogxq"),yl=i("VjyN"),Sl=i("Cfvw");let Cl=(()=>{class e{constructor(e){this.httpClient=e,this.cdaClient=Object(yl.a)(n.a.contentful)}getTranslation(){const e=JSON.parse(localStorage.getItem("app_mission_language")||null),t=window.location.pathname.split("/");let i,a;if(((null==e?void 0:e.filter(e=>e.code===t[2]).length)>0||(null==e?void 0:e.lenght)>0)&&(i=t[2]),a=[`${t[3]} > ${t[2]} > ${t[1]}`,`${t[3]} > ${t[2]}`],i&&a.push(i),a.push("vfs"),n.a.localtranslation){const e=n.a.defaultLang;this.cultureCode=n.a.defaultCultureCode;const t=this.localLoad(e);return Object(Sl.a)(t)}return Object(Sl.a)(this.cdaClient.getEntries({content_type:"i18n","fields.locale":a.join("&"),limit:500}).then(e=>{var t;if((null===(t=e.items)||void 0===t?void 0:t.length)>0)return this.cultureCode=e.items[0].fields.languageJson.culturecode||n.a.defaultCultureCode,e.items[0].fields.languageJson;{const e=i||"en";return this.cultureCode=n.a.defaultCultureCode,this.localLoad(e)}},e=>{const t=i||"en";return this.cultureCode=n.a.defaultCultureCode,this.localLoad(t)}))}localLoad(e){return new Promise((t,i)=>{this.httpClient.get(`_angular/assets/i18n/${e}.json`).subscribe(e=>{t(e)})})}set cultureCode(e){localStorage.setItem(c.p,e)}}return e.\u0275fac=function(t){return new(t||e)(a.dc(xt.c))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ol=i("5+tZ"),Il=i("dkDA"),Ll=i("3E0/"),Tl=i("kgNN"),Vl=i("LjYc"),Al=i("2XTe");let Nl=(()=>{class e{constructor(){}intercept(e,t){const{url:i,method:a}=e;return Object(Yt.a)(null).pipe(Object(Ol.a)((function(){switch(!0){case i.endsWith(c.a.schema.onBoarding)&&"GET"===a:return n(Al.onBoarding);case i.endsWith(c.a.schema.forgotPassword)&&"GET"===a:return n(Al.forgotPassword);case i.endsWith(c.a.schema.login)&&"GET"===a:return n(Al.login);case i.endsWith(c.a.schema.postLogin)&&"GET"===a:return n(Al[c.a.SCHEMA.IHC]);case i.match(c.a.api.documentUpload)&&"POST"===a:return n({status:200,message:"success"});case i.endsWith(c.a.data.passportDetails)&&"GET"===a:return n(Vl.passportDetailsData);case i.endsWith("country-code")&&"GET"===a:return n(Vl.countryCodes);case i.endsWith("salutations")&&"GET"===a:return n(Vl.salutations);case i.endsWith("passport-type")&&"GET"===a:return n(Vl.passportType);case i.endsWith("place-of-issue")&&"GET"===a:return n(Vl.placeOfIssue);case i.endsWith("country-of-issue")&&"GET"===a:return n(Vl.countryOfIssue);case i.endsWith("province")&&"GET"===a:return n(Vl.province);case i.endsWith("accomodation")&&"GET"===a:return n([]);case i.endsWith("district")&&"GET"===a:return n(Vl.otherDistricts);case i.endsWith("subDistrict")&&"GET"===a:return n([]);case i.endsWith("district/1")&&"GET"===a:return n(Vl.otherDistricts);case i.endsWith("district/2")&&"GET"===a:return n(Vl.angThongDistricts);case i.endsWith("fingerPrintCollected")&&"GET"===a:return n(Vl.yesNoValue);default:return t.handle(e)}}))).pipe(Object(Il.a)()).pipe(Object(Ll.a)(500)).pipe(Object(Tl.a)());function n(e){return Object(Yt.a)(new xt.i({status:200,body:e}))}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Dl={provide:xt.a,useClass:Nl,multi:!0};Bn.b.registerPlugins([fl.a,vl.a]);let El=(()=>{class e{constructor(e){rl.a.setInjector(e)}}return e.\u0275mod=a.Nb({type:e,bootstrap:[el]}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)(a.dc(a.r))},providers:[Dl,{provide:xt.a,useClass:bl,multi:!0},{provide:a.d,useFactory:e=>()=>e.getMissionLanguage(),deps:[He.a],multi:!0},{provide:ae.d,useValue:"en-GB"},p.e],imports:[[o.a,s.h,s.r,Ts,tl.c,tl.b,xt.d,m.c.forRoot({loader:{provide:m.b,useClass:Cl,deps:[xt.c]}}),ll,Ks.b.forRoot(hl),Ks.a.forRoot({showForeground:!0}),gl.a.forRoot(),Bn.b,ml.a.forRoot({level:ml.c.ERROR,serverLogLevel:n.a.serverLogLevel,disableConsoleLogging:n.a.disableConsoleLogging})]]}),e})();n.a.production&&(Object(a.S)(),window&&(window.console.log=window.console.warn=window.console.info=window.console.error=()=>{})),o.e().bootstrapModule(El).catch(e=>console.error(e))},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[1,0,5]]]);